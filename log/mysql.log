
2024/06/13 09:25:45 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[1.824ms] [rows:-] SELECT DATABASE()

2024/06/13 09:25:45 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[15.235ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 09:25:45 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[8.963ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'article' AND table_type = 'BASE TABLE'

2024/06/13 09:25:45 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[2.733ms] [rows:-] SELECT DATABASE()

2024/06/13 09:25:45 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[1.578ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 09:25:45 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[13.255ms] [rows:-] SELECT * FROM `article` LIMIT 1

2024/06/13 09:25:45 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[5.276ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'article' ORDER BY ORDINAL_POSITION

2024/06/13 09:25:45 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[1.117ms] [rows:-] SELECT DATABASE()

2024/06/13 09:25:45 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[0.933ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 09:25:45 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[2.211ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'tools' AND table_type = 'BASE TABLE'

2024/06/13 09:25:45 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[1.024ms] [rows:-] SELECT DATABASE()

2024/06/13 09:25:45 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[0.908ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 09:25:45 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[8.958ms] [rows:-] SELECT * FROM `tools` LIMIT 1

2024/06/13 09:25:45 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[1.901ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'tools' ORDER BY ORDINAL_POSITION

2024/06/13 09:25:45 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[1.032ms] [rows:-] SELECT DATABASE()

2024/06/13 09:25:45 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[1.468ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 09:25:45 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[2.149ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'label' AND table_type = 'BASE TABLE'

2024/06/13 09:25:45 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[1.029ms] [rows:-] SELECT DATABASE()

2024/06/13 09:25:45 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[1.350ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 09:25:45 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[7.483ms] [rows:-] SELECT * FROM `label` LIMIT 1

2024/06/13 09:25:45 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[1.544ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'label' ORDER BY ORDINAL_POSITION

2024/06/13 09:25:45 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[1.071ms] [rows:-] SELECT DATABASE()

2024/06/13 09:25:45 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[0.719ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 09:25:45 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[2.197ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'user_info' AND table_type = 'BASE TABLE'

2024/06/13 09:25:45 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[1.079ms] [rows:-] SELECT DATABASE()

2024/06/13 09:25:45 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[0.886ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 09:25:45 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[9.732ms] [rows:-] SELECT * FROM `user_info` LIMIT 1

2024/06/13 09:25:45 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[2.316ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'user_info' ORDER BY ORDINAL_POSITION

2024/06/13 09:25:45 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[1.025ms] [rows:-] SELECT DATABASE()

2024/06/13 09:25:45 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[0.798ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 09:25:45 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[1.931ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'user_login' AND table_type = 'BASE TABLE'

2024/06/13 09:25:45 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[1.028ms] [rows:-] SELECT DATABASE()

2024/06/13 09:25:45 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[1.058ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 09:25:45 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[9.293ms] [rows:-] SELECT * FROM `user_login` LIMIT 1

2024/06/13 09:25:45 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[2.384ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'user_login' ORDER BY ORDINAL_POSITION

2024/06/13 09:30:18 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:43
[7.713ms] [rows:20] SELECT A.article_id, A.blog_title, L.label_name, A.created_time, A.view_num FROM article AS A JOIN label AS L ON A.label_id = L.label_id ORDER BY A.created_time DESC

2024/06/13 09:30:18 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:53
[3.271ms] [rows:20] SELECT A.article_id, A.blog_title, L.label_name, A.created_time, A.view_num FROM article AS A JOIN label AS L ON A.label_id = L.label_id ORDER BY A.view_num DESC

2024/06/13 09:30:37 E:/BlogWebsite/OnlineVersion/blog/service/mysql/user.go:20
[9.302ms] [rows:1] SELECT * FROM `user_login` WHERE username = 'LiuBing' LIMIT 1

2024/06/13 09:30:37 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:43
[2.000ms] [rows:20] SELECT A.article_id, A.blog_title, L.label_name, A.created_time, A.view_num FROM article AS A JOIN label AS L ON A.label_id = L.label_id ORDER BY A.created_time DESC

2024/06/13 09:30:37 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:53
[4.032ms] [rows:20] SELECT A.article_id, A.blog_title, L.label_name, A.created_time, A.view_num FROM article AS A JOIN label AS L ON A.label_id = L.label_id ORDER BY A.view_num DESC

2024/06/13 09:37:54 E:/BlogWebsite/OnlineVersion/blog/service/mysql/user.go:20
[4.833ms] [rows:1] SELECT * FROM `user_login` WHERE username = 'LiuBing' LIMIT 1

2024/06/13 09:37:54 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:43
[1.270ms] [rows:20] SELECT A.article_id, A.blog_title, L.label_name, A.created_time, A.view_num FROM article AS A JOIN label AS L ON A.label_id = L.label_id ORDER BY A.created_time DESC

2024/06/13 09:37:55 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:53
[2.341ms] [rows:20] SELECT A.article_id, A.blog_title, L.label_name, A.created_time, A.view_num FROM article AS A JOIN label AS L ON A.label_id = L.label_id ORDER BY A.view_num DESC

2024/06/13 10:25:51 E:/BlogWebsite/OnlineVersion/blog/service/mysql/label.go:37
[9.273ms] [rows:6] SELECT * FROM `label`

2024/06/13 10:25:51 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:106
[5.795ms] [rows:3] SELECT * FROM `article` WHERE label_id=66707655384667649

2024/06/13 10:25:51 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:106
[1.831ms] [rows:5] SELECT * FROM `article` WHERE label_id=73067090851960321

2024/06/13 10:25:51 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:106
[1.740ms] [rows:3] SELECT * FROM `article` WHERE label_id=73068686264538625

2024/06/13 10:25:51 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:106
[2.009ms] [rows:3] SELECT * FROM `article` WHERE label_id=73070353248720385

2024/06/13 10:25:51 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:106
[2.130ms] [rows:4] SELECT * FROM `article` WHERE label_id=73072510849029633

2024/06/13 10:25:51 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:106
[1.719ms] [rows:2] SELECT * FROM `article` WHERE label_id=73073287567021569

2024/06/13 10:25:59 E:/BlogWebsite/OnlineVersion/blog/service/mysql/label.go:37
[4.480ms] [rows:6] SELECT * FROM `label`

2024/06/13 10:25:59 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:106
[1.394ms] [rows:3] SELECT * FROM `article` WHERE label_id=66707655384667649

2024/06/13 10:25:59 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:106
[1.816ms] [rows:5] SELECT * FROM `article` WHERE label_id=73067090851960321

2024/06/13 10:25:59 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:106
[7.125ms] [rows:3] SELECT * FROM `article` WHERE label_id=73068686264538625

2024/06/13 10:25:59 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:106
[2.376ms] [rows:3] SELECT * FROM `article` WHERE label_id=73070353248720385

2024/06/13 10:25:59 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:106
[2.260ms] [rows:4] SELECT * FROM `article` WHERE label_id=73072510849029633

2024/06/13 10:25:59 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:106
[1.308ms] [rows:2] SELECT * FROM `article` WHERE label_id=73073287567021569

2024/06/13 10:26:07 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:43
[5.549ms] [rows:20] SELECT A.article_id, A.blog_title, L.label_name, A.created_time, A.view_num FROM article AS A JOIN label AS L ON A.label_id = L.label_id ORDER BY A.created_time DESC

2024/06/13 10:26:07 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:53
[1.896ms] [rows:20] SELECT A.article_id, A.blog_title, L.label_name, A.created_time, A.view_num FROM article AS A JOIN label AS L ON A.label_id = L.label_id ORDER BY A.view_num DESC

2024/06/13 10:36:02 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:58
[7.775ms] [rows:1] SELECT * FROM `article` WHERE article_id=73068686264604161 ORDER BY `article`.`article_id` LIMIT 1

2024/06/13 10:36:02 E:/BlogWebsite/OnlineVersion/blog/service/mysql/label.go:43
[1.715ms] [rows:1] SELECT * FROM `label` WHERE label_id=73068686264538625 ORDER BY `label`.`label_id` LIMIT 1

2024/06/13 12:33:50 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:43
[9.557ms] [rows:20] SELECT A.article_id, A.blog_title, L.label_name, A.created_time, A.view_num FROM article AS A JOIN label AS L ON A.label_id = L.label_id ORDER BY A.created_time DESC

2024/06/13 12:33:50 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:53
[1.840ms] [rows:20] SELECT A.article_id, A.blog_title, L.label_name, A.created_time, A.view_num FROM article AS A JOIN label AS L ON A.label_id = L.label_id ORDER BY A.view_num DESC

2024/06/13 12:34:00 E:/BlogWebsite/OnlineVersion/blog/service/mysql/label.go:37
[3.826ms] [rows:6] SELECT * FROM `label`

2024/06/13 12:34:00 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:106
[2.465ms] [rows:3] SELECT * FROM `article` WHERE label_id=66707655384667649

2024/06/13 12:34:00 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:106
[1.681ms] [rows:5] SELECT * FROM `article` WHERE label_id=73067090851960321

2024/06/13 12:34:00 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:106
[2.901ms] [rows:3] SELECT * FROM `article` WHERE label_id=73068686264538625

2024/06/13 12:34:00 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:106
[2.730ms] [rows:3] SELECT * FROM `article` WHERE label_id=73070353248720385

2024/06/13 12:34:00 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:106
[3.504ms] [rows:4] SELECT * FROM `article` WHERE label_id=73072510849029633

2024/06/13 12:34:00 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:106
[1.552ms] [rows:2] SELECT * FROM `article` WHERE label_id=73073287567021569

2024/06/13 12:34:09 E:/BlogWebsite/OnlineVersion/blog/service/mysql/tools.go:14
[7.274ms] [rows:12] SELECT * FROM `tools`

2024/06/13 12:39:38 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:43
[107.555ms] [rows:20] SELECT A.article_id, A.blog_title, L.label_name, A.created_time, A.view_num FROM article AS A JOIN label AS L ON A.label_id = L.label_id ORDER BY A.created_time DESC

2024/06/13 12:39:38 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:53
[3.597ms] [rows:20] SELECT A.article_id, A.blog_title, L.label_name, A.created_time, A.view_num FROM article AS A JOIN label AS L ON A.label_id = L.label_id ORDER BY A.view_num DESC

2024/06/13 12:39:48 E:/BlogWebsite/OnlineVersion/blog/service/mysql/label.go:37
[6.394ms] [rows:6] SELECT * FROM `label`

2024/06/13 12:39:48 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:106
[2.697ms] [rows:3] SELECT * FROM `article` WHERE label_id=66707655384667649

2024/06/13 12:39:48 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:106
[2.186ms] [rows:5] SELECT * FROM `article` WHERE label_id=73067090851960321

2024/06/13 12:39:48 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:106
[1.635ms] [rows:3] SELECT * FROM `article` WHERE label_id=73068686264538625

2024/06/13 12:39:48 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:106
[3.175ms] [rows:3] SELECT * FROM `article` WHERE label_id=73070353248720385

2024/06/13 12:39:48 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:106
[1.861ms] [rows:4] SELECT * FROM `article` WHERE label_id=73072510849029633

2024/06/13 12:39:48 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:106
[1.764ms] [rows:2] SELECT * FROM `article` WHERE label_id=73073287567021569

2024/06/13 12:39:53 E:/BlogWebsite/OnlineVersion/blog/service/mysql/tools.go:14
[5.572ms] [rows:12] SELECT * FROM `tools`

2024/06/13 12:41:19 E:/BlogWebsite/OnlineVersion/blog/service/mysql/tools.go:14
[8.515ms] [rows:12] SELECT * FROM `tools`

2024/06/13 12:42:34 E:/BlogWebsite/OnlineVersion/blog/service/mysql/tools.go:14
[10.314ms] [rows:12] SELECT * FROM `tools`

2024/06/13 12:42:46 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:43
[5.278ms] [rows:20] SELECT A.article_id, A.blog_title, L.label_name, A.created_time, A.view_num FROM article AS A JOIN label AS L ON A.label_id = L.label_id ORDER BY A.created_time DESC

2024/06/13 12:42:46 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:53
[3.123ms] [rows:20] SELECT A.article_id, A.blog_title, L.label_name, A.created_time, A.view_num FROM article AS A JOIN label AS L ON A.label_id = L.label_id ORDER BY A.view_num DESC

2024/06/13 12:43:50 E:/BlogWebsite/OnlineVersion/blog/service/mysql/label.go:37
[4.957ms] [rows:6] SELECT * FROM `label`

2024/06/13 12:43:50 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:106
[3.987ms] [rows:3] SELECT * FROM `article` WHERE label_id=66707655384667649

2024/06/13 12:43:50 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:106
[2.977ms] [rows:5] SELECT * FROM `article` WHERE label_id=73067090851960321

2024/06/13 12:43:50 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:106
[2.918ms] [rows:3] SELECT * FROM `article` WHERE label_id=73068686264538625

2024/06/13 12:43:50 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:106
[4.704ms] [rows:3] SELECT * FROM `article` WHERE label_id=73070353248720385

2024/06/13 12:43:50 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:106
[1.827ms] [rows:4] SELECT * FROM `article` WHERE label_id=73072510849029633

2024/06/13 12:43:50 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:106
[2.802ms] [rows:2] SELECT * FROM `article` WHERE label_id=73073287567021569

2024/06/13 12:43:50 E:/BlogWebsite/OnlineVersion/blog/service/mysql/tools.go:14
[3.964ms] [rows:12] SELECT * FROM `tools`

2024/06/13 12:45:11 E:/BlogWebsite/OnlineVersion/blog/service/mysql/tools.go:14
[13.287ms] [rows:12] SELECT * FROM `tools`

2024/06/13 12:45:25 E:/BlogWebsite/OnlineVersion/blog/service/mysql/tools.go:14
[4.694ms] [rows:12] SELECT * FROM `tools`

2024/06/13 12:46:02 E:/BlogWebsite/OnlineVersion/blog/service/mysql/label.go:37
[4.686ms] [rows:6] SELECT * FROM `label`

2024/06/13 12:46:02 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:106
[3.344ms] [rows:3] SELECT * FROM `article` WHERE label_id=66707655384667649

2024/06/13 12:46:02 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:106
[1.790ms] [rows:5] SELECT * FROM `article` WHERE label_id=73067090851960321

2024/06/13 12:46:02 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:106
[2.224ms] [rows:3] SELECT * FROM `article` WHERE label_id=73068686264538625

2024/06/13 12:46:02 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:106
[1.203ms] [rows:3] SELECT * FROM `article` WHERE label_id=73070353248720385

2024/06/13 12:46:02 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:106
[2.528ms] [rows:4] SELECT * FROM `article` WHERE label_id=73072510849029633

2024/06/13 12:46:02 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:106
[4.638ms] [rows:2] SELECT * FROM `article` WHERE label_id=73073287567021569

2024/06/13 12:46:59 E:/BlogWebsite/OnlineVersion/blog/service/mysql/label.go:37
[4.427ms] [rows:6] SELECT * FROM `label`

2024/06/13 12:46:59 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:106
[2.883ms] [rows:3] SELECT * FROM `article` WHERE label_id=66707655384667649

2024/06/13 12:46:59 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:106
[2.373ms] [rows:5] SELECT * FROM `article` WHERE label_id=73067090851960321

2024/06/13 12:46:59 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:106
[3.486ms] [rows:3] SELECT * FROM `article` WHERE label_id=73068686264538625

2024/06/13 12:46:59 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:106
[2.035ms] [rows:3] SELECT * FROM `article` WHERE label_id=73070353248720385

2024/06/13 12:46:59 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:106
[1.616ms] [rows:4] SELECT * FROM `article` WHERE label_id=73072510849029633

2024/06/13 12:46:59 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:106
[2.629ms] [rows:2] SELECT * FROM `article` WHERE label_id=73073287567021569

2024/06/13 12:48:15 E:/BlogWebsite/OnlineVersion/blog/service/mysql/tools.go:14
[5.051ms] [rows:12] SELECT * FROM `tools`

2024/06/13 13:00:00 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:34
[30.539ms] [rows:0] UPDATE `article` SET `view_num`=40 WHERE article_id=73073424687207937

2024/06/13 13:00:00 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:34
[20.610ms] [rows:1] UPDATE `article` SET `view_num`=46 WHERE article_id=73073287567087105

2024/06/13 13:00:00 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:34
[6.138ms] [rows:0] UPDATE `article` SET `view_num`=22 WHERE article_id=73072918199834113

2024/06/13 13:00:00 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:34
[11.085ms] [rows:1] UPDATE `article` SET `view_num`=34 WHERE article_id=73072831008642561

2024/06/13 13:00:00 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:34
[4.426ms] [rows:0] UPDATE `article` SET `view_num`=6 WHERE article_id=73072737609881089

2024/06/13 13:00:00 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:34
[1.960ms] [rows:0] UPDATE `article` SET `view_num`=7 WHERE article_id=73072510865806849

2024/06/13 13:00:00 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:34
[1.783ms] [rows:0] UPDATE `article` SET `view_num`=5 WHERE article_id=73071166306162177

2024/06/13 13:00:00 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:34
[1.692ms] [rows:0] UPDATE `article` SET `view_num`=4 WHERE article_id=73071065022109185

2024/06/13 13:00:00 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:34
[4.208ms] [rows:1] UPDATE `article` SET `view_num`=8 WHERE article_id=73070664851953153

2024/06/13 13:00:00 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:34
[1.831ms] [rows:0] UPDATE `article` SET `view_num`=3 WHERE article_id=73070456562816513

2024/06/13 13:00:00 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:34
[1.248ms] [rows:0] UPDATE `article` SET `view_num`=2 WHERE article_id=73070353248785921

2024/06/13 13:00:00 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:34
[1.122ms] [rows:0] UPDATE `article` SET `view_num`=10 WHERE article_id=73069969788671489

2024/06/13 13:00:00 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:34
[1.317ms] [rows:0] UPDATE `article` SET `view_num`=1 WHERE article_id=73068763573949953

2024/06/13 13:00:00 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:34
[1.025ms] [rows:0] UPDATE `article` SET `view_num`=0 WHERE article_id=73068686264604161

2024/06/13 13:00:00 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:34
[1.302ms] [rows:0] UPDATE `article` SET `view_num`=2 WHERE article_id=73068320672224769

2024/06/13 13:00:00 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:34
[1.038ms] [rows:0] UPDATE `article` SET `view_num`=1 WHERE article_id=73068220445136385

2024/06/13 13:00:00 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:34
[1.678ms] [rows:0] UPDATE `article` SET `view_num`=4 WHERE article_id=73067969273435649

2024/06/13 13:00:00 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:34
[1.540ms] [rows:0] UPDATE `article` SET `view_num`=1 WHERE article_id=73067268237465089

2024/06/13 13:00:00 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:34
[1.168ms] [rows:0] UPDATE `article` SET `view_num`=10 WHERE article_id=73067090885514753

2024/06/13 13:00:00 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:34
[0.824ms] [rows:0] UPDATE `article` SET `view_num`=11 WHERE article_id=66707655401444865

2024/06/13 14:08:42 E:/BlogWebsite/OnlineVersion/blog/service/mysql/tools.go:14
[10.367ms] [rows:12] SELECT * FROM `tools`

2024/06/13 14:16:25 E:/BlogWebsite/OnlineVersion/blog/service/mysql/tools.go:24
[9.138ms] [rows:1] UPDATE `tools` SET `tool_id`=42840687426704897,`describe`='DockerHub',`url`='https://hub.docker.com' WHERE tool_id=42840687426704897 AND `tool_id` = 42840687426704897

2024/06/13 14:16:27 E:/BlogWebsite/OnlineVersion/blog/service/mysql/tools.go:14
[2.941ms] [rows:12] SELECT * FROM `tools`

2024/06/13 14:16:30 E:/BlogWebsite/OnlineVersion/blog/service/mysql/tools.go:9
[7.484ms] [rows:1] SELECT * FROM `tools` WHERE tool_id=42840687426704897 ORDER BY `tools`.`tool_id` LIMIT 1

2024/06/13 14:18:41 E:/BlogWebsite/OnlineVersion/blog/service/mysql/tools.go:24
[12.754ms] [rows:1] UPDATE `tools` SET `tool_id`=42840687426704897,`describe`='DockerHub官网',`url`='https://hub.docker.com' WHERE tool_id=42840687426704897 AND `tool_id` = 42840687426704897

2024/06/13 14:18:43 E:/BlogWebsite/OnlineVersion/blog/service/mysql/tools.go:14
[1.482ms] [rows:12] SELECT * FROM `tools`

2024/06/13 14:18:45 E:/BlogWebsite/OnlineVersion/blog/service/mysql/tools.go:9
[2.111ms] [rows:1] SELECT * FROM `tools` WHERE tool_id=42840687426704897 ORDER BY `tools`.`tool_id` LIMIT 1

2024/06/13 14:19:11 E:/BlogWebsite/OnlineVersion/blog/service/mysql/tools.go:24
[11.490ms] [rows:1] UPDATE `tools` SET `tool_id`=73073860257289729,`describe`='《Go 语言高级编程》',`url`='https://chai2010.cn/advanced-go-programming-book/index.html' WHERE tool_id=73073860257289729 AND `tool_id` = 73073860257289729

2024/06/13 14:19:13 E:/BlogWebsite/OnlineVersion/blog/service/mysql/tools.go:14
[4.152ms] [rows:12] SELECT * FROM `tools`

2024/06/13 14:19:15 E:/BlogWebsite/OnlineVersion/blog/service/mysql/tools.go:9
[45.747ms] [rows:1] SELECT * FROM `tools` WHERE tool_id=73073860257289729 ORDER BY `tools`.`tool_id` LIMIT 1

2024/06/13 14:42:12 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[1.048ms] [rows:-] SELECT DATABASE()

2024/06/13 14:42:12 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[7.823ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 14:42:12 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[5.822ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'article' AND table_type = 'BASE TABLE'

2024/06/13 14:42:12 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[1.031ms] [rows:-] SELECT DATABASE()

2024/06/13 14:42:12 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[1.532ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 14:42:12 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[1.172ms] [rows:-] SELECT * FROM `article` LIMIT 1

2024/06/13 14:42:12 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[3.992ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'article' ORDER BY ORDINAL_POSITION

2024/06/13 14:42:12 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[1.032ms] [rows:-] SELECT DATABASE()

2024/06/13 14:42:12 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[1.155ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 14:42:12 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[2.138ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'tools' AND table_type = 'BASE TABLE'

2024/06/13 14:42:12 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[1.106ms] [rows:-] SELECT DATABASE()

2024/06/13 14:42:12 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[1.240ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 14:42:12 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[0.705ms] [rows:-] SELECT * FROM `tools` LIMIT 1

2024/06/13 14:42:12 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[1.739ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'tools' ORDER BY ORDINAL_POSITION

2024/06/13 14:42:12 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[1.239ms] [rows:-] SELECT DATABASE()

2024/06/13 14:42:12 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[1.483ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 14:42:12 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[2.592ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'label' AND table_type = 'BASE TABLE'

2024/06/13 14:42:12 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[0.623ms] [rows:-] SELECT DATABASE()

2024/06/13 14:42:12 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[0.875ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 14:42:12 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[1.115ms] [rows:-] SELECT * FROM `label` LIMIT 1

2024/06/13 14:42:12 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[2.607ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'label' ORDER BY ORDINAL_POSITION

2024/06/13 14:42:12 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[1.028ms] [rows:-] SELECT DATABASE()

2024/06/13 14:42:12 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[0.650ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 14:42:12 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[1.532ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'user_info' AND table_type = 'BASE TABLE'

2024/06/13 14:42:12 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[1.086ms] [rows:-] SELECT DATABASE()

2024/06/13 14:42:12 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[0.569ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 14:42:12 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[1.560ms] [rows:-] SELECT * FROM `user_info` LIMIT 1

2024/06/13 14:42:12 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[2.154ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'user_info' ORDER BY ORDINAL_POSITION

2024/06/13 14:42:12 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[1.030ms] [rows:-] SELECT DATABASE()

2024/06/13 14:42:12 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[1.242ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 14:42:12 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[1.289ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'user_login' AND table_type = 'BASE TABLE'

2024/06/13 14:42:12 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[1.031ms] [rows:-] SELECT DATABASE()

2024/06/13 14:42:12 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[0.665ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 14:42:12 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[1.098ms] [rows:-] SELECT * FROM `user_login` LIMIT 1

2024/06/13 14:42:12 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[2.061ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'user_login' ORDER BY ORDINAL_POSITION

2024/06/13 15:04:58 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:58
[38.435ms] [rows:1] SELECT * FROM `article` WHERE article_id=73073424687207937 ORDER BY `article`.`article_id` LIMIT 1

2024/06/13 15:04:58 E:/BlogWebsite/OnlineVersion/blog/service/mysql/label.go:43
[4.876ms] [rows:1] SELECT * FROM `label` WHERE label_id=73073287567021569 ORDER BY `label`.`label_id` LIMIT 1

2024/06/13 15:07:53 E:/BlogWebsite/OnlineVersion/blog/service/mysql/tools.go:14
[4.863ms] [rows:12] SELECT * FROM `tools`

2024/06/13 16:00:47 E:/BlogWebsite/OnlineVersion/blog/service/mysql/tools.go:14
[18.784ms] [rows:12] SELECT * FROM `tools`

2024/06/13 16:05:06 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:43
[10.788ms] [rows:20] SELECT A.article_id, A.blog_title, L.label_name, A.created_time, A.view_num FROM article AS A JOIN label AS L ON A.label_id = L.label_id ORDER BY A.created_time DESC

2024/06/13 16:05:06 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:53
[3.126ms] [rows:20] SELECT A.article_id, A.blog_title, L.label_name, A.created_time, A.view_num FROM article AS A JOIN label AS L ON A.label_id = L.label_id ORDER BY A.view_num DESC

2024/06/13 16:05:08 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:58
[1.861ms] [rows:1] SELECT * FROM `article` WHERE article_id=73073424687207937 ORDER BY `article`.`article_id` LIMIT 1

2024/06/13 16:05:12 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:71
[4.791ms] [rows:1] SELECT * FROM `article` WHERE article_id=73073424687207937 ORDER BY `article`.`article_id` LIMIT 1

2024/06/13 16:05:12 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:97
[1.292ms] [rows:1] SELECT * FROM `article` WHERE article_id=73073424687207937 ORDER BY `article`.`article_id` LIMIT 1

2024/06/13 16:05:12 E:/BlogWebsite/OnlineVersion/blog/service/mysql/label.go:43
[2.211ms] [rows:1] SELECT * FROM `label` WHERE label_id=73073287567021569 ORDER BY `label`.`label_id` LIMIT 1

2024/06/13 16:05:12 E:/BlogWebsite/OnlineVersion/blog/service/mysql/label.go:22
[1.721ms] [rows:1] SELECT * FROM `label` WHERE label_name='kafka' ORDER BY `label`.`label_id` LIMIT 1

2024/06/13 16:05:12 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:81
[5.720ms] [rows:1] UPDATE `article` SET `article_id`=73073424687207937,`view_num`=43,`blog_title`='kafka 集群搭建',`show_context`='在搭建集群之前，每一台虚拟机已经安装好了 zookeeper 和 kafka，并且将 zookeeper 设置为了一个系统服务还添加了开机自启动。搭建 zookeeper 集群之前需要关闭防火墙。',`context`='## 三台虚拟机

### IP 地址和域名

三台虚拟机的 CPU 核数均为 2，IP 和域名（主机名）的关系如下：

| IP 地址        | 域名   |
| -------------- | ------ |
| 192.168.11.101 | kafka1 |
| 192.168.11.102 | kafka2 |
| 192.168.11.103 | kafka3 |

三台机器之间需要能够使用域名相互通信。

### zookeeper 和 kafka

> **注意：**
>
> 1. 在搭建集群之前，每一台虚拟机已经安装好了 zookeeper 和 kafka，并且将 zookeeper 设置为了一个系统服务还添加了开机自启动。
> 2. 搭建 zookeeper 集群之前需要`关闭防火墙`。

## zookeeper 配置文件

现在对每一台机器上执行如下操作：

1. zoo.cfg 配置文件中数据和日志的相关配置：

   ```shell
   # 存放数据文件
   dataDir=/usr/local/zookeeper/data
   # 存放日志文件
   dataLogDir=/usr/local/zookeeper/log
   # 端口号
   clientPort=2181

   # 作为Zookeeper服务器之间维持心跳的时间间隔,单位毫秒
   tickTime=2000

   # 这个参数指定了Leader和Follower初始连接时能容忍的最多心跳数，其中心跳时间间隔由tickTime参数定义。
   # 换句话说,它定义了在初始连接期间Follower可以接收到多少个心跳(每个心跳间隔为tickTime)才会与Leader建立连接。
   # 如果initLimit被设置为 10,这意味着在20秒内(10 * 2秒),Follower必须接收到Leader的心跳，否则连接将会失败。
   initLimit=10

   # Leader和Follower之间同步通信的超时时间,这里表示如果超过5*2s=10s,Leader认为Follwer宕机,并从服务器列表中删除Follwer。
   syncLimit=5
   ```

2. 创建多个节点集群时，在 dataDir 指定目录下必须创建 myid 文件，myid 文件用于 zookeeper 验证 server 序号，myid 文件只有一行，并且为当前 server 的序号，例如：server.1 的 myid 就是 1，server.2 的 myid 就是 2。

   ```bash
   [root@kafka1 data]# pwd
   /usr/local/zookeeper/data
   [root@kafka1 data]# cat myid
   1
   ```

3. 添加集群信息。格式：server.A=B:C:D

   A 是一个数字（myid 里面的内容），表示这个是第几号服务器；

   B 是这个服务器的 ip 地址；

   C 表示的是这个服务器与集群中的 Leader 服务器交换信息的端口；

   D 表示的是万一集群中的 Leader 服务器挂了，需要一个端口来重新进行选举，选出一个新的 Leader；

   所以 zoo.cfg 配置文件中需要添加如下配置：

   ```shell
   server.1=192.168.11.101:2888:3888
   server.2=192.168.11.102:2888:3888
   server.3=192.168.11.103:2888:3888
   ```

4. 重启 zookeeper：

   ```bash
   [root@kafka1 conf]# systemctl restart zookeeper
   [root@kafka1 conf]# jps
   8824 QuorumPeerMain
   8860 Jps
   ```

> 另外两台主机参考以上步骤做相应的变通即可。

## kafka 配置文件

分别修改 192.168.11.101，192.168.11.102，192.168.11.103 三个节点的 kafka 配置文件 server.properties：

1. 192.168.11.101 的配置：

   ```shell
   # 集群中每个节点的唯一标识
   broker.id=1

   # 定义了 broker 监听的地址和端口
   listeners = PLAINTEXT://kafka1:9092

   # 定义了在集群内和外部客户端通信时要使用的地址
   advertised.listeners=PLAINTEXT://kafka1:9092

   # zookeeper的连接地址
   zookeeper.connect=kafka1:2181,kafka2:2181,kafka3:2181/kafka
   ```

2. 192.168.11.102 的配置：

   ```shell
   # 集群中每个节点的唯一标识
   broker.id=2

   # 定义了 broker 监听的地址和端口
   listeners = PLAINTEXT://kafka2:9092

   # 定义了在集群内和外部客户端通信时要使用的地址
   advertised.listeners=PLAINTEXT://kafka2:9092

   # zookeeper的连接地址
   zookeeper.connect=kafka1:2181,kafka2:2181,kafka3:2181/kafka
   ```

3. 192.168.11.103 的配置：

   ```shell
   # 集群中每个节点的唯一标识
   broker.id=3

   # 定义了 broker 监听的地址和端口
   listeners = PLAINTEXT://kafka3:9092

   # 定义了在集群内和外部客户端通信时要使用的地址
   advertised.listeners=PLAINTEXT://kafka3:9092

   # zookeeper的连接地址
   zookeeper.connect=kafka1:2181,kafka2:2181,kafka3:2181/kafka
   ```

### 启动和停止

```bash
# 启动
kafka-server-start.sh -daemon /usr/local/kafka/config/server.properties

# 查看是否启动成功
jps

# 停止
kafka-server-stop.sh
```
',`updated_time`='2024-06-13 16:05:12.084',`label_id`=73073287567021569 WHERE article_id=73073424687207937 AND `article_id` = 73073424687207937

2024/06/13 16:05:13 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:43
[2.144ms] [rows:20] SELECT A.article_id, A.blog_title, L.label_name, A.created_time, A.view_num FROM article AS A JOIN label AS L ON A.label_id = L.label_id ORDER BY A.created_time DESC

2024/06/13 16:05:13 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:53
[2.899ms] [rows:20] SELECT A.article_id, A.blog_title, L.label_name, A.created_time, A.view_num FROM article AS A JOIN label AS L ON A.label_id = L.label_id ORDER BY A.view_num DESC

2024/06/13 16:05:14 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:58
[2.414ms] [rows:1] SELECT * FROM `article` WHERE article_id=73073424687207937 ORDER BY `article`.`article_id` LIMIT 1

2024/06/13 16:05:22 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:71
[3.693ms] [rows:1] SELECT * FROM `article` WHERE article_id=73073424687207937 ORDER BY `article`.`article_id` LIMIT 1

2024/06/13 16:05:22 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:97
[1.213ms] [rows:1] SELECT * FROM `article` WHERE article_id=73073424687207937 ORDER BY `article`.`article_id` LIMIT 1

2024/06/13 16:05:22 E:/BlogWebsite/OnlineVersion/blog/service/mysql/label.go:43
[1.123ms] [rows:1] SELECT * FROM `label` WHERE label_id=73073287567021569 ORDER BY `label`.`label_id` LIMIT 1

2024/06/13 16:05:30 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:71
[3.227ms] [rows:1] SELECT * FROM `article` WHERE article_id=73073424687207937 ORDER BY `article`.`article_id` LIMIT 1

2024/06/13 16:05:30 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:97
[1.201ms] [rows:1] SELECT * FROM `article` WHERE article_id=73073424687207937 ORDER BY `article`.`article_id` LIMIT 1

2024/06/13 16:05:30 E:/BlogWebsite/OnlineVersion/blog/service/mysql/label.go:43
[0.503ms] [rows:1] SELECT * FROM `label` WHERE label_id=73073287567021569 ORDER BY `label`.`label_id` LIMIT 1

2024/06/13 16:05:33 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:58
[2.179ms] [rows:1] SELECT * FROM `article` WHERE article_id=73073424687207937 ORDER BY `article`.`article_id` LIMIT 1

2024/06/13 16:05:33 E:/BlogWebsite/OnlineVersion/blog/service/mysql/label.go:43
[1.658ms] [rows:1] SELECT * FROM `label` WHERE label_id=73073287567021569 ORDER BY `label`.`label_id` LIMIT 1

2024/06/13 16:08:39 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:71
[4.287ms] [rows:1] SELECT * FROM `article` WHERE article_id=73073424687207937 ORDER BY `article`.`article_id` LIMIT 1

2024/06/13 16:08:39 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:97
[1.024ms] [rows:1] SELECT * FROM `article` WHERE article_id=73073424687207937 ORDER BY `article`.`article_id` LIMIT 1

2024/06/13 16:08:39 E:/BlogWebsite/OnlineVersion/blog/service/mysql/label.go:43
[1.585ms] [rows:1] SELECT * FROM `label` WHERE label_id=73073287567021569 ORDER BY `label`.`label_id` LIMIT 1

2024/06/13 16:08:39 E:/BlogWebsite/OnlineVersion/blog/service/mysql/label.go:22
[1.022ms] [rows:1] SELECT * FROM `label` WHERE label_name='kafka' ORDER BY `label`.`label_id` LIMIT 1

2024/06/13 16:08:40 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:81
[9.748ms] [rows:1] UPDATE `article` SET `article_id`=73073424687207937,`view_num`=44,`blog_title`='kafka 集群',`show_context`='在搭建集群之前，每一台虚拟机已经安装好了 zookeeper 和 kafka，并且将 zookeeper 设置为了一个系统服务还添加了开机自启动。搭建 zookeeper 集群之前需要关闭防火墙。',`context`='## 三台虚拟机

### IP 地址和域名

三台虚拟机的 CPU 核数均为 2，IP 和域名（主机名）的关系如下：

| IP 地址        | 域名   |
| -------------- | ------ |
| 192.168.11.101 | kafka1 |
| 192.168.11.102 | kafka2 |
| 192.168.11.103 | kafka3 |

三台机器之间需要能够使用域名相互通信。

### zookeeper 和 kafka

> **注意：**
>
> 1. 在搭建集群之前，每一台虚拟机已经安装好了 zookeeper 和 kafka，并且将 zookeeper 设置为了一个系统服务还添加了开机自启动。
> 2. 搭建 zookeeper 集群之前需要`关闭防火墙`。

## zookeeper 配置文件

现在对每一台机器上执行如下操作：

1. zoo.cfg 配置文件中数据和日志的相关配置：

   ```shell
   # 存放数据文件
   dataDir=/usr/local/zookeeper/data
   # 存放日志文件
   dataLogDir=/usr/local/zookeeper/log
   # 端口号
   clientPort=2181

   # 作为Zookeeper服务器之间维持心跳的时间间隔,单位毫秒
   tickTime=2000

   # 这个参数指定了Leader和Follower初始连接时能容忍的最多心跳数，其中心跳时间间隔由tickTime参数定义。
   # 换句话说,它定义了在初始连接期间Follower可以接收到多少个心跳(每个心跳间隔为tickTime)才会与Leader建立连接。
   # 如果initLimit被设置为 10,这意味着在20秒内(10 * 2秒),Follower必须接收到Leader的心跳，否则连接将会失败。
   initLimit=10

   # Leader和Follower之间同步通信的超时时间,这里表示如果超过5*2s=10s,Leader认为Follwer宕机,并从服务器列表中删除Follwer。
   syncLimit=5
   ```

2. 创建多个节点集群时，在 dataDir 指定目录下必须创建 myid 文件，myid 文件用于 zookeeper 验证 server 序号，myid 文件只有一行，并且为当前 server 的序号，例如：server.1 的 myid 就是 1，server.2 的 myid 就是 2。

   ```bash
   [root@kafka1 data]# pwd
   /usr/local/zookeeper/data
   [root@kafka1 data]# cat myid
   1
   ```

3. 添加集群信息。格式：server.A=B:C:D

   A 是一个数字（myid 里面的内容），表示这个是第几号服务器；

   B 是这个服务器的 ip 地址；

   C 表示的是这个服务器与集群中的 Leader 服务器交换信息的端口；

   D 表示的是万一集群中的 Leader 服务器挂了，需要一个端口来重新进行选举，选出一个新的 Leader；

   所以 zoo.cfg 配置文件中需要添加如下配置：

   ```shell
   server.1=192.168.11.101:2888:3888
   server.2=192.168.11.102:2888:3888
   server.3=192.168.11.103:2888:3888
   ```

4. 重启 zookeeper：

   ```bash
   [root@kafka1 conf]# systemctl restart zookeeper
   [root@kafka1 conf]# jps
   8824 QuorumPeerMain
   8860 Jps
   ```

> 另外两台主机参考以上步骤做相应的变通即可。

## kafka 配置文件

分别修改 192.168.11.101，192.168.11.102，192.168.11.103 三个节点的 kafka 配置文件 server.properties：

1. 192.168.11.101 的配置：

   ```shell
   # 集群中每个节点的唯一标识
   broker.id=1

   # 定义了 broker 监听的地址和端口
   listeners = PLAINTEXT://kafka1:9092

   # 定义了在集群内和外部客户端通信时要使用的地址
   advertised.listeners=PLAINTEXT://kafka1:9092

   # zookeeper的连接地址
   zookeeper.connect=kafka1:2181,kafka2:2181,kafka3:2181/kafka
   ```

2. 192.168.11.102 的配置：

   ```shell
   # 集群中每个节点的唯一标识
   broker.id=2

   # 定义了 broker 监听的地址和端口
   listeners = PLAINTEXT://kafka2:9092

   # 定义了在集群内和外部客户端通信时要使用的地址
   advertised.listeners=PLAINTEXT://kafka2:9092

   # zookeeper的连接地址
   zookeeper.connect=kafka1:2181,kafka2:2181,kafka3:2181/kafka
   ```

3. 192.168.11.103 的配置：

   ```shell
   # 集群中每个节点的唯一标识
   broker.id=3

   # 定义了 broker 监听的地址和端口
   listeners = PLAINTEXT://kafka3:9092

   # 定义了在集群内和外部客户端通信时要使用的地址
   advertised.listeners=PLAINTEXT://kafka3:9092

   # zookeeper的连接地址
   zookeeper.connect=kafka1:2181,kafka2:2181,kafka3:2181/kafka
   ```

### 启动和停止

```bash
# 启动
kafka-server-start.sh -daemon /usr/local/kafka/config/server.properties

# 查看是否启动成功
jps

# 停止
kafka-server-stop.sh
```
',`updated_time`='2024-06-13 16:08:39.996',`label_id`=73073287567021569 WHERE article_id=73073424687207937 AND `article_id` = 73073424687207937

2024/06/13 16:08:41 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:43
[2.627ms] [rows:20] SELECT A.article_id, A.blog_title, L.label_name, A.created_time, A.view_num FROM article AS A JOIN label AS L ON A.label_id = L.label_id ORDER BY A.created_time DESC

2024/06/13 16:08:41 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:53
[3.176ms] [rows:20] SELECT A.article_id, A.blog_title, L.label_name, A.created_time, A.view_num FROM article AS A JOIN label AS L ON A.label_id = L.label_id ORDER BY A.view_num DESC

2024/06/13 16:08:44 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:58
[5.055ms] [rows:1] SELECT * FROM `article` WHERE article_id=73073424687207937 ORDER BY `article`.`article_id` LIMIT 1

2024/06/13 16:08:44 E:/BlogWebsite/OnlineVersion/blog/service/mysql/label.go:43
[14.085ms] [rows:1] SELECT * FROM `label` WHERE label_id=73073287567021569 ORDER BY `label`.`label_id` LIMIT 1

2024/06/13 16:08:48 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:58
[5.165ms] [rows:1] SELECT * FROM `article` WHERE article_id=73073424687207937 ORDER BY `article`.`article_id` LIMIT 1

2024/06/13 16:08:54 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:71
[3.712ms] [rows:1] SELECT * FROM `article` WHERE article_id=73073424687207937 ORDER BY `article`.`article_id` LIMIT 1

2024/06/13 16:08:54 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:97
[1.664ms] [rows:1] SELECT * FROM `article` WHERE article_id=73073424687207937 ORDER BY `article`.`article_id` LIMIT 1

2024/06/13 16:08:54 E:/BlogWebsite/OnlineVersion/blog/service/mysql/label.go:43
[1.698ms] [rows:1] SELECT * FROM `label` WHERE label_id=73073287567021569 ORDER BY `label`.`label_id` LIMIT 1

2024/06/13 16:08:54 E:/BlogWebsite/OnlineVersion/blog/service/mysql/label.go:22
[1.685ms] [rows:1] SELECT * FROM `label` WHERE label_name='kafka' ORDER BY `label`.`label_id` LIMIT 1

2024/06/13 16:08:54 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:81
[8.124ms] [rows:1] UPDATE `article` SET `article_id`=73073424687207937,`view_num`=45,`blog_title`='kafka 集群搭建',`show_context`='在搭建集群之前，每一台虚拟机已经安装好了 zookeeper 和 kafka，并且将 zookeeper 设置为了一个系统服务还添加了开机自启动。搭建 zookeeper 集群之前需要关闭防火墙。',`context`='## 三台虚拟机

### IP 地址和域名

三台虚拟机的 CPU 核数均为 2，IP 和域名（主机名）的关系如下：

| IP 地址        | 域名   |
| -------------- | ------ |
| 192.168.11.101 | kafka1 |
| 192.168.11.102 | kafka2 |
| 192.168.11.103 | kafka3 |

三台机器之间需要能够使用域名相互通信。

### zookeeper 和 kafka

> **注意：**
>
> 1. 在搭建集群之前，每一台虚拟机已经安装好了 zookeeper 和 kafka，并且将 zookeeper 设置为了一个系统服务还添加了开机自启动。
> 2. 搭建 zookeeper 集群之前需要`关闭防火墙`。

## zookeeper 配置文件

现在对每一台机器上执行如下操作：

1. zoo.cfg 配置文件中数据和日志的相关配置：

   ```shell
   # 存放数据文件
   dataDir=/usr/local/zookeeper/data
   # 存放日志文件
   dataLogDir=/usr/local/zookeeper/log
   # 端口号
   clientPort=2181

   # 作为Zookeeper服务器之间维持心跳的时间间隔,单位毫秒
   tickTime=2000

   # 这个参数指定了Leader和Follower初始连接时能容忍的最多心跳数，其中心跳时间间隔由tickTime参数定义。
   # 换句话说,它定义了在初始连接期间Follower可以接收到多少个心跳(每个心跳间隔为tickTime)才会与Leader建立连接。
   # 如果initLimit被设置为 10,这意味着在20秒内(10 * 2秒),Follower必须接收到Leader的心跳，否则连接将会失败。
   initLimit=10

   # Leader和Follower之间同步通信的超时时间,这里表示如果超过5*2s=10s,Leader认为Follwer宕机,并从服务器列表中删除Follwer。
   syncLimit=5
   ```

2. 创建多个节点集群时，在 dataDir 指定目录下必须创建 myid 文件，myid 文件用于 zookeeper 验证 server 序号，myid 文件只有一行，并且为当前 server 的序号，例如：server.1 的 myid 就是 1，server.2 的 myid 就是 2。

   ```bash
   [root@kafka1 data]# pwd
   /usr/local/zookeeper/data
   [root@kafka1 data]# cat myid
   1
   ```

3. 添加集群信息。格式：server.A=B:C:D

   A 是一个数字（myid 里面的内容），表示这个是第几号服务器；

   B 是这个服务器的 ip 地址；

   C 表示的是这个服务器与集群中的 Leader 服务器交换信息的端口；

   D 表示的是万一集群中的 Leader 服务器挂了，需要一个端口来重新进行选举，选出一个新的 Leader；

   所以 zoo.cfg 配置文件中需要添加如下配置：

   ```shell
   server.1=192.168.11.101:2888:3888
   server.2=192.168.11.102:2888:3888
   server.3=192.168.11.103:2888:3888
   ```

4. 重启 zookeeper：

   ```bash
   [root@kafka1 conf]# systemctl restart zookeeper
   [root@kafka1 conf]# jps
   8824 QuorumPeerMain
   8860 Jps
   ```

> 另外两台主机参考以上步骤做相应的变通即可。

## kafka 配置文件

分别修改 192.168.11.101，192.168.11.102，192.168.11.103 三个节点的 kafka 配置文件 server.properties：

1. 192.168.11.101 的配置：

   ```shell
   # 集群中每个节点的唯一标识
   broker.id=1

   # 定义了 broker 监听的地址和端口
   listeners = PLAINTEXT://kafka1:9092

   # 定义了在集群内和外部客户端通信时要使用的地址
   advertised.listeners=PLAINTEXT://kafka1:9092

   # zookeeper的连接地址
   zookeeper.connect=kafka1:2181,kafka2:2181,kafka3:2181/kafka
   ```

2. 192.168.11.102 的配置：

   ```shell
   # 集群中每个节点的唯一标识
   broker.id=2

   # 定义了 broker 监听的地址和端口
   listeners = PLAINTEXT://kafka2:9092

   # 定义了在集群内和外部客户端通信时要使用的地址
   advertised.listeners=PLAINTEXT://kafka2:9092

   # zookeeper的连接地址
   zookeeper.connect=kafka1:2181,kafka2:2181,kafka3:2181/kafka
   ```

3. 192.168.11.103 的配置：

   ```shell
   # 集群中每个节点的唯一标识
   broker.id=3

   # 定义了 broker 监听的地址和端口
   listeners = PLAINTEXT://kafka3:9092

   # 定义了在集群内和外部客户端通信时要使用的地址
   advertised.listeners=PLAINTEXT://kafka3:9092

   # zookeeper的连接地址
   zookeeper.connect=kafka1:2181,kafka2:2181,kafka3:2181/kafka
   ```

### 启动和停止

```bash
# 启动
kafka-server-start.sh -daemon /usr/local/kafka/config/server.properties

# 查看是否启动成功
jps

# 停止
kafka-server-stop.sh
```
',`updated_time`='2024-06-13 16:08:54.613',`label_id`=73073287567021569 WHERE article_id=73073424687207937 AND `article_id` = 73073424687207937

2024/06/13 16:08:56 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:43
[3.036ms] [rows:20] SELECT A.article_id, A.blog_title, L.label_name, A.created_time, A.view_num FROM article AS A JOIN label AS L ON A.label_id = L.label_id ORDER BY A.created_time DESC

2024/06/13 16:08:56 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:53
[3.028ms] [rows:20] SELECT A.article_id, A.blog_title, L.label_name, A.created_time, A.view_num FROM article AS A JOIN label AS L ON A.label_id = L.label_id ORDER BY A.view_num DESC

2024/06/13 16:08:57 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:58
[1.730ms] [rows:1] SELECT * FROM `article` WHERE article_id=73073424687207937 ORDER BY `article`.`article_id` LIMIT 1

2024/06/13 16:09:00 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:71
[4.985ms] [rows:1] SELECT * FROM `article` WHERE article_id=73073424687207937 ORDER BY `article`.`article_id` LIMIT 1

2024/06/13 16:09:00 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:97
[1.099ms] [rows:1] SELECT * FROM `article` WHERE article_id=73073424687207937 ORDER BY `article`.`article_id` LIMIT 1

2024/06/13 16:09:00 E:/BlogWebsite/OnlineVersion/blog/service/mysql/label.go:43
[1.109ms] [rows:1] SELECT * FROM `label` WHERE label_id=73073287567021569 ORDER BY `label`.`label_id` LIMIT 1

2024/06/13 16:09:03 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:71
[1.224ms] [rows:1] SELECT * FROM `article` WHERE article_id=73073424687207937 ORDER BY `article`.`article_id` LIMIT 1

2024/06/13 16:09:03 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:97
[1.688ms] [rows:1] SELECT * FROM `article` WHERE article_id=73073424687207937 ORDER BY `article`.`article_id` LIMIT 1

2024/06/13 16:09:03 E:/BlogWebsite/OnlineVersion/blog/service/mysql/label.go:43
[1.083ms] [rows:1] SELECT * FROM `label` WHERE label_id=73073287567021569 ORDER BY `label`.`label_id` LIMIT 1

2024/06/13 16:09:14 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:71
[3.828ms] [rows:1] SELECT * FROM `article` WHERE article_id=73073424687207937 ORDER BY `article`.`article_id` LIMIT 1

2024/06/13 16:09:14 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:97
[1.019ms] [rows:1] SELECT * FROM `article` WHERE article_id=73073424687207937 ORDER BY `article`.`article_id` LIMIT 1

2024/06/13 16:09:14 E:/BlogWebsite/OnlineVersion/blog/service/mysql/label.go:43
[0.533ms] [rows:1] SELECT * FROM `label` WHERE label_id=73073287567021569 ORDER BY `label`.`label_id` LIMIT 1

2024/06/13 16:09:26 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:71
[5.314ms] [rows:1] SELECT * FROM `article` WHERE article_id=73073424687207937 ORDER BY `article`.`article_id` LIMIT 1

2024/06/13 16:09:26 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:97
[2.223ms] [rows:1] SELECT * FROM `article` WHERE article_id=73073424687207937 ORDER BY `article`.`article_id` LIMIT 1

2024/06/13 16:09:26 E:/BlogWebsite/OnlineVersion/blog/service/mysql/label.go:43
[1.216ms] [rows:1] SELECT * FROM `label` WHERE label_id=73073287567021569 ORDER BY `label`.`label_id` LIMIT 1

2024/06/13 16:10:10 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[1.662ms] [rows:-] SELECT DATABASE()

2024/06/13 16:10:10 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[3.772ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:10:10 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[3.322ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'article' AND table_type = 'BASE TABLE'

2024/06/13 16:10:10 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[1.305ms] [rows:-] SELECT DATABASE()

2024/06/13 16:10:10 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[0.820ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:10:10 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[1.721ms] [rows:-] SELECT * FROM `article` LIMIT 1

2024/06/13 16:10:10 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[3.367ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'article' ORDER BY ORDINAL_POSITION

2024/06/13 16:10:10 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[1.169ms] [rows:-] SELECT DATABASE()

2024/06/13 16:10:10 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[1.429ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:10:10 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[1.897ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'tools' AND table_type = 'BASE TABLE'

2024/06/13 16:10:10 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[1.029ms] [rows:-] SELECT DATABASE()

2024/06/13 16:10:10 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[0.782ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:10:10 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[1.180ms] [rows:-] SELECT * FROM `tools` LIMIT 1

2024/06/13 16:10:10 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[2.477ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'tools' ORDER BY ORDINAL_POSITION

2024/06/13 16:10:10 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[1.029ms] [rows:-] SELECT DATABASE()

2024/06/13 16:10:10 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[0.547ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:10:10 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[1.980ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'label' AND table_type = 'BASE TABLE'

2024/06/13 16:10:10 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[1.175ms] [rows:-] SELECT DATABASE()

2024/06/13 16:10:10 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[0.610ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:10:10 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[1.133ms] [rows:-] SELECT * FROM `label` LIMIT 1

2024/06/13 16:10:10 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[1.655ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'label' ORDER BY ORDINAL_POSITION

2024/06/13 16:10:10 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[1.055ms] [rows:-] SELECT DATABASE()

2024/06/13 16:10:10 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[1.256ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:10:10 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[2.009ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'user_info' AND table_type = 'BASE TABLE'

2024/06/13 16:10:10 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[1.027ms] [rows:-] SELECT DATABASE()

2024/06/13 16:10:10 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[0.715ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:10:10 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[1.676ms] [rows:-] SELECT * FROM `user_info` LIMIT 1

2024/06/13 16:10:10 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[2.130ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'user_info' ORDER BY ORDINAL_POSITION

2024/06/13 16:10:10 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[1.017ms] [rows:-] SELECT DATABASE()

2024/06/13 16:10:10 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[1.298ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:10:10 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[1.833ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'user_login' AND table_type = 'BASE TABLE'

2024/06/13 16:10:10 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[1.116ms] [rows:-] SELECT DATABASE()

2024/06/13 16:10:10 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[0.745ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:10:10 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[1.113ms] [rows:-] SELECT * FROM `user_login` LIMIT 1

2024/06/13 16:10:10 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[2.265ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'user_login' ORDER BY ORDINAL_POSITION

2024/06/13 16:10:15 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:43
[1.669ms] [rows:20] SELECT A.article_id, A.blog_title, L.label_name, A.created_time, A.view_num FROM article AS A JOIN label AS L ON A.label_id = L.label_id ORDER BY A.created_time DESC

2024/06/13 16:10:15 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:53
[1.260ms] [rows:20] SELECT A.article_id, A.blog_title, L.label_name, A.created_time, A.view_num FROM article AS A JOIN label AS L ON A.label_id = L.label_id ORDER BY A.view_num DESC

2024/06/13 16:10:16 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:58
[3.780ms] [rows:1] SELECT * FROM `article` WHERE article_id=73073424687207937 ORDER BY `article`.`article_id` LIMIT 1

2024/06/13 16:10:18 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:71
[1.030ms] [rows:1] SELECT * FROM `article` WHERE article_id=73073424687207937 ORDER BY `article`.`article_id` LIMIT 1

2024/06/13 16:10:18 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:97
[0.596ms] [rows:1] SELECT * FROM `article` WHERE article_id=73073424687207937 ORDER BY `article`.`article_id` LIMIT 1

2024/06/13 16:10:18 E:/BlogWebsite/OnlineVersion/blog/service/mysql/label.go:43
[0.598ms] [rows:1] SELECT * FROM `label` WHERE label_id=73073287567021569 ORDER BY `label`.`label_id` LIMIT 1

2024/06/13 16:10:22 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:71
[4.553ms] [rows:1] SELECT * FROM `article` WHERE article_id=73073424687207937 ORDER BY `article`.`article_id` LIMIT 1

2024/06/13 16:10:22 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:97
[1.142ms] [rows:1] SELECT * FROM `article` WHERE article_id=73073424687207937 ORDER BY `article`.`article_id` LIMIT 1

2024/06/13 16:10:22 E:/BlogWebsite/OnlineVersion/blog/service/mysql/label.go:43
[1.172ms] [rows:1] SELECT * FROM `label` WHERE label_id=73073287567021569 ORDER BY `label`.`label_id` LIMIT 1

2024/06/13 16:10:29 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:71
[3.120ms] [rows:1] SELECT * FROM `article` WHERE article_id=73073424687207937 ORDER BY `article`.`article_id` LIMIT 1

2024/06/13 16:10:29 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:97
[1.684ms] [rows:1] SELECT * FROM `article` WHERE article_id=73073424687207937 ORDER BY `article`.`article_id` LIMIT 1

2024/06/13 16:10:29 E:/BlogWebsite/OnlineVersion/blog/service/mysql/label.go:43
[1.291ms] [rows:1] SELECT * FROM `label` WHERE label_id=73073287567021569 ORDER BY `label`.`label_id` LIMIT 1

2024/06/13 16:10:40 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:71
[9.515ms] [rows:1] SELECT * FROM `article` WHERE article_id=73073424687207937 ORDER BY `article`.`article_id` LIMIT 1

2024/06/13 16:10:40 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:97
[1.968ms] [rows:1] SELECT * FROM `article` WHERE article_id=73073424687207937 ORDER BY `article`.`article_id` LIMIT 1

2024/06/13 16:10:40 E:/BlogWebsite/OnlineVersion/blog/service/mysql/label.go:43
[1.032ms] [rows:1] SELECT * FROM `label` WHERE label_id=73073287567021569 ORDER BY `label`.`label_id` LIMIT 1

2024/06/13 16:11:54 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[1.042ms] [rows:-] SELECT DATABASE()

2024/06/13 16:11:54 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[1.941ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:11:54 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[2.907ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'article' AND table_type = 'BASE TABLE'

2024/06/13 16:11:54 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[0.693ms] [rows:-] SELECT DATABASE()

2024/06/13 16:11:54 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[1.265ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:11:54 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[1.217ms] [rows:-] SELECT * FROM `article` LIMIT 1

2024/06/13 16:11:54 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[2.506ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'article' ORDER BY ORDINAL_POSITION

2024/06/13 16:11:54 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[1.429ms] [rows:-] SELECT DATABASE()

2024/06/13 16:11:54 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[1.821ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:11:54 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[1.759ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'tools' AND table_type = 'BASE TABLE'

2024/06/13 16:11:54 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[1.198ms] [rows:-] SELECT DATABASE()

2024/06/13 16:11:54 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[0.709ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:11:54 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[1.585ms] [rows:-] SELECT * FROM `tools` LIMIT 1

2024/06/13 16:11:54 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[1.641ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'tools' ORDER BY ORDINAL_POSITION

2024/06/13 16:11:54 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[0.662ms] [rows:-] SELECT DATABASE()

2024/06/13 16:11:54 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[0.621ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:11:54 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[1.643ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'label' AND table_type = 'BASE TABLE'

2024/06/13 16:11:54 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[0.568ms] [rows:-] SELECT DATABASE()

2024/06/13 16:11:54 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[0.622ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:11:54 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[1.032ms] [rows:-] SELECT * FROM `label` LIMIT 1

2024/06/13 16:11:54 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[0.639ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'label' ORDER BY ORDINAL_POSITION

2024/06/13 16:11:54 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[1.036ms] [rows:-] SELECT DATABASE()

2024/06/13 16:11:54 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[1.150ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:11:54 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[1.765ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'user_info' AND table_type = 'BASE TABLE'

2024/06/13 16:11:54 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[1.156ms] [rows:-] SELECT DATABASE()

2024/06/13 16:11:54 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[0.659ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:11:54 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[1.115ms] [rows:-] SELECT * FROM `user_info` LIMIT 1

2024/06/13 16:11:54 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[1.390ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'user_info' ORDER BY ORDINAL_POSITION

2024/06/13 16:11:54 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[1.140ms] [rows:-] SELECT DATABASE()

2024/06/13 16:11:54 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[1.262ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:11:54 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[1.625ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'user_login' AND table_type = 'BASE TABLE'

2024/06/13 16:11:54 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[1.040ms] [rows:-] SELECT DATABASE()

2024/06/13 16:11:54 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[0.550ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:11:54 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[1.145ms] [rows:-] SELECT * FROM `user_login` LIMIT 1

2024/06/13 16:11:54 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[1.825ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'user_login' ORDER BY ORDINAL_POSITION

2024/06/13 16:11:58 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:71
[1.556ms] [rows:1] SELECT * FROM `article` WHERE article_id=73073424687207937 ORDER BY `article`.`article_id` LIMIT 1

2024/06/13 16:11:58 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:97
[1.152ms] [rows:1] SELECT * FROM `article` WHERE article_id=73073424687207937 ORDER BY `article`.`article_id` LIMIT 1

2024/06/13 16:11:58 E:/BlogWebsite/OnlineVersion/blog/service/mysql/label.go:43
[0.504ms] [rows:1] SELECT * FROM `label` WHERE label_id=73073287567021569 ORDER BY `label`.`label_id` LIMIT 1

2024/06/13 16:13:21 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[1.044ms] [rows:-] SELECT DATABASE()

2024/06/13 16:13:21 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[1.642ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:13:21 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[1.858ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'article' AND table_type = 'BASE TABLE'

2024/06/13 16:13:21 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[1.178ms] [rows:-] SELECT DATABASE()

2024/06/13 16:13:21 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[0.624ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:13:22 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[1.090ms] [rows:-] SELECT * FROM `article` LIMIT 1

2024/06/13 16:13:22 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[6.912ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'article' ORDER BY ORDINAL_POSITION

2024/06/13 16:13:22 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[1.104ms] [rows:-] SELECT DATABASE()

2024/06/13 16:13:22 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[0.504ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:13:22 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[1.655ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'tools' AND table_type = 'BASE TABLE'

2024/06/13 16:13:22 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[1.115ms] [rows:-] SELECT DATABASE()

2024/06/13 16:13:22 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[0.659ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:13:22 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[1.183ms] [rows:-] SELECT * FROM `tools` LIMIT 1

2024/06/13 16:13:22 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[1.714ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'tools' ORDER BY ORDINAL_POSITION

2024/06/13 16:13:22 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[1.127ms] [rows:-] SELECT DATABASE()

2024/06/13 16:13:22 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[1.829ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:13:22 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[1.708ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'label' AND table_type = 'BASE TABLE'

2024/06/13 16:13:22 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[1.106ms] [rows:-] SELECT DATABASE()

2024/06/13 16:13:22 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[0.668ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:13:22 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[1.031ms] [rows:-] SELECT * FROM `label` LIMIT 1

2024/06/13 16:13:22 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[1.548ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'label' ORDER BY ORDINAL_POSITION

2024/06/13 16:13:22 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[1.041ms] [rows:-] SELECT DATABASE()

2024/06/13 16:13:22 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[0.621ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:13:22 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[1.273ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'user_info' AND table_type = 'BASE TABLE'

2024/06/13 16:13:22 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[1.045ms] [rows:-] SELECT DATABASE()

2024/06/13 16:13:22 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[1.055ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:13:22 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[1.601ms] [rows:-] SELECT * FROM `user_info` LIMIT 1

2024/06/13 16:13:22 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[2.114ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'user_info' ORDER BY ORDINAL_POSITION

2024/06/13 16:13:22 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[1.037ms] [rows:-] SELECT DATABASE()

2024/06/13 16:13:22 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[1.036ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:13:22 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[1.556ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'user_login' AND table_type = 'BASE TABLE'

2024/06/13 16:13:22 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[1.046ms] [rows:-] SELECT DATABASE()

2024/06/13 16:13:22 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[0.528ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:13:22 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[1.096ms] [rows:-] SELECT * FROM `user_login` LIMIT 1

2024/06/13 16:13:22 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[1.894ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'user_login' ORDER BY ORDINAL_POSITION

2024/06/13 16:13:26 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:71
[1.649ms] [rows:1] SELECT * FROM `article` WHERE article_id=73073424687207937 ORDER BY `article`.`article_id` LIMIT 1

2024/06/13 16:13:26 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:97
[1.177ms] [rows:1] SELECT * FROM `article` WHERE article_id=73073424687207937 ORDER BY `article`.`article_id` LIMIT 1

2024/06/13 16:13:26 E:/BlogWebsite/OnlineVersion/blog/service/mysql/label.go:43
[0.574ms] [rows:1] SELECT * FROM `label` WHERE label_id=73073287567021569 ORDER BY `label`.`label_id` LIMIT 1

2024/06/13 16:14:53 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[1.049ms] [rows:-] SELECT DATABASE()

2024/06/13 16:14:53 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[2.066ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:14:53 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[7.364ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'article' AND table_type = 'BASE TABLE'

2024/06/13 16:14:53 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[1.099ms] [rows:-] SELECT DATABASE()

2024/06/13 16:14:53 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[0.679ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:14:53 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[1.663ms] [rows:-] SELECT * FROM `article` LIMIT 1

2024/06/13 16:14:53 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[1.874ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'article' ORDER BY ORDINAL_POSITION

2024/06/13 16:14:53 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[1.054ms] [rows:-] SELECT DATABASE()

2024/06/13 16:14:53 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[0.699ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:14:53 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[1.304ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'tools' AND table_type = 'BASE TABLE'

2024/06/13 16:14:53 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[1.029ms] [rows:-] SELECT DATABASE()

2024/06/13 16:14:53 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[0.519ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:14:53 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[1.038ms] [rows:-] SELECT * FROM `tools` LIMIT 1

2024/06/13 16:14:53 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[0.692ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'tools' ORDER BY ORDINAL_POSITION

2024/06/13 16:14:53 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[0.677ms] [rows:-] SELECT DATABASE()

2024/06/13 16:14:53 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[0.667ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:14:53 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[1.732ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'label' AND table_type = 'BASE TABLE'

2024/06/13 16:14:53 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[1.150ms] [rows:-] SELECT DATABASE()

2024/06/13 16:14:53 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[0.503ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:14:53 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[1.146ms] [rows:-] SELECT * FROM `label` LIMIT 1

2024/06/13 16:14:53 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[1.564ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'label' ORDER BY ORDINAL_POSITION

2024/06/13 16:14:53 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[1.042ms] [rows:-] SELECT DATABASE()

2024/06/13 16:14:53 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[0.733ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:14:53 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[1.349ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'user_info' AND table_type = 'BASE TABLE'

2024/06/13 16:14:53 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[1.092ms] [rows:-] SELECT DATABASE()

2024/06/13 16:14:53 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[0.626ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:14:53 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[1.218ms] [rows:-] SELECT * FROM `user_info` LIMIT 1

2024/06/13 16:14:53 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[2.440ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'user_info' ORDER BY ORDINAL_POSITION

2024/06/13 16:14:53 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[1.128ms] [rows:-] SELECT DATABASE()

2024/06/13 16:14:53 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[1.028ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:14:53 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[1.703ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'user_login' AND table_type = 'BASE TABLE'

2024/06/13 16:14:53 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[1.111ms] [rows:-] SELECT DATABASE()

2024/06/13 16:14:53 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[0.653ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:14:53 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[1.146ms] [rows:-] SELECT * FROM `user_login` LIMIT 1

2024/06/13 16:14:53 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[1.402ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'user_login' ORDER BY ORDINAL_POSITION

2024/06/13 16:14:57 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:71
[1.021ms] [rows:1] SELECT * FROM `article` WHERE article_id=73073424687207937 ORDER BY `article`.`article_id` LIMIT 1

2024/06/13 16:14:57 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:97
[0.645ms] [rows:1] SELECT * FROM `article` WHERE article_id=73073424687207937 ORDER BY `article`.`article_id` LIMIT 1

2024/06/13 16:14:57 E:/BlogWebsite/OnlineVersion/blog/service/mysql/label.go:43
[1.160ms] [rows:1] SELECT * FROM `label` WHERE label_id=73073287567021569 ORDER BY `label`.`label_id` LIMIT 1

2024/06/13 16:16:35 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:58
[8.129ms] [rows:1] SELECT * FROM `article` WHERE article_id=73073424687207937 ORDER BY `article`.`article_id` LIMIT 1

2024/06/13 16:16:35 E:/BlogWebsite/OnlineVersion/blog/service/mysql/label.go:43
[4.855ms] [rows:1] SELECT * FROM `label` WHERE label_id=73073287567021569 ORDER BY `label`.`label_id` LIMIT 1

2024/06/13 16:31:48 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[1.553ms] [rows:-] SELECT DATABASE()

2024/06/13 16:31:48 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[1.761ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:31:48 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[1.924ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'article' AND table_type = 'BASE TABLE'

2024/06/13 16:31:48 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[1.345ms] [rows:-] SELECT DATABASE()

2024/06/13 16:31:48 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[1.814ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:31:48 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[1.132ms] [rows:-] SELECT * FROM `article` LIMIT 1

2024/06/13 16:31:48 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[2.442ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'article' ORDER BY ORDINAL_POSITION

2024/06/13 16:31:48 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[1.036ms] [rows:-] SELECT DATABASE()

2024/06/13 16:31:48 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[0.766ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:31:48 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[1.398ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'tools' AND table_type = 'BASE TABLE'

2024/06/13 16:31:48 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[1.076ms] [rows:-] SELECT DATABASE()

2024/06/13 16:31:48 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[0.661ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:31:48 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[1.034ms] [rows:-] SELECT * FROM `tools` LIMIT 1

2024/06/13 16:31:48 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[1.360ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'tools' ORDER BY ORDINAL_POSITION

2024/06/13 16:31:48 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[1.118ms] [rows:-] SELECT DATABASE()

2024/06/13 16:31:48 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[1.172ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:31:48 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[1.843ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'label' AND table_type = 'BASE TABLE'

2024/06/13 16:31:48 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[1.056ms] [rows:-] SELECT DATABASE()

2024/06/13 16:31:48 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[1.252ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:31:48 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[1.127ms] [rows:-] SELECT * FROM `label` LIMIT 1

2024/06/13 16:31:48 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[1.550ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'label' ORDER BY ORDINAL_POSITION

2024/06/13 16:31:48 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[0.669ms] [rows:-] SELECT DATABASE()

2024/06/13 16:31:48 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[0.720ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:31:48 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[4.349ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'user_info' AND table_type = 'BASE TABLE'

2024/06/13 16:31:48 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[0.503ms] [rows:-] SELECT DATABASE()

2024/06/13 16:31:48 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[1.807ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:31:48 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[1.026ms] [rows:-] SELECT * FROM `user_info` LIMIT 1

2024/06/13 16:31:48 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[2.094ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'user_info' ORDER BY ORDINAL_POSITION

2024/06/13 16:31:48 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[1.094ms] [rows:-] SELECT DATABASE()

2024/06/13 16:31:48 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[1.256ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:31:48 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[1.558ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'user_login' AND table_type = 'BASE TABLE'

2024/06/13 16:31:48 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[1.142ms] [rows:-] SELECT DATABASE()

2024/06/13 16:31:48 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[1.615ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:31:48 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[0.607ms] [rows:-] SELECT * FROM `user_login` LIMIT 1

2024/06/13 16:31:48 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[1.282ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'user_login' ORDER BY ORDINAL_POSITION

2024/06/13 16:32:04 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:80
[4.268ms] [rows:1] SELECT * FROM `article` WHERE article_id=73073424687207937 ORDER BY `article`.`article_id` LIMIT 1

2024/06/13 16:32:04 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:106
[1.051ms] [rows:1] SELECT * FROM `article` WHERE article_id=73073424687207937 ORDER BY `article`.`article_id` LIMIT 1

2024/06/13 16:32:04 E:/BlogWebsite/OnlineVersion/blog/service/mysql/label.go:43
[0.516ms] [rows:1] SELECT * FROM `label` WHERE label_id=73073287567021569 ORDER BY `label`.`label_id` LIMIT 1

2024/06/13 16:32:04 E:/BlogWebsite/OnlineVersion/blog/service/mysql/label.go:22
[1.552ms] [rows:1] SELECT * FROM `label` WHERE label_name='kafka' ORDER BY `label`.`label_id` LIMIT 1

2024/06/13 16:32:04 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:90
[3.828ms] [rows:1] UPDATE `article` SET `article_id`=73073424687207937,`view_num`=45,`blog_title`='kafka 集群搭建',`show_context`='在搭建集群之前，每一台虚拟机已经安装好了 zookeeper 和 kafka，并且将 zookeeper 设置为了一个系统服务还添加了开机自启动。搭建 zookeeper 集群之前需要关闭防火墙。',`context`='## 三台虚拟机

### IP 地址和域名

三台虚拟机的 CPU 核数均为 2，IP 和域名（主机名）的关系如下：

| IP 地址        | 域名   |
| -------------- | ------ |
| 192.168.11.101 | kafka1 |
| 192.168.11.102 | kafka2 |
| 192.168.11.103 | kafka3 |

三台机器之间需要能够使用域名相互通信。

### zookeeper 和 kafka

> **注意：**
>
> 1. 在搭建集群之前，每一台虚拟机已经安装好了 zookeeper 和 kafka，并且将 zookeeper 设置为了一个系统服务还添加了开机自启动。
> 2. 搭建 zookeeper 集群之前需要`关闭防火墙`。

## zookeeper 配置文件

现在对每一台机器上执行如下操作：

1. zoo.cfg 配置文件中数据和日志的相关配置：

   ```shell
   # 存放数据文件
   dataDir=/usr/local/zookeeper/data
   # 存放日志文件
   dataLogDir=/usr/local/zookeeper/log
   # 端口号
   clientPort=2181

   # 作为Zookeeper服务器之间维持心跳的时间间隔,单位毫秒
   tickTime=2000

   # 这个参数指定了Leader和Follower初始连接时能容忍的最多心跳数，其中心跳时间间隔由tickTime参数定义。
   # 换句话说,它定义了在初始连接期间Follower可以接收到多少个心跳(每个心跳间隔为tickTime)才会与Leader建立连接。
   # 如果initLimit被设置为 10,这意味着在20秒内(10 * 2秒),Follower必须接收到Leader的心跳，否则连接将会失败。
   initLimit=10

   # Leader和Follower之间同步通信的超时时间,这里表示如果超过5*2s=10s,Leader认为Follwer宕机,并从服务器列表中删除Follwer。
   syncLimit=5
   ```

2. 创建多个节点集群时，在 dataDir 指定目录下必须创建 myid 文件，myid 文件用于 zookeeper 验证 server 序号，myid 文件只有一行，并且为当前 server 的序号，例如：server.1 的 myid 就是 1，server.2 的 myid 就是 2。

   ```bash
   [root@kafka1 data]# pwd
   /usr/local/zookeeper/data
   [root@kafka1 data]# cat myid
   1
   ```

3. 添加集群信息。格式：server.A=B:C:D

   A 是一个数字（myid 里面的内容），表示这个是第几号服务器；

   B 是这个服务器的 ip 地址；

   C 表示的是这个服务器与集群中的 Leader 服务器交换信息的端口；

   D 表示的是万一集群中的 Leader 服务器挂了，需要一个端口来重新进行选举，选出一个新的 Leader；

   所以 zoo.cfg 配置文件中需要添加如下配置：

   ```shell
   server.1=192.168.11.101:2888:3888
   server.2=192.168.11.102:2888:3888
   server.3=192.168.11.103:2888:3888
   ```

4. 重启 zookeeper：

   ```bash
   [root@kafka1 conf]# systemctl restart zookeeper
   [root@kafka1 conf]# jps
   8824 QuorumPeerMain
   8860 Jps
   ```

> 另外两台主机参考以上步骤做相应的变通即可。

## kafka 配置文件

分别修改 192.168.11.101，192.168.11.102，192.168.11.103 三个节点的 kafka 配置文件 server.properties：

1. 192.168.11.101 的配置：

   ```shell
   # 集群中每个节点的唯一标识
   broker.id=1

   # 定义了 broker 监听的地址和端口
   listeners = PLAINTEXT://kafka1:9092

   # 定义了在集群内和外部客户端通信时要使用的地址
   advertised.listeners=PLAINTEXT://kafka1:9092

   # zookeeper的连接地址
   zookeeper.connect=kafka1:2181,kafka2:2181,kafka3:2181/kafka
   ```

2. 192.168.11.102 的配置：

   ```shell
   # 集群中每个节点的唯一标识
   broker.id=2

   # 定义了 broker 监听的地址和端口
   listeners = PLAINTEXT://kafka2:9092

   # 定义了在集群内和外部客户端通信时要使用的地址
   advertised.listeners=PLAINTEXT://kafka2:9092

   # zookeeper的连接地址
   zookeeper.connect=kafka1:2181,kafka2:2181,kafka3:2181/kafka
   ```

3. 192.168.11.103 的配置：

   ```shell
   # 集群中每个节点的唯一标识
   broker.id=3

   # 定义了 broker 监听的地址和端口
   listeners = PLAINTEXT://kafka3:9092

   # 定义了在集群内和外部客户端通信时要使用的地址
   advertised.listeners=PLAINTEXT://kafka3:9092

   # zookeeper的连接地址
   zookeeper.connect=kafka1:2181,kafka2:2181,kafka3:2181/kafka
   ```

### 启动和停止

```bash
# 启动
kafka-server-start.sh -daemon /usr/local/kafka/config/server.properties

# 查看是否启动成功
jps

# 停止
kafka-server-stop.sh
```
',`updated_time`='2024-06-13 16:32:04.962',`label_id`=73073287567021569 WHERE article_id=73073424687207937 AND `article_id` = 73073424687207937

2024/06/13 16:32:06 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:52
[1.510ms] [rows:20] SELECT A.article_id, A.blog_title, L.label_name, A.created_time, A.view_num FROM article AS A JOIN label AS L ON A.label_id = L.label_id ORDER BY A.created_time DESC

2024/06/13 16:32:06 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:62
[1.583ms] [rows:20] SELECT A.article_id, A.blog_title, L.label_name, A.created_time, A.view_num FROM article AS A JOIN label AS L ON A.label_id = L.label_id ORDER BY A.view_num DESC

2024/06/13 16:32:07 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:67
[1.062ms] [rows:1] SELECT * FROM `article` WHERE article_id=73073424687207937 ORDER BY `article`.`article_id` LIMIT 1

2024/06/13 16:32:10 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:80
[3.749ms] [rows:1] SELECT * FROM `article` WHERE article_id=73073424687207937 ORDER BY `article`.`article_id` LIMIT 1

2024/06/13 16:32:10 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:106
[1.571ms] [rows:1] SELECT * FROM `article` WHERE article_id=73073424687207937 ORDER BY `article`.`article_id` LIMIT 1

2024/06/13 16:32:10 E:/BlogWebsite/OnlineVersion/blog/service/mysql/label.go:43
[0.689ms] [rows:1] SELECT * FROM `label` WHERE label_id=73073287567021569 ORDER BY `label`.`label_id` LIMIT 1

2024/06/13 16:32:18 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:80
[3.948ms] [rows:1] SELECT * FROM `article` WHERE article_id=73073424687207937 ORDER BY `article`.`article_id` LIMIT 1

2024/06/13 16:32:18 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:106
[1.026ms] [rows:1] SELECT * FROM `article` WHERE article_id=73073424687207937 ORDER BY `article`.`article_id` LIMIT 1

2024/06/13 16:32:18 E:/BlogWebsite/OnlineVersion/blog/service/mysql/label.go:43
[1.105ms] [rows:1] SELECT * FROM `label` WHERE label_id=73073287567021569 ORDER BY `label`.`label_id` LIMIT 1

2024/06/13 16:33:11 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[0.502ms] [rows:-] SELECT DATABASE()

2024/06/13 16:33:11 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[1.410ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:33:11 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[2.189ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'article' AND table_type = 'BASE TABLE'

2024/06/13 16:33:11 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[1.036ms] [rows:-] SELECT DATABASE()

2024/06/13 16:33:11 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[0.592ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:33:11 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[1.096ms] [rows:-] SELECT * FROM `article` LIMIT 1

2024/06/13 16:33:11 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[1.263ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'article' ORDER BY ORDINAL_POSITION

2024/06/13 16:33:11 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[1.123ms] [rows:-] SELECT DATABASE()

2024/06/13 16:33:11 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[1.540ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:33:11 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[1.488ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'tools' AND table_type = 'BASE TABLE'

2024/06/13 16:33:11 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[1.018ms] [rows:-] SELECT DATABASE()

2024/06/13 16:33:11 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[1.334ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:33:11 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[1.237ms] [rows:-] SELECT * FROM `tools` LIMIT 1

2024/06/13 16:33:11 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[2.002ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'tools' ORDER BY ORDINAL_POSITION

2024/06/13 16:33:11 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[1.175ms] [rows:-] SELECT DATABASE()

2024/06/13 16:33:11 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[1.869ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:33:11 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[1.727ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'label' AND table_type = 'BASE TABLE'

2024/06/13 16:33:11 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[1.078ms] [rows:-] SELECT DATABASE()

2024/06/13 16:33:11 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[0.570ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:33:11 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[1.082ms] [rows:-] SELECT * FROM `label` LIMIT 1

2024/06/13 16:33:11 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[1.466ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'label' ORDER BY ORDINAL_POSITION

2024/06/13 16:33:11 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[0.660ms] [rows:-] SELECT DATABASE()

2024/06/13 16:33:11 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[0.648ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:33:11 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[1.776ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'user_info' AND table_type = 'BASE TABLE'

2024/06/13 16:33:11 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[1.169ms] [rows:-] SELECT DATABASE()

2024/06/13 16:33:11 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[0.640ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:33:11 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[0.586ms] [rows:-] SELECT * FROM `user_info` LIMIT 1

2024/06/13 16:33:11 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[1.310ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'user_info' ORDER BY ORDINAL_POSITION

2024/06/13 16:33:11 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[1.042ms] [rows:-] SELECT DATABASE()

2024/06/13 16:33:11 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[1.319ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:33:11 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[1.730ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'user_login' AND table_type = 'BASE TABLE'

2024/06/13 16:33:11 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[1.078ms] [rows:-] SELECT DATABASE()

2024/06/13 16:33:11 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[0.652ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:33:11 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[1.087ms] [rows:-] SELECT * FROM `user_login` LIMIT 1

2024/06/13 16:33:11 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[2.491ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'user_login' ORDER BY ORDINAL_POSITION

2024/06/13 16:33:16 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:82
[4.494ms] [rows:1] SELECT * FROM `article` WHERE article_id=73073424687207937 ORDER BY `article`.`article_id` LIMIT 1

2024/06/13 16:33:16 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:108
[1.675ms] [rows:1] SELECT * FROM `article` WHERE article_id=73073424687207937 ORDER BY `article`.`article_id` LIMIT 1

2024/06/13 16:33:16 E:/BlogWebsite/OnlineVersion/blog/service/mysql/label.go:43
[0.645ms] [rows:1] SELECT * FROM `label` WHERE label_id=73073287567021569 ORDER BY `label`.`label_id` LIMIT 1

2024/06/13 16:33:35 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:82
[4.314ms] [rows:1] SELECT * FROM `article` WHERE article_id=73073424687207937 ORDER BY `article`.`article_id` LIMIT 1

2024/06/13 16:33:35 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:108
[1.643ms] [rows:1] SELECT * FROM `article` WHERE article_id=73073424687207937 ORDER BY `article`.`article_id` LIMIT 1

2024/06/13 16:33:35 E:/BlogWebsite/OnlineVersion/blog/service/mysql/label.go:43
[1.307ms] [rows:1] SELECT * FROM `label` WHERE label_id=73073287567021569 ORDER BY `label`.`label_id` LIMIT 1

2024/06/13 16:35:22 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[1.092ms] [rows:-] SELECT DATABASE()

2024/06/13 16:35:22 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[1.905ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:35:22 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[1.269ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'article' AND table_type = 'BASE TABLE'

2024/06/13 16:35:22 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[1.091ms] [rows:-] SELECT DATABASE()

2024/06/13 16:35:22 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[0.590ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:35:22 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[0.568ms] [rows:-] SELECT * FROM `article` LIMIT 1

2024/06/13 16:35:22 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[0.875ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'article' ORDER BY ORDINAL_POSITION

2024/06/13 16:35:22 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[1.054ms] [rows:-] SELECT DATABASE()

2024/06/13 16:35:22 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[0.540ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:35:22 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[1.249ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'tools' AND table_type = 'BASE TABLE'

2024/06/13 16:35:22 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[1.013ms] [rows:-] SELECT DATABASE()

2024/06/13 16:35:22 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[0.523ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:35:22 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[0.656ms] [rows:-] SELECT * FROM `tools` LIMIT 1

2024/06/13 16:35:22 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[0.770ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'tools' ORDER BY ORDINAL_POSITION

2024/06/13 16:35:22 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[0.663ms] [rows:-] SELECT DATABASE()

2024/06/13 16:35:22 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[0.834ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:35:22 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[1.992ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'label' AND table_type = 'BASE TABLE'

2024/06/13 16:35:22 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[1.099ms] [rows:-] SELECT DATABASE()

2024/06/13 16:35:22 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[0.504ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:35:22 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[1.119ms] [rows:-] SELECT * FROM `label` LIMIT 1

2024/06/13 16:35:22 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[0.505ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'label' ORDER BY ORDINAL_POSITION

2024/06/13 16:35:22 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[0.637ms] [rows:-] SELECT DATABASE()

2024/06/13 16:35:22 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[0.585ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:35:22 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[1.543ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'user_info' AND table_type = 'BASE TABLE'

2024/06/13 16:35:22 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[0.663ms] [rows:-] SELECT DATABASE()

2024/06/13 16:35:22 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[0.574ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:35:22 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[1.081ms] [rows:-] SELECT * FROM `user_info` LIMIT 1

2024/06/13 16:35:22 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[1.592ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'user_info' ORDER BY ORDINAL_POSITION

2024/06/13 16:35:22 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[1.093ms] [rows:-] SELECT DATABASE()

2024/06/13 16:35:22 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[1.081ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:35:22 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[1.852ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'user_login' AND table_type = 'BASE TABLE'

2024/06/13 16:35:22 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[1.053ms] [rows:-] SELECT DATABASE()

2024/06/13 16:35:22 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[1.240ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:35:22 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[0.600ms] [rows:-] SELECT * FROM `user_login` LIMIT 1

2024/06/13 16:35:22 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[0.818ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'user_login' ORDER BY ORDINAL_POSITION

2024/06/13 16:35:26 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:80
[1.602ms] [rows:1] SELECT * FROM `article` WHERE article_id=73073424687207937 ORDER BY `article`.`article_id` LIMIT 1

2024/06/13 16:35:26 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:106
[1.114ms] [rows:1] SELECT * FROM `article` WHERE article_id=73073424687207937 ORDER BY `article`.`article_id` LIMIT 1

2024/06/13 16:35:26 E:/BlogWebsite/OnlineVersion/blog/service/mysql/label.go:43
[0.523ms] [rows:1] SELECT * FROM `label` WHERE label_id=73073287567021569 ORDER BY `label`.`label_id` LIMIT 1

2024/06/13 16:38:08 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[1.040ms] [rows:-] SELECT DATABASE()

2024/06/13 16:38:08 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[1.645ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:38:08 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[1.707ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'article' AND table_type = 'BASE TABLE'

2024/06/13 16:38:08 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[1.022ms] [rows:-] SELECT DATABASE()

2024/06/13 16:38:08 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[0.920ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:38:08 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[1.546ms] [rows:-] SELECT * FROM `article` LIMIT 1

2024/06/13 16:38:08 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[1.353ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'article' ORDER BY ORDINAL_POSITION

2024/06/13 16:38:08 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[1.038ms] [rows:-] SELECT DATABASE()

2024/06/13 16:38:08 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[0.548ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:38:08 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[1.262ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'tools' AND table_type = 'BASE TABLE'

2024/06/13 16:38:08 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[1.117ms] [rows:-] SELECT DATABASE()

2024/06/13 16:38:08 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[0.619ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:38:08 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[1.030ms] [rows:-] SELECT * FROM `tools` LIMIT 1

2024/06/13 16:38:08 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[1.503ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'tools' ORDER BY ORDINAL_POSITION

2024/06/13 16:38:08 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[1.052ms] [rows:-] SELECT DATABASE()

2024/06/13 16:38:08 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[1.295ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:38:08 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[1.794ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'label' AND table_type = 'BASE TABLE'

2024/06/13 16:38:08 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[1.085ms] [rows:-] SELECT DATABASE()

2024/06/13 16:38:08 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[0.712ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:38:08 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[1.080ms] [rows:-] SELECT * FROM `label` LIMIT 1

2024/06/13 16:38:08 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[1.211ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'label' ORDER BY ORDINAL_POSITION

2024/06/13 16:38:08 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[1.020ms] [rows:-] SELECT DATABASE()

2024/06/13 16:38:08 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[1.161ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:38:08 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[1.742ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'user_info' AND table_type = 'BASE TABLE'

2024/06/13 16:38:08 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[1.017ms] [rows:-] SELECT DATABASE()

2024/06/13 16:38:08 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[1.138ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:38:08 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[1.153ms] [rows:-] SELECT * FROM `user_info` LIMIT 1

2024/06/13 16:38:08 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[1.192ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'user_info' ORDER BY ORDINAL_POSITION

2024/06/13 16:38:08 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[1.022ms] [rows:-] SELECT DATABASE()

2024/06/13 16:38:08 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[0.633ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:38:08 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[1.244ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'user_login' AND table_type = 'BASE TABLE'

2024/06/13 16:38:08 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[1.024ms] [rows:-] SELECT DATABASE()

2024/06/13 16:38:08 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[1.046ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:38:08 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[0.540ms] [rows:-] SELECT * FROM `user_login` LIMIT 1

2024/06/13 16:38:08 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[1.554ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'user_login' ORDER BY ORDINAL_POSITION

2024/06/13 16:38:23 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:80
[4.839ms] [rows:1] SELECT * FROM `article` WHERE article_id=73073424687207937 ORDER BY `article`.`article_id` LIMIT 1

2024/06/13 16:38:23 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:106
[1.133ms] [rows:1] SELECT * FROM `article` WHERE article_id=73073424687207937 ORDER BY `article`.`article_id` LIMIT 1

2024/06/13 16:38:23 E:/BlogWebsite/OnlineVersion/blog/service/mysql/label.go:43
[1.038ms] [rows:1] SELECT * FROM `label` WHERE label_id=73073287567021569 ORDER BY `label`.`label_id` LIMIT 1

2024/06/13 16:39:38 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[0.000ms] [rows:-] SELECT DATABASE()

2024/06/13 16:39:38 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[1.618ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:39:38 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[1.702ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'article' AND table_type = 'BASE TABLE'

2024/06/13 16:39:38 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[1.021ms] [rows:-] SELECT DATABASE()

2024/06/13 16:39:38 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[13.266ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:39:38 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[3.168ms] [rows:-] SELECT * FROM `article` LIMIT 1

2024/06/13 16:39:38 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[3.829ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'article' ORDER BY ORDINAL_POSITION

2024/06/13 16:39:38 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[1.211ms] [rows:-] SELECT DATABASE()

2024/06/13 16:39:38 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[0.669ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:39:38 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[1.681ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'tools' AND table_type = 'BASE TABLE'

2024/06/13 16:39:38 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[1.130ms] [rows:-] SELECT DATABASE()

2024/06/13 16:39:38 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[0.654ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:39:38 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[1.026ms] [rows:-] SELECT * FROM `tools` LIMIT 1

2024/06/13 16:39:38 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[0.729ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'tools' ORDER BY ORDINAL_POSITION

2024/06/13 16:39:38 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[0.525ms] [rows:-] SELECT DATABASE()

2024/06/13 16:39:38 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[1.168ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:39:38 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[1.539ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'label' AND table_type = 'BASE TABLE'

2024/06/13 16:39:38 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[0.582ms] [rows:-] SELECT DATABASE()

2024/06/13 16:39:38 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[0.557ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:39:38 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[1.124ms] [rows:-] SELECT * FROM `label` LIMIT 1

2024/06/13 16:39:38 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[1.372ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'label' ORDER BY ORDINAL_POSITION

2024/06/13 16:39:38 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[0.528ms] [rows:-] SELECT DATABASE()

2024/06/13 16:39:38 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[1.176ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:39:38 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[1.201ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'user_info' AND table_type = 'BASE TABLE'

2024/06/13 16:39:38 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[1.022ms] [rows:-] SELECT DATABASE()

2024/06/13 16:39:38 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[0.642ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:39:38 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[0.596ms] [rows:-] SELECT * FROM `user_info` LIMIT 1

2024/06/13 16:39:38 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[1.135ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'user_info' ORDER BY ORDINAL_POSITION

2024/06/13 16:39:38 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[0.522ms] [rows:-] SELECT DATABASE()

2024/06/13 16:39:38 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[1.180ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:39:38 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[1.165ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'user_login' AND table_type = 'BASE TABLE'

2024/06/13 16:39:38 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[1.085ms] [rows:-] SELECT DATABASE()

2024/06/13 16:39:38 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[1.106ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:39:38 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[1.066ms] [rows:-] SELECT * FROM `user_login` LIMIT 1

2024/06/13 16:39:38 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[0.805ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'user_login' ORDER BY ORDINAL_POSITION

2024/06/13 16:39:42 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:82
[1.145ms] [rows:1] SELECT * FROM `article` WHERE article_id=73073424687207937 ORDER BY `article`.`article_id` LIMIT 1

2024/06/13 16:39:42 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:108
[1.038ms] [rows:1] SELECT * FROM `article` WHERE article_id=73073424687207937 ORDER BY `article`.`article_id` LIMIT 1

2024/06/13 16:39:42 E:/BlogWebsite/OnlineVersion/blog/service/mysql/label.go:43
[0.528ms] [rows:1] SELECT * FROM `label` WHERE label_id=73073287567021569 ORDER BY `label`.`label_id` LIMIT 1

2024/06/13 16:42:09 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[0.000ms] [rows:-] SELECT DATABASE()

2024/06/13 16:42:09 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[1.002ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:42:09 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[1.910ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'article' AND table_type = 'BASE TABLE'

2024/06/13 16:42:09 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[1.070ms] [rows:-] SELECT DATABASE()

2024/06/13 16:42:09 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[0.667ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:42:09 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[1.621ms] [rows:-] SELECT * FROM `article` LIMIT 1

2024/06/13 16:42:09 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[2.361ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'article' ORDER BY ORDINAL_POSITION

2024/06/13 16:42:09 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[1.079ms] [rows:-] SELECT DATABASE()

2024/06/13 16:42:09 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[0.699ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:42:09 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[1.268ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'tools' AND table_type = 'BASE TABLE'

2024/06/13 16:42:09 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[1.100ms] [rows:-] SELECT DATABASE()

2024/06/13 16:42:09 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[0.590ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:42:09 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[0.505ms] [rows:-] SELECT * FROM `tools` LIMIT 1

2024/06/13 16:42:09 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[1.006ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'tools' ORDER BY ORDINAL_POSITION

2024/06/13 16:42:09 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[0.602ms] [rows:-] SELECT DATABASE()

2024/06/13 16:42:09 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[0.595ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:42:09 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[1.563ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'label' AND table_type = 'BASE TABLE'

2024/06/13 16:42:09 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[0.578ms] [rows:-] SELECT DATABASE()

2024/06/13 16:42:09 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[0.504ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:42:09 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[1.125ms] [rows:-] SELECT * FROM `label` LIMIT 1

2024/06/13 16:42:09 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[0.776ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'label' ORDER BY ORDINAL_POSITION

2024/06/13 16:42:09 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[1.104ms] [rows:-] SELECT DATABASE()

2024/06/13 16:42:09 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[1.135ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:42:09 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[1.518ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'user_info' AND table_type = 'BASE TABLE'

2024/06/13 16:42:09 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[1.118ms] [rows:-] SELECT DATABASE()

2024/06/13 16:42:09 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[0.607ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:42:09 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[0.601ms] [rows:-] SELECT * FROM `user_info` LIMIT 1

2024/06/13 16:42:09 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[0.869ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'user_info' ORDER BY ORDINAL_POSITION

2024/06/13 16:42:09 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[1.060ms] [rows:-] SELECT DATABASE()

2024/06/13 16:42:09 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[1.202ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:42:09 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[1.194ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'user_login' AND table_type = 'BASE TABLE'

2024/06/13 16:42:09 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[1.079ms] [rows:-] SELECT DATABASE()

2024/06/13 16:42:09 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[1.218ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 16:42:09 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[0.588ms] [rows:-] SELECT * FROM `user_login` LIMIT 1

2024/06/13 16:42:09 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[0.849ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'user_login' ORDER BY ORDINAL_POSITION

2024/06/13 16:42:17 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:80
[8.177ms] [rows:1] SELECT * FROM `article` WHERE article_id=73073424687207937 ORDER BY `article`.`article_id` LIMIT 1

2024/06/13 16:42:17 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:106
[1.787ms] [rows:1] SELECT * FROM `article` WHERE article_id=73073424687207937 ORDER BY `article`.`article_id` LIMIT 1

2024/06/13 16:42:17 E:/BlogWebsite/OnlineVersion/blog/service/mysql/label.go:43
[1.701ms] [rows:1] SELECT * FROM `label` WHERE label_id=73073287567021569 ORDER BY `label`.`label_id` LIMIT 1

2024/06/13 16:42:17 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:34
[1.930ms] [rows:1] SELECT * FROM `article` WHERE article_id=73073424687207937 ORDER BY `article`.`article_id` LIMIT 1

2024/06/13 16:42:17 E:/BlogWebsite/OnlineVersion/blog/service/mysql/label.go:22
[1.115ms] [rows:1] SELECT * FROM `label` WHERE label_name='kafka' ORDER BY `label`.`label_id` LIMIT 1

2024/06/13 16:42:17 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:90
[4.321ms] [rows:1] UPDATE `article` SET `article_id`=73073424687207937,`view_num`=45,`blog_title`='kafka 集群搭建',`show_context`='在搭建集群之前，每一台虚拟机已经安装好了 zookeeper 和 kafka，并且将 zookeeper 设置为了一个系统服务还添加了开机自启动。',`context`='## 三台虚拟机

### IP 地址和域名

三台虚拟机的 CPU 核数均为 2，IP 和域名（主机名）的关系如下：

| IP 地址        | 域名   |
| -------------- | ------ |
| 192.168.11.101 | kafka1 |
| 192.168.11.102 | kafka2 |
| 192.168.11.103 | kafka3 |

三台机器之间需要能够使用域名相互通信。

### zookeeper 和 kafka

> **注意：**
>
> 1. 在搭建集群之前，每一台虚拟机已经安装好了 zookeeper 和 kafka，并且将 zookeeper 设置为了一个系统服务还添加了开机自启动。
> 2. 搭建 zookeeper 集群之前需要`关闭防火墙`。

## zookeeper 配置文件

现在对每一台机器上执行如下操作：

1. zoo.cfg 配置文件中数据和日志的相关配置：

   ```shell
   # 存放数据文件
   dataDir=/usr/local/zookeeper/data
   # 存放日志文件
   dataLogDir=/usr/local/zookeeper/log
   # 端口号
   clientPort=2181

   # 作为Zookeeper服务器之间维持心跳的时间间隔,单位毫秒
   tickTime=2000

   # 这个参数指定了Leader和Follower初始连接时能容忍的最多心跳数，其中心跳时间间隔由tickTime参数定义。
   # 换句话说,它定义了在初始连接期间Follower可以接收到多少个心跳(每个心跳间隔为tickTime)才会与Leader建立连接。
   # 如果initLimit被设置为 10,这意味着在20秒内(10 * 2秒),Follower必须接收到Leader的心跳，否则连接将会失败。
   initLimit=10

   # Leader和Follower之间同步通信的超时时间,这里表示如果超过5*2s=10s,Leader认为Follwer宕机,并从服务器列表中删除Follwer。
   syncLimit=5
   ```

2. 创建多个节点集群时，在 dataDir 指定目录下必须创建 myid 文件，myid 文件用于 zookeeper 验证 server 序号，myid 文件只有一行，并且为当前 server 的序号，例如：server.1 的 myid 就是 1，server.2 的 myid 就是 2。

   ```bash
   [root@kafka1 data]# pwd
   /usr/local/zookeeper/data
   [root@kafka1 data]# cat myid
   1
   ```

3. 添加集群信息。格式：server.A=B:C:D

   A 是一个数字（myid 里面的内容），表示这个是第几号服务器；

   B 是这个服务器的 ip 地址；

   C 表示的是这个服务器与集群中的 Leader 服务器交换信息的端口；

   D 表示的是万一集群中的 Leader 服务器挂了，需要一个端口来重新进行选举，选出一个新的 Leader；

   所以 zoo.cfg 配置文件中需要添加如下配置：

   ```shell
   server.1=192.168.11.101:2888:3888
   server.2=192.168.11.102:2888:3888
   server.3=192.168.11.103:2888:3888
   ```

4. 重启 zookeeper：

   ```bash
   [root@kafka1 conf]# systemctl restart zookeeper
   [root@kafka1 conf]# jps
   8824 QuorumPeerMain
   8860 Jps
   ```

> 另外两台主机参考以上步骤做相应的变通即可。

## kafka 配置文件

分别修改 192.168.11.101，192.168.11.102，192.168.11.103 三个节点的 kafka 配置文件 server.properties：

1. 192.168.11.101 的配置：

   ```shell
   # 集群中每个节点的唯一标识
   broker.id=1

   # 定义了 broker 监听的地址和端口
   listeners = PLAINTEXT://kafka1:9092

   # 定义了在集群内和外部客户端通信时要使用的地址
   advertised.listeners=PLAINTEXT://kafka1:9092

   # zookeeper的连接地址
   zookeeper.connect=kafka1:2181,kafka2:2181,kafka3:2181/kafka
   ```

2. 192.168.11.102 的配置：

   ```shell
   # 集群中每个节点的唯一标识
   broker.id=2

   # 定义了 broker 监听的地址和端口
   listeners = PLAINTEXT://kafka2:9092

   # 定义了在集群内和外部客户端通信时要使用的地址
   advertised.listeners=PLAINTEXT://kafka2:9092

   # zookeeper的连接地址
   zookeeper.connect=kafka1:2181,kafka2:2181,kafka3:2181/kafka
   ```

3. 192.168.11.103 的配置：

   ```shell
   # 集群中每个节点的唯一标识
   broker.id=3

   # 定义了 broker 监听的地址和端口
   listeners = PLAINTEXT://kafka3:9092

   # 定义了在集群内和外部客户端通信时要使用的地址
   advertised.listeners=PLAINTEXT://kafka3:9092

   # zookeeper的连接地址
   zookeeper.connect=kafka1:2181,kafka2:2181,kafka3:2181/kafka
   ```

### 启动和停止

```bash
# 启动
kafka-server-start.sh -daemon /usr/local/kafka/config/server.properties

# 查看是否启动成功
jps

# 停止
kafka-server-stop.sh
```
',`updated_time`='2024-06-13 16:42:17.465',`label_id`=73073287567021569 WHERE article_id=73073424687207937 AND `article_id` = 73073424687207937

2024/06/13 16:42:20 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:52
[1.424ms] [rows:20] SELECT A.article_id, A.blog_title, L.label_name, A.created_time, A.view_num FROM article AS A JOIN label AS L ON A.label_id = L.label_id ORDER BY A.created_time DESC

2024/06/13 16:42:20 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:62
[1.567ms] [rows:20] SELECT A.article_id, A.blog_title, L.label_name, A.created_time, A.view_num FROM article AS A JOIN label AS L ON A.label_id = L.label_id ORDER BY A.view_num DESC

2024/06/13 16:42:22 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:67
[2.263ms] [rows:1] SELECT * FROM `article` WHERE article_id=73073424687207937 ORDER BY `article`.`article_id` LIMIT 1

2024/06/13 16:42:25 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:80
[3.771ms] [rows:1] SELECT * FROM `article` WHERE article_id=73073424687207937 ORDER BY `article`.`article_id` LIMIT 1

2024/06/13 16:42:25 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:106
[1.171ms] [rows:1] SELECT * FROM `article` WHERE article_id=73073424687207937 ORDER BY `article`.`article_id` LIMIT 1

2024/06/13 16:42:25 E:/BlogWebsite/OnlineVersion/blog/service/mysql/label.go:43
[0.506ms] [rows:1] SELECT * FROM `label` WHERE label_id=73073287567021569 ORDER BY `label`.`label_id` LIMIT 1

2024/06/13 16:42:25 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:34
[0.669ms] [rows:1] SELECT * FROM `article` WHERE article_id=73073424687207937 ORDER BY `article`.`article_id` LIMIT 1

2024/06/13 16:42:25 E:/BlogWebsite/OnlineVersion/blog/service/mysql/label.go:22
[1.113ms] [rows:1] SELECT * FROM `label` WHERE label_name='kafka' ORDER BY `label`.`label_id` LIMIT 1

2024/06/13 16:42:25 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:90
[8.335ms] [rows:1] UPDATE `article` SET `article_id`=73073424687207937,`view_num`=45,`blog_title`='kafka 集群搭建',`show_context`='在搭建集群之前，每一台虚拟机已经安装好了 zookeeper 和 kafka，并且将 zookeeper 设置为了一个系统服务还添加了开机自启动。',`context`='## 三台虚拟机

### IP 地址和域名

三台虚拟机的 CPU 核数均为 2，IP 和域名（主机名）的关系如下：

| IP 地址        | 域名   |
| -------------- | ------ |
| 192.168.11.101 | kafka1 |
| 192.168.11.102 | kafka2 |
| 192.168.11.103 | kafka3 |

三台机器之间需要能够使用域名相互通信。

### zookeeper 和 kafka

> **注意：**
>
> 1. 在搭建集群之前，每一台虚拟机已经安装好了 zookeeper 和 kafka，并且将 zookeeper 设置为了一个系统服务还添加了开机自启动。
> 2. 搭建 zookeeper 集群之前需要`关闭防火墙`。

## zookeeper 配置文件

现在对每一台机器上执行如下操作：

1. zoo.cfg 配置文件中数据和日志的相关配置：

   ```shell
   # 存放数据文件
   dataDir=/usr/local/zookeeper/data
   # 存放日志文件
   dataLogDir=/usr/local/zookeeper/log
   # 端口号
   clientPort=2181

   # 作为Zookeeper服务器之间维持心跳的时间间隔,单位毫秒
   tickTime=2000

   # 这个参数指定了Leader和Follower初始连接时能容忍的最多心跳数，其中心跳时间间隔由tickTime参数定义。
   # 换句话说,它定义了在初始连接期间Follower可以接收到多少个心跳(每个心跳间隔为tickTime)才会与Leader建立连接。
   # 如果initLimit被设置为 10,这意味着在20秒内(10 * 2秒),Follower必须接收到Leader的心跳，否则连接将会失败。
   initLimit=10

   # Leader和Follower之间同步通信的超时时间,这里表示如果超过5*2s=10s,Leader认为Follwer宕机,并从服务器列表中删除Follwer。
   syncLimit=5
   ```

2. 创建多个节点集群时，在 dataDir 指定目录下必须创建 myid 文件，myid 文件用于 zookeeper 验证 server 序号，myid 文件只有一行，并且为当前 server 的序号，例如：server.1 的 myid 就是 1，server.2 的 myid 就是 2。

   ```bash
   [root@kafka1 data]# pwd
   /usr/local/zookeeper/data
   [root@kafka1 data]# cat myid
   1
   ```

3. 添加集群信息。格式：server.A=B:C:D

   A 是一个数字（myid 里面的内容），表示这个是第几号服务器；

   B 是这个服务器的 ip 地址；

   C 表示的是这个服务器与集群中的 Leader 服务器交换信息的端口；

   D 表示的是万一集群中的 Leader 服务器挂了，需要一个端口来重新进行选举，选出一个新的 Leader；

   所以 zoo.cfg 配置文件中需要添加如下配置：

   ```shell
   server.1=192.168.11.101:2888:3888
   server.2=192.168.11.102:2888:3888
   server.3=192.168.11.103:2888:3888
   ```

4. 重启 zookeeper：

   ```bash
   [root@kafka1 conf]# systemctl restart zookeeper
   [root@kafka1 conf]# jps
   8824 QuorumPeerMain
   8860 Jps
   ```

> 另外两台主机参考以上步骤做相应的变通即可。

## kafka 配置文件

分别修改 192.168.11.101，192.168.11.102，192.168.11.103 三个节点的 kafka 配置文件 server.properties：

1. 192.168.11.101 的配置：

   ```shell
   # 集群中每个节点的唯一标识
   broker.id=1

   # 定义了 broker 监听的地址和端口
   listeners = PLAINTEXT://kafka1:9092

   # 定义了在集群内和外部客户端通信时要使用的地址
   advertised.listeners=PLAINTEXT://kafka1:9092

   # zookeeper的连接地址
   zookeeper.connect=kafka1:2181,kafka2:2181,kafka3:2181/kafka
   ```

2. 192.168.11.102 的配置：

   ```shell
   # 集群中每个节点的唯一标识
   broker.id=2

   # 定义了 broker 监听的地址和端口
   listeners = PLAINTEXT://kafka2:9092

   # 定义了在集群内和外部客户端通信时要使用的地址
   advertised.listeners=PLAINTEXT://kafka2:9092

   # zookeeper的连接地址
   zookeeper.connect=kafka1:2181,kafka2:2181,kafka3:2181/kafka
   ```

3. 192.168.11.103 的配置：

   ```shell
   # 集群中每个节点的唯一标识
   broker.id=3

   # 定义了 broker 监听的地址和端口
   listeners = PLAINTEXT://kafka3:9092

   # 定义了在集群内和外部客户端通信时要使用的地址
   advertised.listeners=PLAINTEXT://kafka3:9092

   # zookeeper的连接地址
   zookeeper.connect=kafka1:2181,kafka2:2181,kafka3:2181/kafka
   ```

### 启动和停止

```bash
# 启动
kafka-server-start.sh -daemon /usr/local/kafka/config/server.properties

# 查看是否启动成功
jps

# 停止
kafka-server-stop.sh
```
',`updated_time`='2024-06-13 16:42:25.248',`label_id`=73073287567021569 WHERE article_id=73073424687207937 AND `article_id` = 73073424687207937

2024/06/13 16:42:27 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:52
[2.321ms] [rows:20] SELECT A.article_id, A.blog_title, L.label_name, A.created_time, A.view_num FROM article AS A JOIN label AS L ON A.label_id = L.label_id ORDER BY A.created_time DESC

2024/06/13 16:42:27 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:62
[2.740ms] [rows:20] SELECT A.article_id, A.blog_title, L.label_name, A.created_time, A.view_num FROM article AS A JOIN label AS L ON A.label_id = L.label_id ORDER BY A.view_num DESC

2024/06/13 16:42:28 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:67
[1.023ms] [rows:1] SELECT * FROM `article` WHERE article_id=73073424687207937 ORDER BY `article`.`article_id` LIMIT 1

2024/06/13 16:42:31 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:80
[3.696ms] [rows:1] SELECT * FROM `article` WHERE article_id=73073424687207937 ORDER BY `article`.`article_id` LIMIT 1

2024/06/13 16:42:31 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:106
[0.567ms] [rows:1] SELECT * FROM `article` WHERE article_id=73073424687207937 ORDER BY `article`.`article_id` LIMIT 1

2024/06/13 16:42:31 E:/BlogWebsite/OnlineVersion/blog/service/mysql/label.go:43
[1.030ms] [rows:1] SELECT * FROM `label` WHERE label_id=73073287567021569 ORDER BY `label`.`label_id` LIMIT 1

2024/06/13 16:42:31 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:34
[1.328ms] [rows:1] SELECT * FROM `article` WHERE article_id=73073424687207937 ORDER BY `article`.`article_id` LIMIT 1

2024/06/13 16:42:31 E:/BlogWebsite/OnlineVersion/blog/service/mysql/label.go:22
[1.044ms] [rows:1] SELECT * FROM `label` WHERE label_name='kafka' ORDER BY `label`.`label_id` LIMIT 1

2024/06/13 16:42:31 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:90
[8.237ms] [rows:1] UPDATE `article` SET `article_id`=73073424687207937,`view_num`=45,`blog_title`='kafka 集群搭建',`show_context`='在搭建集群之前，每一台虚拟机已经安装好了 zookeeper 和 kafka，并且将 zookeeper 设置为了一个系统服务还添加了开机自启动。',`context`='## 三台虚拟机

### IP 地址和域名

三台虚拟机的 CPU 核数均为 2，IP 和域名（主机名）的关系如下：

| IP 地址        | 域名   |
| -------------- | ------ |
| 192.168.11.101 | kafka1 |
| 192.168.11.102 | kafka2 |
| 192.168.11.103 | kafka3 |

三台机器之间需要能够使用域名相互通信。

### zookeeper 和 kafka

> **注意：**
>
> 1. 在搭建集群之前，每一台虚拟机已经安装好了 zookeeper 和 kafka，并且将 zookeeper 设置为了一个系统服务还添加了开机自启动。
> 2. 搭建 zookeeper 集群之前需要`关闭防火墙`。

## zookeeper 配置文件

现在对每一台机器上执行如下操作：

1. zoo.cfg 配置文件中数据和日志的相关配置：

   ```shell
   # 存放数据文件
   dataDir=/usr/local/zookeeper/data
   # 存放日志文件
   dataLogDir=/usr/local/zookeeper/log
   # 端口号
   clientPort=2181

   # 作为Zookeeper服务器之间维持心跳的时间间隔,单位毫秒
   tickTime=2000

   # 这个参数指定了Leader和Follower初始连接时能容忍的最多心跳数，其中心跳时间间隔由tickTime参数定义。
   # 换句话说,它定义了在初始连接期间Follower可以接收到多少个心跳(每个心跳间隔为tickTime)才会与Leader建立连接。
   # 如果initLimit被设置为 10,这意味着在20秒内(10 * 2秒),Follower必须接收到Leader的心跳，否则连接将会失败。
   initLimit=10

   # Leader和Follower之间同步通信的超时时间,这里表示如果超过5*2s=10s,Leader认为Follwer宕机,并从服务器列表中删除Follwer。
   syncLimit=5
   ```

2. 创建多个节点集群时，在 dataDir 指定目录下必须创建 myid 文件，myid 文件用于 zookeeper 验证 server 序号，myid 文件只有一行，并且为当前 server 的序号，例如：server.1 的 myid 就是 1，server.2 的 myid 就是 2。

   ```bash
   [root@kafka1 data]# pwd
   /usr/local/zookeeper/data
   [root@kafka1 data]# cat myid
   1
   ```

3. 添加集群信息。格式：server.A=B:C:D

   A 是一个数字（myid 里面的内容），表示这个是第几号服务器；

   B 是这个服务器的 ip 地址；

   C 表示的是这个服务器与集群中的 Leader 服务器交换信息的端口；

   D 表示的是万一集群中的 Leader 服务器挂了，需要一个端口来重新进行选举，选出一个新的 Leader；

   所以 zoo.cfg 配置文件中需要添加如下配置：

   ```shell
   server.1=192.168.11.101:2888:3888
   server.2=192.168.11.102:2888:3888
   server.3=192.168.11.103:2888:3888
   ```

4. 重启 zookeeper：

   ```bash
   [root@kafka1 conf]# systemctl restart zookeeper
   [root@kafka1 conf]# jps
   8824 QuorumPeerMain
   8860 Jps
   ```

> 另外两台主机参考以上步骤做相应的变通即可。

## kafka 配置文件

分别修改 192.168.11.101，192.168.11.102，192.168.11.103 三个节点的 kafka 配置文件 server.properties：

1. 192.168.11.101 的配置：

   ```shell
   # 集群中每个节点的唯一标识
   broker.id=1

   # 定义了 broker 监听的地址和端口
   listeners = PLAINTEXT://kafka1:9092

   # 定义了在集群内和外部客户端通信时要使用的地址
   advertised.listeners=PLAINTEXT://kafka1:9092

   # zookeeper的连接地址
   zookeeper.connect=kafka1:2181,kafka2:2181,kafka3:2181/kafka
   ```

2. 192.168.11.102 的配置：

   ```shell
   # 集群中每个节点的唯一标识
   broker.id=2

   # 定义了 broker 监听的地址和端口
   listeners = PLAINTEXT://kafka2:9092

   # 定义了在集群内和外部客户端通信时要使用的地址
   advertised.listeners=PLAINTEXT://kafka2:9092

   # zookeeper的连接地址
   zookeeper.connect=kafka1:2181,kafka2:2181,kafka3:2181/kafka
   ```

3. 192.168.11.103 的配置：

   ```shell
   # 集群中每个节点的唯一标识
   broker.id=3

   # 定义了 broker 监听的地址和端口
   listeners = PLAINTEXT://kafka3:9092

   # 定义了在集群内和外部客户端通信时要使用的地址
   advertised.listeners=PLAINTEXT://kafka3:9092

   # zookeeper的连接地址
   zookeeper.connect=kafka1:2181,kafka2:2181,kafka3:2181/kafka
   ```

### 启动和停止

```bash
# 启动
kafka-server-start.sh -daemon /usr/local/kafka/config/server.properties

# 查看是否启动成功
jps

# 停止
kafka-server-stop.sh
```
',`updated_time`='2024-06-13 16:42:31.097',`label_id`=73073287567021569 WHERE article_id=73073424687207937 AND `article_id` = 73073424687207937

2024/06/13 16:42:32 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:52
[1.594ms] [rows:20] SELECT A.article_id, A.blog_title, L.label_name, A.created_time, A.view_num FROM article AS A JOIN label AS L ON A.label_id = L.label_id ORDER BY A.created_time DESC

2024/06/13 16:42:32 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:62
[1.775ms] [rows:20] SELECT A.article_id, A.blog_title, L.label_name, A.created_time, A.view_num FROM article AS A JOIN label AS L ON A.label_id = L.label_id ORDER BY A.view_num DESC

2024/06/13 16:42:43 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:67
[4.290ms] [rows:1] SELECT * FROM `article` WHERE article_id=73073424687207937 ORDER BY `article`.`article_id` LIMIT 1

2024/06/13 16:43:06 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:80
[4.269ms] [rows:1] SELECT * FROM `article` WHERE article_id=73073424687207937 ORDER BY `article`.`article_id` LIMIT 1

2024/06/13 16:43:06 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:106
[1.278ms] [rows:1] SELECT * FROM `article` WHERE article_id=73073424687207937 ORDER BY `article`.`article_id` LIMIT 1

2024/06/13 16:43:06 E:/BlogWebsite/OnlineVersion/blog/service/mysql/label.go:43
[1.291ms] [rows:1] SELECT * FROM `label` WHERE label_id=73073287567021569 ORDER BY `label`.`label_id` LIMIT 1

2024/06/13 16:43:06 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:34
[1.139ms] [rows:1] SELECT * FROM `article` WHERE article_id=73073424687207937 ORDER BY `article`.`article_id` LIMIT 1

2024/06/13 16:43:06 E:/BlogWebsite/OnlineVersion/blog/service/mysql/label.go:22
[0.657ms] [rows:1] SELECT * FROM `label` WHERE label_name='kafka' ORDER BY `label`.`label_id` LIMIT 1

2024/06/13 16:43:06 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:90
[3.999ms] [rows:1] UPDATE `article` SET `article_id`=73073424687207937,`view_num`=45,`blog_title`='kafka 集群搭建',`show_context`='在搭建集群之前，每一台虚拟机已经安装好了 zookeeper 和 kafka，并且将 zookeeper 设置为了一个系统服务还添加了开机自启动。搭建 zookeeper 集群之前需要关闭防火墙。',`context`='## 三台虚拟机

### IP 地址和域名

三台虚拟机的 CPU 核数均为 2，IP 和域名（主机名）的关系如下：

| IP 地址        | 域名   |
| -------------- | ------ |
| 192.168.11.101 | kafka1 |
| 192.168.11.102 | kafka2 |
| 192.168.11.103 | kafka3 |

三台机器之间需要能够使用域名相互通信。

### zookeeper 和 kafka

> **注意：**
>
> 1. 在搭建集群之前，每一台虚拟机已经安装好了 zookeeper 和 kafka，并且将 zookeeper 设置为了一个系统服务还添加了开机自启动。
> 2. 搭建 zookeeper 集群之前需要`关闭防火墙`。

## zookeeper 配置文件

现在对每一台机器上执行如下操作：

1. zoo.cfg 配置文件中数据和日志的相关配置：

   ```shell
   # 存放数据文件
   dataDir=/usr/local/zookeeper/data
   # 存放日志文件
   dataLogDir=/usr/local/zookeeper/log
   # 端口号
   clientPort=2181

   # 作为Zookeeper服务器之间维持心跳的时间间隔,单位毫秒
   tickTime=2000

   # 这个参数指定了Leader和Follower初始连接时能容忍的最多心跳数，其中心跳时间间隔由tickTime参数定义。
   # 换句话说,它定义了在初始连接期间Follower可以接收到多少个心跳(每个心跳间隔为tickTime)才会与Leader建立连接。
   # 如果initLimit被设置为 10,这意味着在20秒内(10 * 2秒),Follower必须接收到Leader的心跳，否则连接将会失败。
   initLimit=10

   # Leader和Follower之间同步通信的超时时间,这里表示如果超过5*2s=10s,Leader认为Follwer宕机,并从服务器列表中删除Follwer。
   syncLimit=5
   ```

2. 创建多个节点集群时，在 dataDir 指定目录下必须创建 myid 文件，myid 文件用于 zookeeper 验证 server 序号，myid 文件只有一行，并且为当前 server 的序号，例如：server.1 的 myid 就是 1，server.2 的 myid 就是 2。

   ```bash
   [root@kafka1 data]# pwd
   /usr/local/zookeeper/data
   [root@kafka1 data]# cat myid
   1
   ```

3. 添加集群信息。格式：server.A=B:C:D

   A 是一个数字（myid 里面的内容），表示这个是第几号服务器；

   B 是这个服务器的 ip 地址；

   C 表示的是这个服务器与集群中的 Leader 服务器交换信息的端口；

   D 表示的是万一集群中的 Leader 服务器挂了，需要一个端口来重新进行选举，选出一个新的 Leader；

   所以 zoo.cfg 配置文件中需要添加如下配置：

   ```shell
   server.1=192.168.11.101:2888:3888
   server.2=192.168.11.102:2888:3888
   server.3=192.168.11.103:2888:3888
   ```

4. 重启 zookeeper：

   ```bash
   [root@kafka1 conf]# systemctl restart zookeeper
   [root@kafka1 conf]# jps
   8824 QuorumPeerMain
   8860 Jps
   ```

> 另外两台主机参考以上步骤做相应的变通即可。

## kafka 配置文件

分别修改 192.168.11.101，192.168.11.102，192.168.11.103 三个节点的 kafka 配置文件 server.properties：

1. 192.168.11.101 的配置：

   ```shell
   # 集群中每个节点的唯一标识
   broker.id=1

   # 定义了 broker 监听的地址和端口
   listeners = PLAINTEXT://kafka1:9092

   # 定义了在集群内和外部客户端通信时要使用的地址
   advertised.listeners=PLAINTEXT://kafka1:9092

   # zookeeper的连接地址
   zookeeper.connect=kafka1:2181,kafka2:2181,kafka3:2181/kafka
   ```

2. 192.168.11.102 的配置：

   ```shell
   # 集群中每个节点的唯一标识
   broker.id=2

   # 定义了 broker 监听的地址和端口
   listeners = PLAINTEXT://kafka2:9092

   # 定义了在集群内和外部客户端通信时要使用的地址
   advertised.listeners=PLAINTEXT://kafka2:9092

   # zookeeper的连接地址
   zookeeper.connect=kafka1:2181,kafka2:2181,kafka3:2181/kafka
   ```

3. 192.168.11.103 的配置：

   ```shell
   # 集群中每个节点的唯一标识
   broker.id=3

   # 定义了 broker 监听的地址和端口
   listeners = PLAINTEXT://kafka3:9092

   # 定义了在集群内和外部客户端通信时要使用的地址
   advertised.listeners=PLAINTEXT://kafka3:9092

   # zookeeper的连接地址
   zookeeper.connect=kafka1:2181,kafka2:2181,kafka3:2181/kafka
   ```

### 启动和停止

```bash
# 启动
kafka-server-start.sh -daemon /usr/local/kafka/config/server.properties

# 查看是否启动成功
jps

# 停止
kafka-server-stop.sh
```
',`updated_time`='2024-06-13 16:43:06.731',`label_id`=73073287567021569 WHERE article_id=73073424687207937 AND `article_id` = 73073424687207937

2024/06/13 16:43:08 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:52
[3.101ms] [rows:20] SELECT A.article_id, A.blog_title, L.label_name, A.created_time, A.view_num FROM article AS A JOIN label AS L ON A.label_id = L.label_id ORDER BY A.created_time DESC

2024/06/13 16:43:08 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:62
[2.495ms] [rows:20] SELECT A.article_id, A.blog_title, L.label_name, A.created_time, A.view_num FROM article AS A JOIN label AS L ON A.label_id = L.label_id ORDER BY A.view_num DESC

2024/06/13 16:43:37 E:/BlogWebsite/OnlineVersion/blog/service/mysql/user.go:34
[6.869ms] [rows:1] UPDATE `user_info` SET `name`='冰冰同学',`sex`='男',`position`='北京' WHERE user_id=64430435790263809 AND `user_id` = 64430435790263809

2024/06/13 16:43:45 E:/BlogWebsite/OnlineVersion/blog/service/mysql/user.go:40
[4.549ms] [rows:1] SELECT * FROM `user_info` ORDER BY `user_info`.`user_id` LIMIT 1

2024/06/13 16:43:56 E:/BlogWebsite/OnlineVersion/blog/service/mysql/user.go:34
[5.994ms] [rows:1] UPDATE `user_info` SET `name`='冰冰同学',`sex`='男',`position`='北京 · 朝阳区' WHERE user_id=64430435790263809 AND `user_id` = 64430435790263809

2024/06/13 17:14:26 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[0.524ms] [rows:-] SELECT DATABASE()

2024/06/13 17:14:26 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[1.417ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 17:14:26 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[2.167ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'article' AND table_type = 'BASE TABLE'

2024/06/13 17:14:26 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[1.127ms] [rows:-] SELECT DATABASE()

2024/06/13 17:14:26 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[0.673ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 17:14:26 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[1.122ms] [rows:-] SELECT * FROM `article` LIMIT 1

2024/06/13 17:14:26 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[1.409ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'article' ORDER BY ORDINAL_POSITION

2024/06/13 17:14:26 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[1.096ms] [rows:-] SELECT DATABASE()

2024/06/13 17:14:26 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[0.687ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 17:14:26 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[1.396ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'tools' AND table_type = 'BASE TABLE'

2024/06/13 17:14:26 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[1.151ms] [rows:-] SELECT DATABASE()

2024/06/13 17:14:26 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[0.828ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 17:14:26 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[1.393ms] [rows:-] SELECT * FROM `tools` LIMIT 1

2024/06/13 17:14:26 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[1.405ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'tools' ORDER BY ORDINAL_POSITION

2024/06/13 17:14:26 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[1.234ms] [rows:-] SELECT DATABASE()

2024/06/13 17:14:26 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[0.683ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 17:14:26 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[1.612ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'label' AND table_type = 'BASE TABLE'

2024/06/13 17:14:26 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[1.066ms] [rows:-] SELECT DATABASE()

2024/06/13 17:14:26 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[0.602ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 17:14:26 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[1.093ms] [rows:-] SELECT * FROM `label` LIMIT 1

2024/06/13 17:14:26 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[2.007ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'label' ORDER BY ORDINAL_POSITION

2024/06/13 17:14:26 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[1.068ms] [rows:-] SELECT DATABASE()

2024/06/13 17:14:26 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[1.403ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 17:14:26 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[1.519ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'user_info' AND table_type = 'BASE TABLE'

2024/06/13 17:14:26 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[1.124ms] [rows:-] SELECT DATABASE()

2024/06/13 17:14:26 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[0.690ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 17:14:26 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[1.575ms] [rows:-] SELECT * FROM `user_info` LIMIT 1

2024/06/13 17:14:26 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[1.474ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'user_info' ORDER BY ORDINAL_POSITION

2024/06/13 17:14:26 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[1.225ms] [rows:-] SELECT DATABASE()

2024/06/13 17:14:26 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[1.079ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 17:14:26 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[1.774ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'user_login' AND table_type = 'BASE TABLE'

2024/06/13 17:14:26 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[1.029ms] [rows:-] SELECT DATABASE()

2024/06/13 17:14:26 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[1.331ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 17:14:26 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[1.261ms] [rows:-] SELECT * FROM `user_login` LIMIT 1

2024/06/13 17:14:26 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[1.471ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'user_login' ORDER BY ORDINAL_POSITION

2024/06/13 17:15:25 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[1.006ms] [rows:-] SELECT DATABASE()

2024/06/13 17:15:25 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[13.579ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 17:15:25 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[3.718ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'article' AND table_type = 'BASE TABLE'

2024/06/13 17:15:25 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[2.026ms] [rows:-] SELECT DATABASE()

2024/06/13 17:15:25 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[2.997ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 17:15:25 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[1.752ms] [rows:-] SELECT * FROM `article` LIMIT 1

2024/06/13 17:15:25 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[2.491ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'article' ORDER BY ORDINAL_POSITION

2024/06/13 17:15:25 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[1.154ms] [rows:-] SELECT DATABASE()

2024/06/13 17:15:25 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[0.640ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 17:15:25 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[1.758ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'tools' AND table_type = 'BASE TABLE'

2024/06/13 17:15:25 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[0.732ms] [rows:-] SELECT DATABASE()

2024/06/13 17:15:25 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[0.744ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 17:15:25 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[6.981ms] [rows:-] SELECT * FROM `tools` LIMIT 1

2024/06/13 17:15:25 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[2.070ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'tools' ORDER BY ORDINAL_POSITION

2024/06/13 17:15:25 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[1.021ms] [rows:-] SELECT DATABASE()

2024/06/13 17:15:25 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[1.034ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 17:15:25 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[1.718ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'label' AND table_type = 'BASE TABLE'

2024/06/13 17:15:25 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[1.153ms] [rows:-] SELECT DATABASE()

2024/06/13 17:15:25 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[0.616ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 17:15:25 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[0.619ms] [rows:-] SELECT * FROM `label` LIMIT 1

2024/06/13 17:15:25 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[1.412ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'label' ORDER BY ORDINAL_POSITION

2024/06/13 17:15:25 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[1.035ms] [rows:-] SELECT DATABASE()

2024/06/13 17:15:25 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[0.732ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 17:15:25 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[1.318ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'user_info' AND table_type = 'BASE TABLE'

2024/06/13 17:15:25 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[1.024ms] [rows:-] SELECT DATABASE()

2024/06/13 17:15:25 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[0.673ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 17:15:25 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[1.112ms] [rows:-] SELECT * FROM `user_info` LIMIT 1

2024/06/13 17:15:25 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[12.879ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'user_info' ORDER BY ORDINAL_POSITION

2024/06/13 17:15:25 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[2.629ms] [rows:-] SELECT DATABASE()

2024/06/13 17:15:25 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[3.316ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 17:15:25 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[3.199ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'user_login' AND table_type = 'BASE TABLE'

2024/06/13 17:15:25 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[1.030ms] [rows:-] SELECT DATABASE()

2024/06/13 17:15:25 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[1.139ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/06/13 17:15:25 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[1.703ms] [rows:-] SELECT * FROM `user_login` LIMIT 1

2024/06/13 17:15:25 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[1.577ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'user_login' ORDER BY ORDINAL_POSITION

2024/06/13 17:15:39 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:52
[11.348ms] [rows:20] SELECT A.article_id, A.blog_title, L.label_name, A.created_time, A.view_num FROM article AS A JOIN label AS L ON A.label_id = L.label_id ORDER BY A.created_time DESC

2024/06/13 17:15:39 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:62
[1.977ms] [rows:20] SELECT A.article_id, A.blog_title, L.label_name, A.created_time, A.view_num FROM article AS A JOIN label AS L ON A.label_id = L.label_id ORDER BY A.view_num DESC

2024/06/13 17:15:46 E:/BlogWebsite/OnlineVersion/blog/service/mysql/user.go:21
[5.456ms] [rows:1] SELECT * FROM `user_login` WHERE username = 'LiuBing' LIMIT 1

2024/06/13 17:15:46 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:52
[1.295ms] [rows:20] SELECT A.article_id, A.blog_title, L.label_name, A.created_time, A.view_num FROM article AS A JOIN label AS L ON A.label_id = L.label_id ORDER BY A.created_time DESC

2024/06/13 17:15:46 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:62
[3.109ms] [rows:20] SELECT A.article_id, A.blog_title, L.label_name, A.created_time, A.view_num FROM article AS A JOIN label AS L ON A.label_id = L.label_id ORDER BY A.view_num DESC

2024/06/13 17:25:12 E:/BlogWebsite/OnlineVersion/blog/service/mysql/user.go:21
[8.742ms] [rows:1] SELECT * FROM `user_login` WHERE username = 'LiuBing' LIMIT 1

2024/06/13 17:25:12 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:52
[4.401ms] [rows:20] SELECT A.article_id, A.blog_title, L.label_name, A.created_time, A.view_num FROM article AS A JOIN label AS L ON A.label_id = L.label_id ORDER BY A.created_time DESC

2024/06/13 17:25:12 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:62
[1.875ms] [rows:20] SELECT A.article_id, A.blog_title, L.label_name, A.created_time, A.view_num FROM article AS A JOIN label AS L ON A.label_id = L.label_id ORDER BY A.view_num DESC

2024/08/31 17:21:06 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[3.055ms] [rows:-] SELECT DATABASE()

2024/08/31 17:21:06 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[28.668ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/08/31 17:21:06 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[12.660ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'article' AND table_type = 'BASE TABLE'

2024/08/31 17:21:06 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[1.042ms] [rows:-] SELECT DATABASE()

2024/08/31 17:21:06 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[1.051ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/08/31 17:21:06 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[17.951ms] [rows:-] SELECT * FROM `article` LIMIT 1

2024/08/31 17:21:06 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[8.343ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'article' ORDER BY ORDINAL_POSITION

2024/08/31 17:21:06 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[1.759ms] [rows:-] SELECT DATABASE()

2024/08/31 17:21:06 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[2.202ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/08/31 17:21:06 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[3.260ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'tools' AND table_type = 'BASE TABLE'

2024/08/31 17:21:06 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[1.129ms] [rows:-] SELECT DATABASE()

2024/08/31 17:21:06 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[1.789ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/08/31 17:21:06 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[11.503ms] [rows:-] SELECT * FROM `tools` LIMIT 1

2024/08/31 17:21:06 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[3.107ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'tools' ORDER BY ORDINAL_POSITION

2024/08/31 17:21:06 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[1.567ms] [rows:-] SELECT DATABASE()

2024/08/31 17:21:06 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[1.740ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/08/31 17:21:06 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[2.631ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'label' AND table_type = 'BASE TABLE'

2024/08/31 17:21:06 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[1.059ms] [rows:-] SELECT DATABASE()

2024/08/31 17:21:06 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[1.097ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/08/31 17:21:06 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[9.766ms] [rows:-] SELECT * FROM `label` LIMIT 1

2024/08/31 17:21:06 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[2.256ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'label' ORDER BY ORDINAL_POSITION

2024/08/31 17:21:06 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[1.138ms] [rows:-] SELECT DATABASE()

2024/08/31 17:21:06 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[1.676ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/08/31 17:21:06 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[2.297ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'user_info' AND table_type = 'BASE TABLE'

2024/08/31 17:21:06 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[1.129ms] [rows:-] SELECT DATABASE()

2024/08/31 17:21:06 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[1.251ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/08/31 17:21:06 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[9.963ms] [rows:-] SELECT * FROM `user_info` LIMIT 1

2024/08/31 17:21:06 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[2.951ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'user_info' ORDER BY ORDINAL_POSITION

2024/08/31 17:21:06 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[1.086ms] [rows:-] SELECT DATABASE()

2024/08/31 17:21:06 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[1.082ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/08/31 17:21:06 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[2.553ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'user_login' AND table_type = 'BASE TABLE'

2024/08/31 17:21:06 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[1.133ms] [rows:-] SELECT DATABASE()

2024/08/31 17:21:06 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[0.956ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/08/31 17:21:06 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[11.836ms] [rows:-] SELECT * FROM `user_login` LIMIT 1

2024/08/31 17:21:06 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[3.118ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'user_login' ORDER BY ORDINAL_POSITION

2024/08/31 17:21:40 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:67
[6.960ms] [rows:1] SELECT * FROM `article` WHERE article_id=73073424687207937 ORDER BY `article`.`article_id` LIMIT 1

2024/08/31 17:21:40 E:/BlogWebsite/OnlineVersion/blog/service/mysql/label.go:43
[1.737ms] [rows:1] SELECT * FROM `label` WHERE label_id=73073287567021569 ORDER BY `label`.`label_id` LIMIT 1

2024/08/31 17:41:09 E:/BlogWebsite/OnlineVersion/blog/service/mysql/user.go:41
[5.585ms] [rows:1] SELECT * FROM `user_info` ORDER BY `user_info`.`user_id` LIMIT 1

2024/08/31 19:00:00 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:43
[25.289ms] [rows:1] UPDATE `article` SET `view_num`=46 WHERE article_id=73073424687207937

2024/08/31 19:00:00 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:43
[5.381ms] [rows:1] UPDATE `article` SET `view_num`=48 WHERE article_id=73073287567087105

2024/08/31 19:00:00 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:43
[4.110ms] [rows:0] UPDATE `article` SET `view_num`=22 WHERE article_id=73072918199834113

2024/08/31 19:00:00 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:43
[2.126ms] [rows:0] UPDATE `article` SET `view_num`=34 WHERE article_id=73072831008642561

2024/08/31 19:00:00 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:43
[1.210ms] [rows:0] UPDATE `article` SET `view_num`=6 WHERE article_id=73072737609881089

2024/08/31 19:00:00 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:43
[1.496ms] [rows:0] UPDATE `article` SET `view_num`=7 WHERE article_id=73072510865806849

2024/08/31 19:00:00 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:43
[2.868ms] [rows:0] UPDATE `article` SET `view_num`=5 WHERE article_id=73071166306162177

2024/08/31 19:00:00 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:43
[2.064ms] [rows:0] UPDATE `article` SET `view_num`=4 WHERE article_id=73071065022109185

2024/08/31 19:00:00 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:43
[2.008ms] [rows:0] UPDATE `article` SET `view_num`=8 WHERE article_id=73070664851953153

2024/08/31 19:00:00 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:43
[1.702ms] [rows:0] UPDATE `article` SET `view_num`=3 WHERE article_id=73070456562816513

2024/08/31 19:00:00 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:43
[2.144ms] [rows:0] UPDATE `article` SET `view_num`=2 WHERE article_id=73070353248785921

2024/08/31 19:00:00 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:43
[5.236ms] [rows:1] UPDATE `article` SET `view_num`=11 WHERE article_id=73069969788671489

2024/08/31 19:00:00 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:43
[2.651ms] [rows:0] UPDATE `article` SET `view_num`=1 WHERE article_id=73068763573949953

2024/08/31 19:00:00 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:43
[2.377ms] [rows:0] UPDATE `article` SET `view_num`=0 WHERE article_id=73068686264604161

2024/08/31 19:00:00 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:43
[2.193ms] [rows:0] UPDATE `article` SET `view_num`=2 WHERE article_id=73068320672224769

2024/08/31 19:00:00 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:43
[2.999ms] [rows:0] UPDATE `article` SET `view_num`=1 WHERE article_id=73068220445136385

2024/08/31 19:00:00 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:43
[3.791ms] [rows:0] UPDATE `article` SET `view_num`=4 WHERE article_id=73067969273435649

2024/08/31 19:00:00 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:43
[2.693ms] [rows:0] UPDATE `article` SET `view_num`=1 WHERE article_id=73067268237465089

2024/08/31 19:00:00 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:43
[2.165ms] [rows:0] UPDATE `article` SET `view_num`=10 WHERE article_id=73067090885514753

2024/08/31 19:00:00 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:43
[1.877ms] [rows:0] UPDATE `article` SET `view_num`=11 WHERE article_id=66707655401444865

2024/08/31 19:11:29 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[1.044ms] [rows:-] SELECT DATABASE()

2024/08/31 19:11:29 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[3.592ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/08/31 19:11:29 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[2.672ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'article' AND table_type = 'BASE TABLE'

2024/08/31 19:11:29 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[0.506ms] [rows:-] SELECT DATABASE()

2024/08/31 19:11:29 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[1.055ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/08/31 19:11:29 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[1.086ms] [rows:-] SELECT * FROM `article` LIMIT 1

2024/08/31 19:11:29 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[1.958ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'article' ORDER BY ORDINAL_POSITION

2024/08/31 19:11:29 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[1.088ms] [rows:-] SELECT DATABASE()

2024/08/31 19:11:29 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[1.328ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/08/31 19:11:29 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[2.739ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'tools' AND table_type = 'BASE TABLE'

2024/08/31 19:11:29 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[1.161ms] [rows:-] SELECT DATABASE()

2024/08/31 19:11:29 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[1.018ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/08/31 19:11:29 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[1.598ms] [rows:-] SELECT * FROM `tools` LIMIT 1

2024/08/31 19:11:29 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[2.215ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'tools' ORDER BY ORDINAL_POSITION

2024/08/31 19:11:29 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[0.503ms] [rows:-] SELECT DATABASE()

2024/08/31 19:11:29 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[0.924ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/08/31 19:11:29 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[1.924ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'label' AND table_type = 'BASE TABLE'

2024/08/31 19:11:29 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[1.119ms] [rows:-] SELECT DATABASE()

2024/08/31 19:11:29 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[1.135ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/08/31 19:11:29 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[1.241ms] [rows:-] SELECT * FROM `label` LIMIT 1

2024/08/31 19:11:29 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[2.190ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'label' ORDER BY ORDINAL_POSITION

2024/08/31 19:11:29 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[1.030ms] [rows:-] SELECT DATABASE()

2024/08/31 19:11:29 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[0.719ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/08/31 19:11:29 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[2.330ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'user_info' AND table_type = 'BASE TABLE'

2024/08/31 19:11:29 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[0.524ms] [rows:-] SELECT DATABASE()

2024/08/31 19:11:29 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[1.281ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/08/31 19:11:29 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[0.581ms] [rows:-] SELECT * FROM `user_info` LIMIT 1

2024/08/31 19:11:29 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[1.691ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'user_info' ORDER BY ORDINAL_POSITION

2024/08/31 19:11:29 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[1.037ms] [rows:-] SELECT DATABASE()

2024/08/31 19:11:29 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[1.099ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/08/31 19:11:29 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[1.534ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'user_login' AND table_type = 'BASE TABLE'

2024/08/31 19:11:29 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[1.021ms] [rows:-] SELECT DATABASE()

2024/08/31 19:11:29 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[0.000ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/08/31 19:11:29 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[1.267ms] [rows:-] SELECT * FROM `user_login` LIMIT 1

2024/08/31 19:11:29 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[1.917ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'user_login' ORDER BY ORDINAL_POSITION

2024/08/31 19:37:47 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[1.044ms] [rows:-] SELECT DATABASE()

2024/08/31 19:37:47 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[3.079ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/08/31 19:37:47 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[2.421ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'article' AND table_type = 'BASE TABLE'

2024/08/31 19:37:47 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[1.185ms] [rows:-] SELECT DATABASE()

2024/08/31 19:37:47 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[1.885ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/08/31 19:37:47 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[1.131ms] [rows:-] SELECT * FROM `article` LIMIT 1

2024/08/31 19:37:47 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[2.360ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'article' ORDER BY ORDINAL_POSITION

2024/08/31 19:37:47 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[1.046ms] [rows:-] SELECT DATABASE()

2024/08/31 19:37:47 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[1.556ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/08/31 19:37:47 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[2.248ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'tools' AND table_type = 'BASE TABLE'

2024/08/31 19:37:47 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[1.054ms] [rows:-] SELECT DATABASE()

2024/08/31 19:37:47 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[0.798ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/08/31 19:37:47 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[1.652ms] [rows:-] SELECT * FROM `tools` LIMIT 1

2024/08/31 19:37:47 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[2.876ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'tools' ORDER BY ORDINAL_POSITION

2024/08/31 19:37:47 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[1.146ms] [rows:-] SELECT DATABASE()

2024/08/31 19:37:47 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[0.508ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/08/31 19:37:47 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[2.223ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'label' AND table_type = 'BASE TABLE'

2024/08/31 19:37:47 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[1.054ms] [rows:-] SELECT DATABASE()

2024/08/31 19:37:47 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[1.637ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/08/31 19:37:47 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[2.005ms] [rows:-] SELECT * FROM `label` LIMIT 1

2024/08/31 19:37:47 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[2.563ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'label' ORDER BY ORDINAL_POSITION

2024/08/31 19:37:47 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[1.275ms] [rows:-] SELECT DATABASE()

2024/08/31 19:37:47 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[0.584ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/08/31 19:37:47 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[1.847ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'user_info' AND table_type = 'BASE TABLE'

2024/08/31 19:37:47 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[1.133ms] [rows:-] SELECT DATABASE()

2024/08/31 19:37:47 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[0.735ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/08/31 19:37:47 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[1.621ms] [rows:-] SELECT * FROM `user_info` LIMIT 1

2024/08/31 19:37:47 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[1.989ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'user_info' ORDER BY ORDINAL_POSITION

2024/08/31 19:37:47 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[1.053ms] [rows:-] SELECT DATABASE()

2024/08/31 19:37:47 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[0.655ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/08/31 19:37:47 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[2.057ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'user_login' AND table_type = 'BASE TABLE'

2024/08/31 19:37:47 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[1.112ms] [rows:-] SELECT DATABASE()

2024/08/31 19:37:47 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[0.712ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/08/31 19:37:47 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[1.666ms] [rows:-] SELECT * FROM `user_login` LIMIT 1

2024/08/31 19:37:47 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[2.040ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'user_login' ORDER BY ORDINAL_POSITION

2024/09/01 13:48:13 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[2.425ms] [rows:-] SELECT DATABASE()

2024/09/01 13:48:13 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[5.572ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/09/01 13:48:13 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[7.093ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'article' AND table_type = 'BASE TABLE'

2024/09/01 13:48:13 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[1.696ms] [rows:-] SELECT DATABASE()

2024/09/01 13:48:13 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[2.577ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/09/01 13:48:13 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[1.757ms] [rows:-] SELECT * FROM `article` LIMIT 1

2024/09/01 13:48:13 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[4.460ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'article' ORDER BY ORDINAL_POSITION

2024/09/01 13:48:13 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[1.724ms] [rows:-] SELECT DATABASE()

2024/09/01 13:48:13 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[3.726ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/09/01 13:48:13 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[4.040ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'tools' AND table_type = 'BASE TABLE'

2024/09/01 13:48:13 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[1.141ms] [rows:-] SELECT DATABASE()

2024/09/01 13:48:13 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[1.023ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/09/01 13:48:13 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[1.874ms] [rows:-] SELECT * FROM `tools` LIMIT 1

2024/09/01 13:48:13 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[3.708ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'tools' ORDER BY ORDINAL_POSITION

2024/09/01 13:48:13 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[1.171ms] [rows:-] SELECT DATABASE()

2024/09/01 13:48:13 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[2.112ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/09/01 13:48:13 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[3.417ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'label' AND table_type = 'BASE TABLE'

2024/09/01 13:48:13 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[1.108ms] [rows:-] SELECT DATABASE()

2024/09/01 13:48:13 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[1.060ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/09/01 13:48:13 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[2.433ms] [rows:-] SELECT * FROM `label` LIMIT 1

2024/09/01 13:48:13 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[3.410ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'label' ORDER BY ORDINAL_POSITION

2024/09/01 13:48:13 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[2.163ms] [rows:-] SELECT DATABASE()

2024/09/01 13:48:13 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[2.046ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/09/01 13:48:13 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[3.638ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'user_info' AND table_type = 'BASE TABLE'

2024/09/01 13:48:13 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[1.649ms] [rows:-] SELECT DATABASE()

2024/09/01 13:48:13 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[3.227ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/09/01 13:48:13 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[2.463ms] [rows:-] SELECT * FROM `user_info` LIMIT 1

2024/09/01 13:48:13 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[3.076ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'user_info' ORDER BY ORDINAL_POSITION

2024/09/01 13:48:13 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[1.206ms] [rows:-] SELECT DATABASE()

2024/09/01 13:48:13 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[1.778ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/09/01 13:48:13 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[2.437ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'user_login' AND table_type = 'BASE TABLE'

2024/09/01 13:48:13 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[1.145ms] [rows:-] SELECT DATABASE()

2024/09/01 13:48:13 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[2.647ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/09/01 13:48:13 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[1.815ms] [rows:-] SELECT * FROM `user_login` LIMIT 1

2024/09/01 13:48:13 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[2.851ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'user_login' ORDER BY ORDINAL_POSITION

2024/09/01 14:26:07 E:/BlogWebsite/OnlineVersion/blog/service/mysql/user.go:12
[11.993ms] [rows:1] SELECT * FROM `user_login` WHERE phone='13698431354'

2024/09/01 14:26:21 E:/BlogWebsite/OnlineVersion/blog/service/mysql/user.go:50
[5.886ms] [rows:1] SELECT * FROM `user_login` WHERE phone='13698431354'

2024/09/01 14:26:21 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:52
[9.761ms] [rows:20] SELECT A.article_id, A.blog_title, L.label_name, A.created_time, A.view_num FROM article AS A JOIN label AS L ON A.label_id = L.label_id ORDER BY A.created_time DESC

2024/09/01 14:26:21 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:62
[4.348ms] [rows:20] SELECT A.article_id, A.blog_title, L.label_name, A.created_time, A.view_num FROM article AS A JOIN label AS L ON A.label_id = L.label_id ORDER BY A.view_num DESC

2024/09/01 14:26:31 E:/BlogWebsite/OnlineVersion/blog/service/mysql/user.go:35
[16.545ms] [rows:0] UPDATE `user_info` SET `name`='冰冰同学',`sex`='男',`email`='liubing.xyz@qq.com' WHERE user_id=64430435790263810 AND `user_id` = 64430435790263810

2024/09/01 14:26:39 E:/BlogWebsite/OnlineVersion/blog/service/mysql/user.go:20
[4.638ms] [rows:1] SELECT * FROM `user_login` WHERE username = 'LiuBing' LIMIT 1

2024/09/01 14:26:39 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:52
[5.008ms] [rows:20] SELECT A.article_id, A.blog_title, L.label_name, A.created_time, A.view_num FROM article AS A JOIN label AS L ON A.label_id = L.label_id ORDER BY A.created_time DESC

2024/09/01 14:26:39 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:62
[1.797ms] [rows:20] SELECT A.article_id, A.blog_title, L.label_name, A.created_time, A.view_num FROM article AS A JOIN label AS L ON A.label_id = L.label_id ORDER BY A.view_num DESC

2024/09/01 14:26:43 E:/BlogWebsite/OnlineVersion/blog/service/mysql/user.go:35
[6.965ms] [rows:1] UPDATE `user_info` SET `name`='冰冰同学',`sex`='男',`email`='liubing.xyz@qq.com' WHERE user_id=64430435790263809 AND `user_id` = 64430435790263809

2024/09/01 14:27:04 E:/BlogWebsite/OnlineVersion/blog/service/mysql/user.go:41
[10.115ms] [rows:1] SELECT * FROM `user_info` ORDER BY `user_info`.`user_id` LIMIT 1

2024/09/01 14:46:22 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:52
[7.970ms] [rows:20] SELECT A.article_id, A.blog_title, L.label_name, A.created_time, A.view_num FROM article AS A JOIN label AS L ON A.label_id = L.label_id ORDER BY A.created_time DESC

2024/09/01 14:46:22 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:62
[3.367ms] [rows:20] SELECT A.article_id, A.blog_title, L.label_name, A.created_time, A.view_num FROM article AS A JOIN label AS L ON A.label_id = L.label_id ORDER BY A.view_num DESC

2024/09/01 14:46:27 E:/BlogWebsite/OnlineVersion/blog/service/mysql/label.go:37
[23.884ms] [rows:6] SELECT * FROM `label`

2024/09/01 14:46:27 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:115
[4.446ms] [rows:3] SELECT * FROM `article` WHERE label_id=66707655384667649

2024/09/01 14:46:27 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:115
[2.582ms] [rows:5] SELECT * FROM `article` WHERE label_id=73067090851960321

2024/09/01 14:46:27 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:115
[1.690ms] [rows:3] SELECT * FROM `article` WHERE label_id=73068686264538625

2024/09/01 14:46:28 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:115
[3.579ms] [rows:3] SELECT * FROM `article` WHERE label_id=73070353248720385

2024/09/01 14:46:28 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:115
[2.131ms] [rows:4] SELECT * FROM `article` WHERE label_id=73072510849029633

2024/09/01 14:46:28 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:115
[1.262ms] [rows:2] SELECT * FROM `article` WHERE label_id=73073287567021569

2024/09/01 15:31:17 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:80
[3.897ms] [rows:1] SELECT * FROM `article` WHERE article_id=73068686264604161 ORDER BY `article`.`article_id` LIMIT 1

2024/09/01 15:31:17 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:106
[1.169ms] [rows:1] SELECT * FROM `article` WHERE article_id=73068686264604161 ORDER BY `article`.`article_id` LIMIT 1

2024/09/01 15:31:17 E:/BlogWebsite/OnlineVersion/blog/service/mysql/label.go:43
[1.148ms] [rows:1] SELECT * FROM `label` WHERE label_id=73068686264538625 ORDER BY `label`.`label_id` LIMIT 1

2024/09/01 15:31:17 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:96
[12.456ms] [rows:1] DELETE FROM `article` WHERE article_id=73068686264604161

2024/09/01 15:31:17 E:/BlogWebsite/OnlineVersion/blog/service/mysql/label.go:30
[11.502ms] [rows:1] SELECT count(*) FROM `article` JOIN label ON article.label_id = label.label_id WHERE label.label_id = 73068686264538625

2024/09/01 15:35:27 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:20
[5.095ms] [rows:0] SELECT * FROM `article` WHERE blog_title='docker 网络（单机环境）' ORDER BY `article`.`article_id` LIMIT 1

2024/09/01 15:35:27 E:/BlogWebsite/OnlineVersion/blog/service/mysql/label.go:11
[3.548ms] [rows:1] SELECT * FROM `label` WHERE label_name='Docker' ORDER BY `label`.`label_id` LIMIT 1

2024/09/01 15:35:27 E:/BlogWebsite/OnlineVersion/blog/service/mysql/label.go:22
[2.936ms] [rows:1] SELECT * FROM `label` WHERE label_name='Docker' ORDER BY `label`.`label_id` LIMIT 1

2024/09/01 15:35:27 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:28
[4.157ms] [rows:1] INSERT INTO `article` (`view_num`,`blog_title`,`show_context`,`context`,`created_time`,`updated_time`,`label_id`,`article_id`) VALUES (0,'docker 网络（单机环境）','当一个进程被创建时，它会继承其父进程所在的所有 Namespace。但是，也可以在创建新进程时指定其所在的 Namespace，或者将已有的进程移动到新的 Namespace。在 Linux 的 /proc 文件系统中，可以查看进程的 Namespace 信息。例如，/proc/[pid]/ns/ 目录下的每个文件都代表了一个 Namespace，这些文件是该进程所在 Namespace 的符号链','## 深入理解 Namespace

### 什么是 Namespace

1. 先来看看那种比较正式的定义。Namespace 是将内核的全局资源做封装，使得每个 Namespace 都有一份独立的资源，因此不同的进程在各自的 Namespace 内对同一种资源的使用不会互相干扰。

2. 这样的解释可能不清楚。举个例子：在 Linux 系统上，你想要改变系统的主机名，这个主机名就是一个内核的全局资源。但是内核通过实现 UTS Namespace，可以将不同的进程分隔在不同的 UTS Namespace 中，在某个 Namespace 修改主机名时，另一个 Namespace 的主机名还是保持不变。

3. 所以说 Namespace 是用来隔离进程对系统资源的访问。每一个 Namespace 都有一套自己的系统资源（例如进程 ID、主机名、网络接口等），进程只能看到和操作同一个 Namespace 中的资源。这样就可以在逻辑上隔离不同的进程，让它们在各自的 “空间” 中运行，互不干扰。

4. 在 Linux 系统中，每个进程都与一组 Namespace 关联。这些 Namespace 决定了进程可以看到和影响哪些系统资源。例如，进程的网络 Namespace 决定了进程可以看到和使用哪些网络接口。

5. 当一个进程被创建时，它会继承其父进程所在的所有 Namespace。但是，也可以在创建新进程时指定其所在的 Namespace，或者将已有的进程移动到新的 Namespace。在 Linux 的 /proc 文件系统中，可以查看进程的 Namespace 信息。例如，/proc/[pid]/ns/ 目录下的每个文件都代表了一个 Namespace，这些文件是该进程所在 Namespace 的符号链接。通过查看和比较这些文件，可以确定进程的 Namespace 信息。

![](https://liubing-1314895948.cos.ap-chengdu.myqcloud.com/img/202309141941254.png)

看完上面 5 段话，对于 Namespace 就会有一个基本的认识。

### Namespace 当中的 Network Namespace

目前 Linux 内核总共实现了 6 种 Namespace。

- IPC:隔离 System V IPC 和 POSIX 消息队列。
- Network:隔离网络资源。
- Mount:隔离文件系统挂载点。
- PID:隔离进程 ID。
- UTS:隔离主机名和域名。
- User:隔离用户 ID 和组 ID。

Network Namespace 对网络相关的系统资源进行隔离，每个 Network Namespace 都有自己的网络设备、IP 地址、路由表、/proc/net 目录、端口号等。网络隔离的必要性是很明显的举一个例子，在没有隔离的情况下，如果两个不同的容器都想运行同一个 Web 应用，而这个应用又需要使用 80 端口,那就会有冲突了。

## Libcontainer

Libnetwork 是由 Go 语⾔编写的一个开源工具，该工具具有跨平台性，主要处理 Docker 网络相关的工作。下图是 Libnetwork 的整体结构。

![](https://liubing-1314895948.cos.ap-chengdu.myqcloud.com/img/202309142050752.png)

- 沙盒：沙盒是一个隔离的网络运行环境，保存了容器网络栈的配置，包括了对网络接口、路由表和 DNS 配置的管理。在 Linux 平台上，沙盒是用 Linux NetworkNamespace 实现的。一个沙盒可以包括来自多个网络的多个 Endpoint（网络接口）。
- 网络接口：Endpoint（网络接口）将沙盒加入一个网络，Endpoint 的实现可以是一对 veth pair 或者 OVS 内部端口，当前的 Libnetwork 使用的是 veth pair。一个 Endpoint 只能属于一个沙盒及一个网络。通过给沙盒增加多个 Endpoint 可以将一个沙盒加入多个网络。
- 网络：网络包括一组能互相通信的 Endpoint。网络的实现可以是 bridge ，host，none 等。
- 可拔插接口：可拔插接口指的是允许开发者将自定义的网络驱动接入到 Libnetwork 中，使得 Docker 容器可以使用这些自定义的网络驱动进行网络通信。这种接口的设计使得 Libnetwork 具备了极高的灵活性和可扩展性。
- 服务发现：Libnetwork 的网络控制层和管理层负责创建和管理网络以及网络接口。这些网络接口可以被绑定 Docker 容器上，使得这些容器可以在同一个网络中相互通信。通过这种方式，容器可以实现本地服务发现，即在同一个网络中的容器可以通过容器名称或者其他标识来找到其他容器，从而实现相互通信。
- 负载均衡：Libnetwork 的网络控制层和管理层可以创建和管理网络，这些网络可以配置为支持负载均衡。例如，可以使用 Overlay 网络驱动创建一个跨多个 Docker 宿主机的虚拟网络，然后在这个虚拟网络中的容器之间实现负载均衡。另外，Libnetwork 还可以与 Docker Swarm 集群管理工具集成，通过 Docker Swarm，可以实现在集群范围内的容器负载均衡。

## docker 网络基础

有了上面的一些基础知识做铺垫，理解 docker 网络的底层原理可能会轻松一点。下面就用一些 linux 命令创建两个命名空间，最后让这两个命名空间之间能相互通信。

### 创建两个命名空间

分别创建两个命名空间 namespace1 与 namespace2。

![image-20230914212514298](https://liubing-1314895948.cos.ap-chengdu.myqcloud.com/img/202309142125474.png)

因为每个网络空间都是独立的，所以每个 Network Namespace 都具有一个回环网络适配器 lo。可以看到这个接口的最大传输单元（MTU）是 65536 字节，其中 MTU 是网络接口可以接受的最大数据包大小。并且还可以看到 state DOWN 表示这个接口目前没有启用。而 qlen 1000 则表示这个接口的发送队列的长度，即接口可以缓存的待发送数据包的数量。

![](https://liubing-1314895948.cos.ap-chengdu.myqcloud.com/img/202309142126687.png)

### 创建网络接口 veth pair

如果要让两个命名空间连通，则需要用到虚拟设备接口技术 veth pair。该技术需要一对网络接口分别置于两个命名空间中。

以下命令用于创建一对网络接口 veth-ns1 与 veth-ns2。

![](https://liubing-1314895948.cos.ap-chengdu.myqcloud.com/img/202309142141745.png)

对于 ip link add veth-ns1 type veth peer name veth-ns2 这个命令的解释如下：

- `ip link add`：这是用于创建网络设备的命令。
- `veth-ns1`：这是你要创建的第一个 veth 设备的名称。
- `type veth`：这表示你要创建的设备的类型是 veth。
- `peer name veth-ns2`：这表示你要创建的第二个 veth 设备的名称。`peer`关键字表示这两个设备是一对，互为对方的端点。

而 ip link show veth-ns1 命令和 ip link show veth-ns2 命令展示了两个虚拟网络接口的信息。通过 veth-ns1@veth-ns2 和 veth-ns2@veth-ns1 可以发现这两个网络接口是一对接口。除此之外，还能看到网络接口的状态和 MAC 地址等等信息。

### 命名空间添加 veth 接口

通过 ip link set 命令，将这两个网络接口分别分配给两个命名空间。

![](https://liubing-1314895948.cos.ap-chengdu.myqcloud.com/img/202309142148014.png)

### 为 veth 接口分配 IP

前面创建的两个网络接口是没有 IP 的。下面要通过 ip netns exec 命令，为每个指定的命名空间执行 IP 添加命令 ip addr add [ip] dev [网络接口]。为 namespace1 的 veth-ns1 网络接口分配的 IP 为 192.168.1.1，掩码为 24；为 namespace2 的 veth-ns2 网络接口分配的 IP 为 192.168.1.2，掩码为 24。

![](https://liubing-1314895948.cos.ap-chengdu.myqcloud.com/img/202309142214017.png)

### 启动 veth 接口

以上两个命名空间中的 veth 接口已经具有了 IP，但其状态仍为 DOWN，还没有开启。下面要通过 ip link set dev [接口] up 来启动指定的网络接口。

![](https://liubing-1314895948.cos.ap-chengdu.myqcloud.com/img/202309142229446.png)

### 相互 ping

此时可以通过在两个命名空间中执行 ping 命令来与对方进行连通性测试了。

![](https://liubing-1314895948.cos.ap-chengdu.myqcloud.com/img/202309142231769.png)

## bridge 网络

通过 docker network ls 命令可以查看当前主机所连接的网络及网络类型。

![image-20230915093834017](https://liubing-1314895948.cos.ap-chengdu.myqcloud.com/img/202309150938213.png)

bridge 网络，也称为单机桥接网络，是 Docker 默认的网络模式。该网络模式只能存在于单个 Docker 主机上，其只能用于连接所在 Docker 主机上的容器。

### 搭建网络环境

需求：搭建如下的网络环境。

![](https://liubing-1314895948.cos.ap-chengdu.myqcloud.com/img/202309151012030.png)

### 查看 docker0 网桥

![](https://liubing-1314895948.cos.ap-chengdu.myqcloud.com/img/202309151023979.png)

1. 网络接口名称（docker0）及其状态（UP，表示启动并运行）。
2. docker0 的 MAC 地址（02:42:36:20:cc:8b）。
3. docker0 的 IP 地址（172.17.0.1）和子网掩码（/16，表示子网的地址范围是 172.17.0.0 到 172.17.255.255）。
4. docker0 的广播地址（172.17.255.255）。
5. docker0 的 IPv6 地址（fe80::42:36ff:fe20:cc8b/64）。
6. docker0 的 MTU（Maximum Transmission Unit，最大传输单元）是 1500。这是 Ethernet 的标准 MTU。

### 创建网桥 bridge2

![](https://liubing-1314895948.cos.ap-chengdu.myqcloud.com/img/202309151030386.png)

-d 选项用于指定要创建网络时所使用的驱动，即创建的网络类型。最后的 bridge2 则是新创建网络的名称。查看 bridge2 网桥的相关信息：

![](https://liubing-1314895948.cos.ap-chengdu.myqcloud.com/img/202309151119640.png)

可以看到 bridge2 网桥的 IP 地址为 172.18.0.1。

### 创建容器并连接网络

创建 busybox1 容器并连接 bridge 网桥：`--network bridge` 告诉 Docker 使用 `bridge` 网桥来运行 `busybox1` 容器。

![](https://liubing-1314895948.cos.ap-chengdu.myqcloud.com/img/202309151116442.png)

可以看到 busybox1 的 IP 地址为 172.17.0.2。现在创建 busybox2 容器并连接 bridge 网桥。

![](https://liubing-1314895948.cos.ap-chengdu.myqcloud.com/img/202309151124508.png)

可以看到 busybox2 容器的 IP 地址为 172.17.0.3。现在要将 busybox2 连接到 bridge2 网桥上。

![](https://liubing-1314895948.cos.ap-chengdu.myqcloud.com/img/202309151129838.png)

使用 docker network connect 命令就可以让 busybox2 容器连接到 bridge2 网桥上。可以发现 busybox2 的 IP 地址又多了一个 172.18.0.2/16。说明这个 IP 地址在 172.18.0.0 这个网段上，也就是 bridge2 网桥所在的网段。现在创建 busybox3 容器并连接到 bridge2 网桥上。

![](https://liubing-1314895948.cos.ap-chengdu.myqcloud.com/img/202309151135742.png)

可以看到 busybox3 的 IP 地址为 172.18.0.3。

### 查看容器详情

这里以 busybox2 容器为例，查看该容器的网络详情。

```json
docker inspect busybox2

# 查看容器的网络配置信息:NetworkSettings
{
    "Bridge": "",
    "SandboxID": "145b13df0a94364eda70a3dd93a10b171f23159ddff200313f4a0c558505b9e6",
    "HairpinMode": false,
    "LinkLocalIPv6Address": "",
    "LinkLocalIPv6PrefixLen": 0,
    "Ports": { },
    "SandboxKey": "/var/run/docker/netns/145b13df0a94",
    "SecondaryIPAddresses": null,
    "SecondaryIPv6Addresses": null,
    "EndpointID": "2af54e966620633d28dfc91e54816e4a85a4c105c0213a7ef41d2c9fdcf2f3df",
    "Gateway": "172.17.0.1",
    "GlobalIPv6Address": "",
    "GlobalIPv6PrefixLen": 0,
    "IPAddress": "172.17.0.3",
    "IPPrefixLen": 16,
    "IPv6Gateway": "",
    "MacAddress": "02:42:ac:11:00:03",
    "Networks": {
        "bridge": {
            "IPAMConfig": null,
            "Links": null,
            "Aliases": null,
            "NetworkID": "5f417d52f8fdae77a94202c473b03e1998de09f7509363e03826c01a3f669f14",
            "EndpointID": "2af54e966620633d28dfc91e54816e4a85a4c105c0213a7ef41d2c9fdcf2f3df",
            "Gateway": "172.17.0.1",
            "IPAddress": "172.17.0.3",
            "IPPrefixLen": 16,
            "IPv6Gateway": "",
            "GlobalIPv6Address": "",
            "GlobalIPv6PrefixLen": 0,
            "MacAddress": "02:42:ac:11:00:03",
            "DriverOpts": null
        },
        "bridge2": {
            "IPAMConfig": { },
            "Links": null,
            "Aliases": [
                "8be8f43ccd8d"
            ],
            "NetworkID": "5f4893ee055e6a11841ff89b5a6b8d088d8d80362deac9f4c1ff0ee9d6974b96",
            "EndpointID": "c29ec9f1b1a75010c70a5f908175101bcbfc21b0159b3475fe7d7e50f86c3741",
            "Gateway": "172.18.0.1",
            "IPAddress": "172.18.0.2",
            "IPPrefixLen": 16,
            "IPv6Gateway": "",
            "GlobalIPv6Address": "",
            "GlobalIPv6PrefixLen": 0,
            "MacAddress": "02:42:ac:12:00:02",
            "DriverOpts": { }
        }
    }
}
```

可以看到 busybox2 这个容器有两个网段，分别是 172.17.0.1 和 172.18.0.1；并且 busybox2 这个容器有两个 IP 地址，分别是 172.17.0.3 和 172.18.0.2。

### 查看网络详情

```json
# 查看网桥的相关信息
docker network inspect bridge2

"Containers": {
        "8be8f43ccd8d1177bab90f81f3499f2448bfdc046c06db298f3e39f3943a5147": {
            "Name": "busybox2",
            "EndpointID": "a7ecc7cf1092e7c7601ac14b560a43b648cde38d02ffe770ba9ec77a33b0de95",
            "MacAddress": "02:42:ac:12:00:02",
            "IPv4Address": "172.18.0.2/16",
            "IPv6Address": ""
        },
        "97cbf3344e7b5587ce84ac0141af9a4b40692dd14407fc2ac40f20bf5f02456c": {
            "Name": "busybox3",
            "EndpointID": "29cc4737c14c54b1b8a4698c66faa833e6262b4163152ee50b3ef6c7969228c0",
            "MacAddress": "02:42:ac:12:00:03",
            "IPv4Address": "172.18.0.3/16",
            "IPv6Address": ""
        }
    }
```

查看 bridge2 的网络详情中的容器情况，发现 busybox2 与 busybox3 都在该网络上。

### 容器之间相互 ping

![image-20230915141611179](https://liubing-1314895948.cos.ap-chengdu.myqcloud.com/img/202309151416281.png)

发现 busybox1 能 ping 通 busybox2；busybox2 能 Ping 通 busybox3；而 busybox1 不能 ping 通 busybox3。说明只有在同一段网络下的容器之间才能相互 ping 通。

### ping 容器名

![image-20230915152009127](https://liubing-1314895948.cos.ap-chengdu.myqcloud.com/img/202309151520239.png)

该方式在生产中非常重要。因为生产中容器的 IP 可能会发生变化，但容器名称一般是不会变的。如果某服务总是直接通过 IP 与容器相连接，那么一旦容器 IP 变化，则该服务将连接不上容器。但如果是通过容器名称相连接的，那么无论容器 IP 如何变化，都将不影响服务与容器的连接。

### 创建定向连接容器

对于自定义的 bridge 网络，其具有一个特性：该网络上的容器可以通过容器名互 ping。但默认的 bridge 网络是不行的。如果在默认的 bridge 网络上实现通过容器名进行的连接，则需要创建容器时通过--link 选项指定。

![](https://liubing-1314895948.cos.ap-chengdu.myqcloud.com/img/202309151529114.png)

但是容器 busybox4 是无法通过容器名称来连接 busybox2 的。然后 busybox1 也无法通过容器名称连接 busybox4。所以，--link 指定的连接是一种定向连接，是带有指向性与方向性的。

![image-20230915153308134](https://liubing-1314895948.cos.ap-chengdu.myqcloud.com/img/202309151533287.png)

### 创建共享网络命名空间容器

在创建容器时可以指定其与某已经存在的容器共享 Network Namespace，但要求该已经存在的容器采用的是 bridge 网络模式。

```bash
docker run -it --name busybox-1 --network container:busybox1 busybox /bin/sh
```

上面的命令创建了一个 busybox-1 的容器，其共享了 busybox1 容器的 Network Namespace。查看两个容器的接口情况，发现完全相同。

![](https://liubing-1314895948.cos.ap-chengdu.myqcloud.com/img/202309151538305.png)

查看容器 busybox-1 的详情，可以发现，其没有自身的网络设置。因为其共享的 bb1 容器的网络设置。

![](https://liubing-1314895948.cos.ap-chengdu.myqcloud.com/img/202309151540291.png)

![](https://liubing-1314895948.cos.ap-chengdu.myqcloud.com/img/202309151540130.png)

## none 网络

none 网络，即没有网络。容器仍是一个独立的 Network Namespace，但没有网络接口，没有 IP。

### 创建 none 网络容器

在 docker run 命令中，通过--network none 选项指定创建的容器没有网络功能。

```bash
docker run -it --name busybox5 --network none busybox /bin/sh
```

### 查看容器详情

```json
# 查看容器详情的命令
docker inspect busybox5

# 下面是busybox5关于网络部分的信息
"NetworkSettings": {
    "Bridge": "",
    "SandboxID": "400b397e12ca82bc791f5fd4d194a05289445e489a121e2fce06ca54817f2f86",
    "HairpinMode": false,
    "LinkLocalIPv6Address": "",
    "LinkLocalIPv6PrefixLen": 0,
    "Ports": {

    },
    "SandboxKey": "/var/run/docker/netns/400b397e12ca",
    "SecondaryIPAddresses": null,
    "SecondaryIPv6Addresses": null,
    "EndpointID": "",
    "Gateway": "",
    "GlobalIPv6Address": "",
    "GlobalIPv6PrefixLen": 0,
    "IPAddress": "",
    "IPPrefixLen": 0,
    "IPv6Gateway": "",
    "MacAddress": "",
    "Networks": {
    "none": {
      "IPAMConfig": null,
      "Links": null,
      "Aliases": null,
      "NetworkID": "3b0eaed4d1d8ff72e62cc883d3a97639284fbd8eec96d6919322acbb4acd8d17",
      "EndpointID": "61ed43896cfc51adf35120c16f335ba58dcb124103cb0bb6f17b7b9eee2ca355",
      "Gateway": "",
      "IPAddress": "",
      "IPPrefixLen": 0,
      "IPv6Gateway": "",
      "GlobalIPv6Address": "",
      "GlobalIPv6PrefixLen": 0,
      "MacAddress": "",
      "DriverOpts": null
    	}
    }
}
```

通过 docker inspect 命令查看该容器的详情，发现其没有 IP，没有网关，没有 MAC 地址。这种 none 网络的主要用途是为那些不需要或不希望有任何网络通信功能的容器提供一个安全的运行环境，例如一些只需要进行本地计算或处理本地数据的应用。

## host 网络

host 网络，即与宿主机 host 共用一个 Network Namespace。该网络类型的容器没有独立的网络空间，没有独立的 IP，全部与 host 共用。

### 创建 host 网络容器

在 docker run 命令中，通过--network host 选项指定创建的容器为 host 网络。

```bash
docker run -it --name busybox6 --network host busybox /bin/sh
```

### 查看容器详情

```json
# 查看容器详情的命令
docker inspect busybox6

# 下面是busybox5关于网络部分的信息
"NetworkSettings": {
    "Bridge": "",
    "SandboxID": "d16a68fa18c745642fe4a7833e89bb2ee7351c06291cb5441dc3c35f7c350321",
    "HairpinMode": false,
    "LinkLocalIPv6Address": "",
    "LinkLocalIPv6PrefixLen": 0,
    "Ports": {

    },
    "SandboxKey": "/var/run/docker/netns/default",
    "SecondaryIPAddresses": null,
    "SecondaryIPv6Addresses": null,
    "EndpointID": "",
    "Gateway": "",
    "GlobalIPv6Address": "",
    "GlobalIPv6PrefixLen": 0,
    "IPAddress": "",
    "IPPrefixLen": 0,
    "IPv6Gateway": "",
    "MacAddress": "",
    "Networks": {
    "host": {
        "IPAMConfig": null,
        "Links": null,
        "Aliases": null,
        "NetworkID": "16501fad09abfb197b94593aa27568c6c91cfbebb2c521553da481552fa3ad1f",
        "EndpointID": "7cdf57ebf08f15fe7069b7f03f46a711b6b283ae8aff85ed614b6b5524dc9035",
        "Gateway": "",
        "IPAddress": "",
        "IPPrefixLen": 0,
        "IPv6Gateway": "",
        "GlobalIPv6Address": "",
        "GlobalIPv6PrefixLen": 0,
        "MacAddress": "",
        "DriverOpts": null
        }
    }
}
```

通过 docker inspect 命令查看该容器的详情，发现其没有 IP，没有网关，没有 MAC 地址。

### 查看容器的 IP 信息

通过 docker exec busybox6 ip addr 命令查看容器的 IP 信息可以发现该容器的 IP 与宿主机的 IP 信息一模一样。所以在 host 模式下，容器直接使用宿主机的网络接口、IP 和路由规则。这意味着在 host 网络模式下运行的容器可以直接监听宿主机上的所有网络端口，也正是因为容器与宿主机共用网络端口，所以在 host 模式下的运行容器不需要进行端口映射就能直接对外提供服务。

这种模式的主要用途是为那些需要直接访问宿主机网络环境或者需要高性能网络通信的容器提供一个高效的运行环境。但是，由于它会让容器直接暴露在宿主机的网络环境中，所以在某些需要隔离或安全的场景中可能不适用。
','2024-09-01 15:35:27.571','2024-09-01 15:35:27.571',73067090851960321,88323530420164097)

2024/09/01 15:35:27 E:/BlogWebsite/OnlineVersion/blog/service/mysql/label.go:43
[1.288ms] [rows:1] SELECT * FROM `label` WHERE label_id=73067090851960321 ORDER BY `label`.`label_id` LIMIT 1

2024/09/01 15:35:29 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:52
[2.992ms] [rows:20] SELECT A.article_id, A.blog_title, L.label_name, A.created_time, A.view_num FROM article AS A JOIN label AS L ON A.label_id = L.label_id ORDER BY A.created_time DESC

2024/09/01 15:35:29 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:62
[3.660ms] [rows:20] SELECT A.article_id, A.blog_title, L.label_name, A.created_time, A.view_num FROM article AS A JOIN label AS L ON A.label_id = L.label_id ORDER BY A.view_num DESC

2024/09/01 15:35:33 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:67
[7.679ms] [rows:1] SELECT * FROM `article` WHERE article_id=88323530420164097 ORDER BY `article`.`article_id` LIMIT 1

2024/09/01 15:35:33 E:/BlogWebsite/OnlineVersion/blog/service/mysql/label.go:43
[2.367ms] [rows:1] SELECT * FROM `label` WHERE label_id=73067090851960321 ORDER BY `label`.`label_id` LIMIT 1

2024/09/01 15:36:44 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:20
[10.275ms] [rows:0] SELECT * FROM `article` WHERE blog_title='Docker 数据持久化' ORDER BY `article`.`article_id` LIMIT 1

2024/09/01 15:36:44 E:/BlogWebsite/OnlineVersion/blog/service/mysql/label.go:11
[1.998ms] [rows:1] SELECT * FROM `label` WHERE label_name='Docker' ORDER BY `label`.`label_id` LIMIT 1

2024/09/01 15:36:44 E:/BlogWebsite/OnlineVersion/blog/service/mysql/label.go:22
[1.187ms] [rows:1] SELECT * FROM `label` WHERE label_name='Docker' ORDER BY `label`.`label_id` LIMIT 1

2024/09/01 15:36:44 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:28
[14.489ms] [rows:1] INSERT INTO `article` (`view_num`,`blog_title`,`show_context`,`context`,`created_time`,`updated_time`,`label_id`,`article_id`) VALUES (0,'Docker 数据持久化',' 在容器层的 UnionFS（联合文件系统）中对文件/目录的任何修改，无论是手工修改还是容器在运行过程中的修改，在该容器丢失或被删除后这些修改将全部丢失。即这些修改是无法保存下来的。','> 在容器层的 UnionFS（联合文件系统）中对文件/目录的任何修改，无论是手工修改还是容器在运行过程中的修改，在该容器丢失或被删除后这些修改将全部丢失。即这些修改是无法保存下来的。若要保存下来这些修改，通常有两种方式：
>
> - **定制镜像持久化**：将这个修改过的容器生成一个新的镜像，让这些修改变为只读的镜像
>
> - **数据卷持久化**：将这些修改通过数据卷同步到宿主机

## 定制镜像持久化

### 需求

DockerHub 上拉取的 centos:7 镜像是没有 vim 工具的，现在将 centos:7 镜像运行后下载 vim 工具，再将这个容器打包为一个镜像（centos7:vim）。最后运行这个镜像，可以看到这个镜像里面是有 vim 工具的。

### 实现

由于之前做过类似的需求，在此我只把使用的命令展示出来。

```bash
# 运行centos:7镜像
docker run --name centos1 -it centos:7

# 进入到centos7的shell后下载vim
yum install -y vim

# 下载完成之后输入exit退出centos7容器的shell环境。
# 并将该容器打包为一个镜像
docker commit -m="add vim" -a="bing" centos1 centos7:vim

# 打包完成后运行这个新镜像
docker run --name centos_vim -it centos7:vim

# 查看vim的版本
vim --version
```

## 数据卷持久化

### 数据卷简介

`数据卷`是`宿主机`中的一个特殊的文件/目录，这个文件/目录与容器中的另一个文件/目录进行了直接关联，在任何一端对文件/目录的写操作，在另一端都会同时发生相应变化。在宿主中的这个文件/目录就称为数据卷，而容器中的这个关联文件/目录则称为该数据卷在该容器中的挂载点。数据卷的设计目的就是为了实现数据持久化，其完全独立于容器的生命周期，属于宿主机文件系统，但不属于 UnionFS。因此，容器被删除时，不会删除其挂载的数据卷。

### 数据卷的特性

数据卷具有如下明显特性：

- 数据卷在容器启动时初始化，如果容器启动后容器本身已经包含了数据，那么，这些数据会在容器启动后直接出现在数据卷中，反之亦然。

- 可以对数据卷或挂载点中的内容直接修改，修改后对方立即可看到。

- 数据卷会一直存在，即使挂载数据卷的容器已经被删除。

- 数据卷可以在容器之间共享和重用。

### 创建读写数据卷

数据卷是在使用 docker run 启动容器时指定的，其语法格式为：

docker run -it -v `/宿主机目录绝对路径:/容器内目录绝对路径` 镜像名

注：无论是宿主机中的数据卷还是容器中的挂载点，如果指定的目录不存在，那么 docker 引擎都会自动创建。即使是多级目录不存在。

```
# 启动容器并创建数据卷
docker run --name centos1 -it -v /tmp/read_write_sour:/tmp/read_write_dest centos:7
```

在容器的/tmp/read_write_dest 目录下创建 hello.log 文件，并写入数据。

![](https://liubing-1314895948.cos.ap-chengdu.myqcloud.com/img/202309131237930.png)

看宿主机的/tmp/read_write_sour 目录下是否有文件和数据，然后向 hello.log 文件中添加数据。

![image-20230913124045098](https://liubing-1314895948.cos.ap-chengdu.myqcloud.com/img/202309131240163.png)

看看容器的/tmp/read_write_dest 目录下的 hello.log 文件是否有宿主机添加的数据。

![](https://liubing-1314895948.cos.ap-chengdu.myqcloud.com/img/202309131242642.png)

#### 停止容器后的操作

即使容器停止了，在宿主机中只要修改了数据卷目录内容，在重新启动容器后，该修改过的数据仍会出现在容器中。因为容器是一个 UnionFS，是一个存在于宿主机中的文件系统，无论容器是否运行，该 FS 都是存在的。

![](https://liubing-1314895948.cos.ap-chengdu.myqcloud.com/img/202309131251649.png)

#### 查看数据卷详情

通过 docker inspect [容器] 命令可以查看到当前容器中挂载点与数据卷的绑定关系，其中 Mounts 表示挂载的意思。

![](https://liubing-1314895948.cos.ap-chengdu.myqcloud.com/img/202309131253546.png)

这里给出了数据卷 Source 与挂载点 Destination 的绑定关系，且容器对挂载点的默认操作权限是 RW 读写的。

### 创建只写数据卷

只读数据卷，指的是`容器对挂载点的操作权限是只读的`。`宿主机对数据卷的操作权限始终是读写的`。有些情况下，为了防止容器在运行过程中对文件产生修改，就需要创建只读数据卷。创建只读数据卷的命令比之前的命令仅多了:ro，具体语法如下：

docker run -it -v `/宿主机目录绝对路径:/容器内目录绝对路径:ro` 镜像名

```
# 启动容器并创建只读数据卷
docker run --name centos2 -it -v /tmp/read_only_sour:/tmp/read_only_dest:ro centos:7
```

在宿主机中的/tmp/read_only_sour 目录下创建一个 read-only.log 文件，并写入数据。

![image-20230913150455156](https://liubing-1314895948.cos.ap-chengdu.myqcloud.com/img/202309131505440.png)

登录到容器中的/tmp/read_only_dest 目录下，看看 reda-only.log 文件的内容，并尝试写入数据。

![image-20230913150939058](https://liubing-1314895948.cos.ap-chengdu.myqcloud.com/img/202309131509263.png)

发现在容器中并不能向 read-only.log 写入数据，说明在该目录下，所有的文件对于容器来说都是只读的。

#### 查看数据卷详情

通过 docker inspect centos2 命令可以查看到该数据卷的 RW 为 false，也就是该容器对数据卷有只读属性。

![image-20230913151351735](https://liubing-1314895948.cos.ap-chengdu.myqcloud.com/img/202309131513900.png)

### 创建共享数据卷

当一个容器与另一个容器使用相同的数据卷时，就称这两个容器实现了“数据卷共享”。而`数据卷容器`是实现数据卷共享的一种非常有效的方案。当一个容器 C 启动运行时创建并挂载了数据卷，若其它容器也需要共享该容器 C 挂载的数据卷，这些容器只需在 docker run 启动时通过 --volumes-from "容器 C" 选项即可实现数据卷共享。此时容器 C 就称为数据卷容器。

现在搭建如下环境的各种容器以及数据卷。

<img src="https://liubing-1314895948.cos.ap-chengdu.myqcloud.com/img/202309131605241.png" style="zoom:67%;" />

```
# 首先创建一个使用读写数据卷的centos:3的容器并运行。
docker run --name centos3 -it -v /tmp/share_sour:/tmp/share_dest centos:7

# 然后创建两个容器分别是tomcat1和tomcat2，注意加上--volumes-from centos3的选项。
docker run --name tomcat1 --volumes-from centos3 -it tomcat:8.5.32 /bin/bash
docker run --name tomcat2 --volumes-from centos3 -it tomcat:8.5.32 /bin/bash
```

容器创建完成后，首先宿主机在/tmp/share_sour 目录下创建一个 share.log 的文件，并写入数据。

![image-20230913161915530](https://liubing-1314895948.cos.ap-chengdu.myqcloud.com/img/202309131619567.png)

第二步是 centos3 容器在/tmp/share_dest 目录下读取数据并写入数据。

![image-20230913162126945](https://liubing-1314895948.cos.ap-chengdu.myqcloud.com/img/202309131621986.png)

第三步是 tomcat1 容器在/tmp/share_dest 目录下读取数据并写入数据。

![](https://liubing-1314895948.cos.ap-chengdu.myqcloud.com/img/202309131623957.png)

第四步是 tomcat2 容器在/tmp/share_dest 目录下读取数据并写入数据。

![](https://liubing-1314895948.cos.ap-chengdu.myqcloud.com/img/202309131623510.png)

可以看到这三个容器和宿主机之间实现了数据共享。

## Dockerfile 持久化

Dockerfile 持久化，其实就是通过使用 Dockerfile 的 VOLUME 指令指定数据卷方式实现的持久化。VOLUME 指令可以在容器中创建可以挂载数据卷的挂载点。其参数可以是字符串数组，也可以是使用空格隔开的多个纯字符串。例如，VOLUME ["/tmp/demo", "/etc/apache"] 或 VOLUME /tmp/demo /etc/apache。

### 创建 Dockerfile、构建和运行镜像

首先 mkdir 一个目录，例如 volume，然后在其中新建 Dockerfile，内容如下。这里指定/tmp/demo1 与/opt/demo2 为容器端的挂载点。

```
FROM centos:7
VOLUME /tmp/demo1 /opt/demo2
CMD /bin/bash
```

然后就是构建和运行镜像，命令如下：

```
# 构建镜像
docker build -t volume .

# 运行镜像
docker run --name vols -it volume
```

### 查看宿主机端的目录

Ctrl + P + Q 退出容器后，使用 docker inspect vols 查看当前容器中的挂载点目录到底与宿主机中的哪个数据卷对应。

![](https://liubing-1314895948.cos.ap-chengdu.myqcloud.com/img/202309131643553.png)Source 是宿主机的目录，Destination 是容器的目录。向/var/lib/docker/volumes/0083b3d0a8c8ea137e2bf43a7e43ad1c68e5155415eb293489041bd6dadd50fc/\_data 中写入数据，看看容器的/opt/demo2 下是否有数据。

![image-20230913164929604](https://liubing-1314895948.cos.ap-chengdu.myqcloud.com/img/202309131649657.png)

这就是使用 Dockerfile 实现数据持久化的方式，即使删除了容器和镜像，数据也还在宿主机的/var/lib/docker/volumes/······/\_data 目录下。
','2024-09-01 15:36:44.603','2024-09-01 15:36:44.603',73067090851960321,88323659671836161)

2024/09/01 15:36:44 E:/BlogWebsite/OnlineVersion/blog/service/mysql/label.go:43
[1.415ms] [rows:1] SELECT * FROM `label` WHERE label_id=73067090851960321 ORDER BY `label`.`label_id` LIMIT 1

2024/09/01 15:36:45 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:52
[1.827ms] [rows:21] SELECT A.article_id, A.blog_title, L.label_name, A.created_time, A.view_num FROM article AS A JOIN label AS L ON A.label_id = L.label_id ORDER BY A.created_time DESC

2024/09/01 15:36:45 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:62
[2.216ms] [rows:21] SELECT A.article_id, A.blog_title, L.label_name, A.created_time, A.view_num FROM article AS A JOIN label AS L ON A.label_id = L.label_id ORDER BY A.view_num DESC

2024/09/01 15:36:54 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:67
[6.132ms] [rows:1] SELECT * FROM `article` WHERE article_id=88323659671836161 ORDER BY `article`.`article_id` LIMIT 1

2024/09/01 15:36:54 E:/BlogWebsite/OnlineVersion/blog/service/mysql/label.go:43
[1.691ms] [rows:1] SELECT * FROM `label` WHERE label_id=73067090851960321 ORDER BY `label`.`label_id` LIMIT 1

2024/09/01 15:38:23 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:20
[5.189ms] [rows:0] SELECT * FROM `article` WHERE blog_title='Docker 安装 redis' ORDER BY `article`.`article_id` LIMIT 1

2024/09/01 15:38:23 E:/BlogWebsite/OnlineVersion/blog/service/mysql/label.go:11
[8.256ms] [rows:1] SELECT * FROM `label` WHERE label_name='Docker' ORDER BY `label`.`label_id` LIMIT 1

2024/09/01 15:38:23 E:/BlogWebsite/OnlineVersion/blog/service/mysql/label.go:22
[3.008ms] [rows:1] SELECT * FROM `label` WHERE label_name='Docker' ORDER BY `label`.`label_id` LIMIT 1

2024/09/01 15:38:23 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:28
[6.398ms] [rows:1] INSERT INTO `article` (`view_num`,`blog_title`,`show_context`,`context`,`created_time`,`updated_time`,`label_id`,`article_id`) VALUES (0,'Docker 安装 redis','通过 cluster nodes 命令可以查看到系统中各节点的关系及连接情况。只要能看到每个节点给出 connected，就说明分布式系统已经成功搭建。','## redis 单机版

### 1. 拉取 redis 镜像并创建数据卷目录

使用 docker pull 命令拉取镜像。

```
docker pull redis:7.0
```

在当前目录下创建 redisSave 目录用来持久化 redis 的数据。

```
mkdir redisSave
```

### 2. 复制和修改 redis.conf

复制一份 redis 核心配置文件 redis.conf 到宿主机目录/root/redisSave 中。注：/opt/redis 下面的 redis.conf 是之间学习 redis 基础时就有的。

![image-20230917160415844](https://liubing-1314895948.cos.ap-chengdu.myqcloud.com/img/202309171604874.png)

现在要修改 redis.conf 文件。包括：

1. 解除 IP 绑定：将 bind 行注释掉，以解除 Redis 对访问者 IP 的绑定。
2. 关闭保护模式：将 protected-mode 设置为 no。
3. 关闭守护模式：将 daemonize 设置为 no。
4. 指定持久化目录：指定 RDB 或 AOF 的持久化目录（dir）为 /data 。后面也会指定容器中的/data 目录为数据卷挂载点目录。

修改完成后保存退出。

### 3. 启动 redis 容器

```
docker run --name redis7 \
-v /root/redisSave/redis.conf:/etc/redis/redis.conf \
-v /root/redisSave/data:/data \
-dp 6379:6379 redis:7.0 \
redis-server /etc/redis/redis.conf
```

结果如下：

![image-20230917162522426](https://liubing-1314895948.cos.ap-chengdu.myqcloud.com/img/202309171625473.png)

这里指定了两个数据卷，其中一个是文件，一个是目录：

- -v /root/redisSave/redis.conf:/etc/redis/redis.conf

- -v /root/redisSave/data:/data

对于该启动命令需要注意的是，其后面运行的命令为 redis-server，且加载的配置文件为挂载点目录/etc/redis 中的 redis.conf。

### 4. 进入容器并连接 redis

通过 docker exec 命令进入 Redis 容器后，就可通过 redis-cli 客户端连接上这个 Redis，然后执行 Redis 命令了。

![image-20230917164500960](https://liubing-1314895948.cos.ap-chengdu.myqcloud.com/img/202309171645986.png)

## redis 一主两从集群搭建

现要搭建一个“一主两从”的 Redis 集群。这三个容器的端口号都保持默认，但对外暴露出的端口号分别为 6381、6382、6383。其中，6381 的为 master，另外两个为 slave。

### 1. 复制三份 redis.conf

现仍在前面的/root/redisSave 目录中完成配置。复制 redis.conf 并重命名为 redis6381.conf，并在文件最后添加如下配置，以对外宣布当前 redis 的 IP 与端口。注意，该 IP 为 docker 宿主机的 IP，端口号为当前 redis 对外暴露的端口号。

```
# 在redis6381.conf文件的末尾添加如下内容：
slave-announce-ip 192.168.11.10
slave-announce-port 6381
```

同理，再复制并修改 redis6382.conf。

```
# 在redis6382.conf文件的末尾添加如下内容：
slave-announce-ip 192.168.11.10
slave-announce-port 6382
```

同理，再复制并修改 redis6383.conf。

```
# 在redis6383.conf文件的末尾添加如下内容：
slave-announce-ip 192.168.11.10
slave-announce-port 6383
```

现在宿主机的/root/redisSave 目录的内容如下：

![image-20230917173258317](https://liubing-1314895948.cos.ap-chengdu.myqcloud.com/img/202309171732358.png)

### 2. 启动 master 和 slave

启动 master:

```
docker run --name redis-master \
-v /root/redisSave/redis6381.conf:/etc/redis/redis.conf \
-v /root/redisSave/data/6381:/data \
-dp 6381:6379 redis:7.0 \
redis-server /etc/redis/redis.conf
```

结果如下所示：

![image-20230917173736069](https://liubing-1314895948.cos.ap-chengdu.myqcloud.com/img/202309171737135.png)

接下来就是启动两个 slave，需要注意：在启动 slave 的命令中需要指出其 slaveof 于谁。

```
docker run --name redis-slave1 \
-v /root/redisSave/redis6382.conf:/etc/redis/redis.conf \
-v /root/redisSave/data/6382:/data \
-dp 6382:6379 redis:7.0 \
redis-server /etc/redis/redis.conf --slaveof 192.168.11.10 6381
```

结果如下所示：

![image-20230917174040605](https://liubing-1314895948.cos.ap-chengdu.myqcloud.com/img/202309171740664.png)

接下来还剩最后一个 slave。

```
docker run --name redis-slave2 \
-v /root/redisSave/redis6383.conf:/etc/redis/redis.conf \
-v /root/redisSave/data/6383:/data \
-dp 6383:6379 redis:7.0 \
redis-server /etc/redis/redis.conf --slaveof 192.168.11.10 6381
```

结果如下：

![image-20230917174227978](https://liubing-1314895948.cos.ap-chengdu.myqcloud.com/img/202309171742066.png)

### 3. 查看关系和数据测试

查看这三个容器节点的 info replication，可以看到它们间的主从关系已经建立。

![](https://liubing-1314895948.cos.ap-chengdu.myqcloud.com/img/202309171746335.png)

![](https://liubing-1314895948.cos.ap-chengdu.myqcloud.com/img/202309171747471.png)

![](https://liubing-1314895948.cos.ap-chengdu.myqcloud.com/img/202309171748577.png)

可以看到 master 和 slave 之间的关系没有问题。现在插入数据进行测试。

![](https://liubing-1314895948.cos.ap-chengdu.myqcloud.com/img/202309171750912.png)

发现数据测试也没问题，master 节点可读可写，slave 节点只能读。

## redis 高可用集群搭建

主从集群存在的问题是，其容灾方式只能采用`冷处理`方案，无法在生产中使用。所以，这里要搭建一个“一主两从三哨兵”的高可用集群，以达到`热处理`的容灾方案。

对于“一主两从”集群，仍使用前面的即可。下面直接搭建三个 Sentinel 节点的集群。这三个容器的端口号都保持默认(26379)，但对外暴露出的端口号分别为 26381、26382、26383。

### 1. 复制三份 sentinel.conf

复制 sentinel.conf 文件并重命名为 sentinel26381.conf。仅修改两处：

- 指定其要监视的 master 及\<quorum>。

- 指定当前 sentinel 对外宣布的 IP 与端口号。其中 IP 为 docker 宿主机的 IP，端口号为其对外暴露的端口号。

```
# 下面配置的数字:2有两层含义。
# 第一层：当master节点宕机后，还剩两个节点，这两个节点要有过半数量的节点认为master宕机，才会被判定为master客观宕机。
# 第二层：在master宕机后，在三个sentinel节点中，有一个会成为leader，成为leader的条件就是要有过半数量的sentinel认为某个sentinel能当上leader。
sentinel monitor redis-master 192.168.11.10 6381 2

sentinel announce-ip 192.168.11.10
sentinel announce-port 26381
```

同理，再复制并修改 sentinel26382.conf。内容如下：

```
sentinel monitor redis-master 192.168.11.10 6381 2

sentinel announce-ip 192.168.11.10
sentinel announce-port 26382
```

同理，再复制并修改 sentinel26383.conf。内容如下：

```
sentinel monitor redis-master 192.168.11.10 6381 2

sentinel announce-ip 192.168.11.10
sentinel announce-port 26383
```

现在宿主机的/root/redisSave 目录的内容如下：

![](https://liubing-1314895948.cos.ap-chengdu.myqcloud.com/img/202309171956311.png)

### 2. 启动 sentinel

启动三个 sentinel 容器。命令如下：

```
# sentinel1的启动
docker run --name sentinel1 \
-v /root/redisSave/sentinel26381.conf:/etc/redis/sentinel.conf \
-dp 26381:26379 redis:7.0 \
redis-sentinel /etc/redis/sentinel.conf

# sentinel2的启动
docker run --name sentinel2 \
-v /root/redisSave/sentinel26382.conf:/etc/redis/sentinel.conf \
-dp 26382:26379 redis:7.0 \
redis-sentinel /etc/redis/sentinel.conf

# sentinel3的启动
docker run --name sentinel3 \
-v /root/redisSave/sentinel26383.conf:/etc/redis/sentinel.conf \
-dp 26383:26379 redis:7.0 \
redis-sentinel /etc/redis/sentinel.conf
```

需要注意的是，这里的 master 节点的名字是`redis-master`，所以 sentinel 文件中所有的 master 名字要和其保持一致。运行完成后查看运行的容器如下：

![](https://liubing-1314895948.cos.ap-chengdu.myqcloud.com/img/202309172020799.png)

并且还可以通过 sentinel 查看集群的关系等信息。

![](https://liubing-1314895948.cos.ap-chengdu.myqcloud.com/img/202309172026354.png)

### 3. 故障转移测试

为了验证高可用性，现将充当 master 的容器 redis-master 停掉。

![image-20230917203048325](https://liubing-1314895948.cos.ap-chengdu.myqcloud.com/img/202309172030401.png)

此时，再查看另外两个 redis 容器的状态数据，发现 redis-slave1 成为了 redis-slave2 的 slave，即 redis-slave2 成为了新的 master。

![image-20230917203117645](https://liubing-1314895948.cos.ap-chengdu.myqcloud.com/img/202309172031685.png)

![image-20230917203141803](https://liubing-1314895948.cos.ap-chengdu.myqcloud.com/img/202309172031879.png)

此时再次将 redis-master 容器启动（docker start redis-master）。并查看 redis-master 的状态数据，发现其成为了 redis-slave2 的 slave。

![image-20230917203830114](https://liubing-1314895948.cos.ap-chengdu.myqcloud.com/img/202309172038174.png)

![image-20230917203607630](https://liubing-1314895948.cos.ap-chengdu.myqcloud.com/img/202309172036676.png)

## redis 分布式集群搭建

Redis 集群的每个节点中的保存的数据都是相同的。而 Redis 分布式系统的节点中存放的数据可以是不同的。当有数据写入请求到达分布式系统后，系统会采用虚拟槽分区算法将数据写入到相应节点。

下面要搭建一个三主三从的 Redis 分布式系统。

| 序号 |  角色  | 容器名称 | 网络模式 |       暴露地址       |
| :--: | :----: | :------: | :------: | :------------------: |
|  1   | master |  redis1  |   host   | 192.168.192.101:6381 |
|  2   | master |  redis2  |   host   | 192.168.192.101:6382 |
|  3   | master |  redis3  |   host   | 192.168.192.101:6383 |
|  4   | slave  |  redis4  |   host   | 192.168.192.101:6384 |
|  5   | slave  |  redis5  |   host   | 192.168.192.101:6385 |
|  6   | slave  |  redis6  |   host   | 192.168.192.101:6386 |

### 1. 准备工作

在/root 中 mkdir 一个名称为 cluster 的目录，并将前面的配置文件/root/redisSave/redis.conf 复制到这里。也就是 cluster 目录下要有一个 redis.conf 文件。接下来需要复制六份 redis.conf 文件。复制 redis.conf 为 redis1.conf，并在其中将下面两个配置前的`注释符号去掉`。这两项配置，一个是用于开启 cluster 功能，即分布式系统功能；一个是指定其需要的配置文件名称。

```
cluster-enabled yes
cluster-config-file nodes-6379.conf
```

然后再以 redis1.conf 为模板复制出 5 份，分别为 redis2.conf、redis3.conf、redis4.conf、redis5.conf、redis6.conf。`这 6 份配置文件内容完全相同`。完成后 cluster 目录内容如下：

![](https://liubing-1314895948.cos.ap-chengdu.myqcloud.com/img/202309172059196.png)

### 2. 启动 redis

启动 6 个 Redis 容器。命令如下：

```bash
# 启动redis1
docker run --name redis1 --network host \
-v /root/cluster/redis1.conf:/etc/redis/redis.conf \
-v /root/cluster/data/6381:/data \
-d redis:7.0 \
redis-server /etc/redis/redis.conf --port 6381

# 启动redis2
docker run --name redis2 --network host \
-v /root/cluster/redis2.conf:/etc/redis/redis.conf \
-v /root/cluster/data/6382:/data \
-d redis:7.0 \
redis-server /etc/redis/redis.conf --port 6382

# 启动redis3
docker run --name redis3 --network host \
-v /root/cluster/redis3.conf:/etc/redis/redis.conf \
-v /root/cluster/data/6383:/data \
-d redis:7.0 \
redis-server /etc/redis/redis.conf --port 6383

# 启动redis4
docker run --name redis4 --network host \
-v /root/cluster/redis4.conf:/etc/redis/redis.conf \
-v /root/cluster/data/6384:/data \
-d redis:7.0 \
redis-server /etc/redis/redis.conf --port 6384

# 启动redis5
docker run --name redis5 --network host \
-v /root/cluster/redis5.conf:/etc/redis/redis.conf \
-v /root/cluster/data/6385:/data \
-d redis:7.0 \
redis-server /etc/redis/redis.conf --port 6385

# 启动redis6
docker run --name redis6 --network host \
-v /root/cluster/redis6.conf:/etc/redis/redis.conf \
-v /root/cluster/data/6386:/data \
-d redis:7.0 \
redis-server /etc/redis/redis.conf --port 6386
```

启动完成后使用 docker ps --format "table {{.ID}}\t{{.Names}}\t{{.Status}}" 命令查看状态等信息。如下所示：

![image-20230917211025246](https://liubing-1314895948.cos.ap-chengdu.myqcloud.com/img/202309172110297.png)

### 3. 创建系统

6 个节点启动后，它们仍是 6 个独立的 Redis，通过 redis-cli --cluster create 命令可将 6 个节点创建为一个分布式系统。--cluster-replicas 1 指定每个 master 会带有一个 slave 副本。命令如下：

```
docker exec -it redis1 redis-cli --cluster create --cluster-replicas 1 192.168.11.10:6381 192.168.11.10:6382 192.168.11.10:6383 192.168.11.10:6384 192.168.11.10:6385 192.168.11.10:6386
```

输入命令再回车后即可看到一个计划日志，输入 yes，就能把集群搭建完成。

### 4. 查看节点信息

通过 cluster nodes 命令可以查看到系统中各节点的关系及连接情况。只要能看到每个节点给出 connected，就说明分布式系统已经成功搭建。

![image-20230917212806845](https://liubing-1314895948.cos.ap-chengdu.myqcloud.com/img/202309172128917.png)
','2024-09-01 15:38:23.238','2024-09-01 15:38:23.238',73067090851960321,88323825145517569)

2024/09/01 15:38:23 E:/BlogWebsite/OnlineVersion/blog/service/mysql/label.go:43
[1.126ms] [rows:1] SELECT * FROM `label` WHERE label_id=73067090851960321 ORDER BY `label`.`label_id` LIMIT 1

2024/09/01 15:38:24 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:52
[9.995ms] [rows:22] SELECT A.article_id, A.blog_title, L.label_name, A.created_time, A.view_num FROM article AS A JOIN label AS L ON A.label_id = L.label_id ORDER BY A.created_time DESC

2024/09/01 15:38:24 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:62
[2.535ms] [rows:22] SELECT A.article_id, A.blog_title, L.label_name, A.created_time, A.view_num FROM article AS A JOIN label AS L ON A.label_id = L.label_id ORDER BY A.view_num DESC

2024/09/01 15:38:26 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:67
[3.651ms] [rows:1] SELECT * FROM `article` WHERE article_id=88323825145517569 ORDER BY `article`.`article_id` LIMIT 1

2024/09/01 15:38:26 E:/BlogWebsite/OnlineVersion/blog/service/mysql/label.go:43
[2.219ms] [rows:1] SELECT * FROM `label` WHERE label_id=73067090851960321 ORDER BY `label`.`label_id` LIMIT 1

2024/09/01 15:39:26 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:20
[3.876ms] [rows:0] SELECT * FROM `article` WHERE blog_title='CMD 命令和 ENTRYPOINT 命令的区别' ORDER BY `article`.`article_id` LIMIT 1

2024/09/01 15:39:26 E:/BlogWebsite/OnlineVersion/blog/service/mysql/label.go:11
[1.628ms] [rows:1] SELECT * FROM `label` WHERE label_name='Docker' ORDER BY `label`.`label_id` LIMIT 1

2024/09/01 15:39:26 E:/BlogWebsite/OnlineVersion/blog/service/mysql/label.go:22
[1.046ms] [rows:1] SELECT * FROM `label` WHERE label_name='Docker' ORDER BY `label`.`label_id` LIMIT 1

2024/09/01 15:39:26 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:28
[8.685ms] [rows:1] INSERT INTO `article` (`view_num`,`blog_title`,`show_context`,`context`,`created_time`,`updated_time`,`label_id`,`article_id`) VALUES (0,'CMD 命令和 ENTRYPOINT 命令的区别','对于 CMD-shell 来说，首先 docker daemon 会 fork 一个新进程，该进程就是一个 shell 环境。如果 docker run 命令后面的 IMAGE没有命令和参数，那么 docker daemon 会将<u>Dockerfile 里面的 CMD-shell 命令放在这个新 shell 里面执行</u>；如果 docker run 命令后面的 IMAGE`有命令和参数','## CMD 命令

### CMD-shell 形式

#### 1. 创建 Dockerfile1

```dockerfile
vim Dockerfile1
# 写入以下两行内容
FROM centos:7
CMD cal
```

#### 2. 构建和运行新镜像

```
# 说明：-f 用于指定本次构建所要使用的Dockerfile的文件名。
docker build -f Dockerfile1 -t my-cal:1.0 .
```

构建成功运行新镜像。运行后可以查看到当前月份的日历。

![image-20230911102224504](https://liubing-1314895948.cos.ap-chengdu.myqcloud.com/img/202309111022549.png)

#### 3. 覆盖 CMD

![image-20230911100132103](https://liubing-1314895948.cos.ap-chengdu.myqcloud.com/img/202309111001142.png)

在 docker run 命令中指定要执行的命令，Dockerfile 中通过 CMD 指定的默认的命令就不会在执行，也就是说 Dockerfile 中的 CMD 命令是可以被覆盖的。

#### 4. 添加命令选项

![image-20230911102303525](https://liubing-1314895948.cos.ap-chengdu.myqcloud.com/img/202309111023556.png)

cal 命令添加 -y 选项可以显示当前年的所有月份。但这种方式无法为 CMD 中指定的默认的命令指定选项。

> `小总结`：
>
> cmd-shell 的形式可以被覆盖，但不能添加命令选项。

### CMD-exec 形式

#### 1. 创建 Dockerfile2、构建和运行新镜像

此步骤与前面类似，只是把 Dockerfile1 里面的 CMD cal 替换为 CMD ["cal"] `或者`CMD ["/bin/bash", "-c", "cal"]。

> CMD-exec 形式的语法：
>
> CMD ["executable","param1","param2"]
>
> - "executable" 是你想要运行的命令或程序。
> - "param1","param2" 是传递给这个命令或程序的参数。

![image-20230911102606406](https://liubing-1314895948.cos.ap-chengdu.myqcloud.com/img/202309111026439.png)

![image-20230911102631745](https://liubing-1314895948.cos.ap-chengdu.myqcloud.com/img/202309111026775.png)

最后运行新镜像的结果和 CMD-shell 形式的结果一样。

#### 2.覆盖 CMD 和添加命令选项

![image-20230911102701172](https://liubing-1314895948.cos.ap-chengdu.myqcloud.com/img/202309111027212.png)

> `小总结`：
>
> cmd-exec 的形式可以被覆盖，但不能添加命令选项。

## ENTRYPOINT 命令

### ENTRYPOINT-shell

#### 1. 创建 Dockerfile3、构建和运行新镜像

> ENTRYPOINT-shell 形式的语法：ENTRYPOINT command param1 param2

```
vim Dockerfile3
# 写入以下两行内容
FROM centos:7
ENTRYPOINT cal
# 构建镜像
docker build -f Dockerfile3 -t my-cal:3.0 .
# 运行镜像
docker run -it my-cal:3.0
```

结果如下：

![image-20230911152434533](https://liubing-1314895948.cos.ap-chengdu.myqcloud.com/img/202309111524568.png)

#### 2. 覆盖 ENTRYPOINT 和 添加命令选项

![](https://liubing-1314895948.cos.ap-chengdu.myqcloud.com/img/202309111526898.png)

可以看到 ENTRYPOINT-shell 形式的指令是不会被 docker run 中指定的命令给覆盖掉的。在 docker run 中添加的命令选项，对于 ENTRYPOINT 中指定的命令是无效的。在这点上不像 CMD 指令一样报错。

### ENTRYPOINT-exec

为了更好的理解 ENTRYPOINT 命令，ENTRYPOINT-exec 又分了两种情况进行讨论。分别是 ENTRYPOINT ["cal"] 和 ENTRYPOINT ["/bin/bash","-c","cal"] 。看看它们之间的区别有哪些以及为什么。

#### 1. 创建 Dockerfile4、构建和运行新镜像

```dockerfile
vim Dockerfile4
# 写入以下两行内容
FROM centos:7
ENTRYPOINT ["cal"]
# 构建镜像
docker build -f Dockerfile4 -t my-cal:4.0 .
# 运行镜像
docker run -it my-cal:4.0
```

运行结果如下：

![image-20230911153728227](https://liubing-1314895948.cos.ap-chengdu.myqcloud.com/img/202309111537266.png)

#### 2. 覆盖 ENTRYPOINT 和 添加命令选项

![](https://liubing-1314895948.cos.ap-chengdu.myqcloud.com/img/202309111538122.png)

可以看到这种的 ENTRYPOINT-exec 形式的指令也是不会被 docker run 中指定的命令给覆盖掉的，并且会报出错误信息。而在 docker run 中添加的命令选项，对于 ENTRYPOINT 中指定的命令却是是有效的，能够显示出整年的日历。

### ENTRYPOINT-exec 的另一种形式

为了节省篇幅，我简要写出关键步骤后直接看运行结果。

```
# 建立Dockerfile5
vim Dockerfile5
# 写入以下两行内容
FROM centos:7
ENTRYPOINT ["/bin/bash","-c","cal"]
# 构建镜像
docker build -f Dockerfile5 -t my-cal:5.0 .
# 运行镜像
docker run -it my-cal:5.0
```

运行结果如下：

![image-20230911154657701](https://liubing-1314895948.cos.ap-chengdu.myqcloud.com/img/202309111546742.png)

覆盖 ENTRYPOINT 和 添加命令选项的结果如下：

![](https://liubing-1314895948.cos.ap-chengdu.myqcloud.com/img/202309111547641.png)

发现最后的结果与 ENTRYPOINT-shell 的形式一样。也就是不会被覆盖并且添加选项无效。

## 基于前面五个实验的总结

| Dockerfile 的命令                   | 命令是否可以被覆盖               | 是否可以添加选项               |
| :---------------------------------- | :------------------------------- | :----------------------------- |
| CMD cal                             | 可以被覆盖                       | 不能添加选项，添加选项后会报错 |
| CMD ["cal"]                         | 可以被覆盖                       | 不能添加选项，添加选项后会报错 |
| ENTRYPOINT cal                      | 不可以被覆盖，添加的命令会被忽略 | 不能添加选项，添加的选项被忽略 |
| ENTRYPOINT ["cal"]                  | 不可以被覆盖，添加命令后会报错   | 可以添加选项                   |
| ENTRYPOINT ["/bin/bash","-c","cal"] | 不可以被覆盖，添加的命令会被忽略 | 不能添加选项，添加的选项被忽略 |

在总结之前先来看看 docker run 命令的语法：

![image-20230911161656508](https://liubing-1314895948.cos.ap-chengdu.myqcloud.com/img/202309111616546.png)

可以看到：IMAGE 的后面是可以接命令和参数的，但命令和参数并不是必须的，所以用 [ ] 括起来了。所以结论如下：

1. shell 命令格式和 exec 命令格式的区别：

   对于 shell 形式的 ENTRYPOINT 或者 CMD，docker daemon 会创建一个新的 /bin/bash shell 进程，并在这个新进程中运行你的命令。这意味着你的命令会在一个新的 shell 环境中运行，这个环境有它自己的环境变量，且和启动容器的环境是隔离的。

   这与 exec 形式不同，exec 形式直接在 Docker 容器的主进程中运行命令，没有额外创建 shell 进程。这就是为什么 exec 形式可以接收 docker run 附加的参数。

2. CMD 指令：

   Dockerfile 中的 CMD 指令是可以被 docker run 命令中的[COMMAND]替代的。也就是说，如果 docker run 命令中的 IMAGE 后仍有内容，此时 docker daemon 首先会将 IMAGE 后面的[COMMAND]替换掉 CMD 指令中的[COMMAND]，如果有两个或两个以上的内容，docker daemon 会认为是从第二个内容开始后面的都是[ARG]。所以，添加的-y 会报错，这是因为没有-y 这样的[COMMAND]。

3. ENTRYPOINT 指令：

   如果 Dockerfile 中的[EXECUTABLE]是通过 ENTRYPOINT 指定的，则该镜像的启动命令 docker run 中是可以添加参数[ARG]的。也就是说，ENTRYPOINT 指定的命令是不可被替代的，并且如果 IMAGE 后面还有内容，这些内容会被作为参数传递给 ENTRYPOINT 指定的命令。但加上参数后如果有语法错误，那么 docker daemon 就会忽略该参数。

**`最后的总结`**：基于以上三个结论，下面我就写一下每种命令执行的底层原理。

1. 对于 CMD-shell 来说，首先 docker daemon 会 fork 一个新进程，该进程就是一个 shell 环境。如果 docker run 命令后面的 IMAGE`没有命令和参数`，那么 docker daemon 会将<u>Dockerfile 里面的 CMD-shell 命令放在这个新 shell 里面执行</u>；如果 docker run 命令后面的 IMAGE`有命令和参数`，那么会将 IMAGE 后面的<u>命令和参数放在新 shell 里面执行</u>。在这个新的 shell 环境有它自己的环境变量，且和启动容器的环境是隔离的。
2. 对于 CMD-exec 来说，命令的执行环境就是运行容器的主进程的环境。如果 docker run 命令后面的 IMAGE`没有命令和参数`，那么 docker daemon 会将 Dockerfile 里面的 CMD-shell 命令放在运行容器的<u>主进程的环境执行</u>；如果 docker run 命令后面的 IMAGE`有命令和参数`，那么 IMAGE 后面的命令和参数将会<u>替换</u>掉 Dockerfile 里面的 CMD-exec 命令，也就是<u>只执行 IMAGE 后面的命令和参数</u>。
3. 对于 ENTRYPOINT-shell 来说，首先 docker daemon 会 fork 一个新进程，该进程就是一个 shell 环境。如果 docker run 命令后面的 IMAGE`没有命令和参数`，那么 docker daemon 会将<u>Dockerfile 里面的 ENTRYPOINT-shell 命令放在这个新 shell 里面执行</u>；如果 docker run 命令后面的 IMAGE`有命令和参数`，那对不起，<u>IMAGE 后面所有的命令和参数都会被丢弃</u>。
4. 对于 ENTRYPOINT-exec 来说，命令的执行环境就是运行容器的主进程的环境。如果 docker run 命令后面的 IMAGE`没有命令和参数`，那么 docker daemon 会将 Dockerfile 里面的 ENTRYPOINT-exec 命令放在运行容器的<u>主进程的环境执行</u>；如果 docker run 命令后面的 IMAGE`有命令和参数`，那么 docker daemon 会<u>将 IMAGE 后面所有的命令和参数追加到 Dockerfile 里面的 ENTRYPOINT-exec 命令的后面</u>，但是如果追加后有语法错误，那么就不会追加了。最后在运行容器的<u>主进程的环境执行命令</u>。
5. 最后就是 ENTRYPOINT ["/bin/bash","-c","cal"]的执行原理了，其实这有点类似于 shell 和 exec 两种形式的结合版，对于最后这个命令的底层执行原理请读者自行理解。不过需要注意的是 cal -y 的执行结果和/bin/bash -c cal -y 的执行结果是不一样的；而 cal -y 和 /bin/bash -c "cal -y" 这两条命令的执行结果是一样的。

## CMD 与 ENTRYPOINT 组合使用

这两个指令都用于指定容器启动时要执行的命令，无论哪个指令，每个 Dockerfile 中都只能有一个 CMD/ENTERYPOINT 指令，多个 CMD/ENTERYPOINT 指令只会执行最后一个。如果同时存在多个 CMD 和 ENTRYPOINT，Docker 只会执行最后一个。此外，CMD 和 ENTRYPOINT 可以配合使用。当 ENTRYPOINT 和 CMD 同时存在时，CMD 中的内容会被作为 ENTRYPOINT 的参数。`在这种模式下，docker run 命令后面的参数会覆盖 CMD 的内容。`

验证如下：

```dockerfile
# 新建Dockerfile6
vim Dockerfile6
# 写入以下三行内容
FROM centos:7
CMD ["hello world"]
ENTRYPOINT ["echo"]
# 构建镜像
docker build -f Dockerfile6 -t my-cal:6.0 .
# 运行镜像
docker run -it my-cal:6.0
```

运行结果如下：

![image-20230911185712380](https://liubing-1314895948.cos.ap-chengdu.myqcloud.com/img/202309111857417.png)
','2024-09-01 15:39:26.442','2024-09-01 15:39:26.442',73067090851960321,88323931194299905)

2024/09/01 15:39:26 E:/BlogWebsite/OnlineVersion/blog/service/mysql/label.go:43
[1.420ms] [rows:1] SELECT * FROM `label` WHERE label_id=73067090851960321 ORDER BY `label`.`label_id` LIMIT 1

2024/09/01 15:39:27 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:52
[2.919ms] [rows:23] SELECT A.article_id, A.blog_title, L.label_name, A.created_time, A.view_num FROM article AS A JOIN label AS L ON A.label_id = L.label_id ORDER BY A.created_time DESC

2024/09/01 15:39:27 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:62
[3.194ms] [rows:23] SELECT A.article_id, A.blog_title, L.label_name, A.created_time, A.view_num FROM article AS A JOIN label AS L ON A.label_id = L.label_id ORDER BY A.view_num DESC

2024/09/01 15:40:22 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:20
[4.144ms] [rows:0] SELECT * FROM `article` WHERE blog_title='docker 引擎发展历史' ORDER BY `article`.`article_id` LIMIT 1

2024/09/01 15:40:22 E:/BlogWebsite/OnlineVersion/blog/service/mysql/label.go:11
[1.140ms] [rows:1] SELECT * FROM `label` WHERE label_name='Docker' ORDER BY `label`.`label_id` LIMIT 1

2024/09/01 15:40:22 E:/BlogWebsite/OnlineVersion/blog/service/mysql/label.go:22
[1.139ms] [rows:1] SELECT * FROM `label` WHERE label_name='Docker' ORDER BY `label`.`label_id` LIMIT 1

2024/09/01 15:40:22 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:28
[16.182ms] [rows:1] INSERT INTO `article` (`view_num`,`blog_title`,`show_context`,`context`,`created_time`,`updated_time`,`label_id`,`article_id`) VALUES (0,'docker 引擎发展历史','现代 Docker 引擎由如下主要的组件构成：Docker 客户端（Docker Client）、Docker 守护进程（Docker daemon）、containerd 以及 runc。它们共同负责容器的创建和运行。','

现代 Docker 引擎由如下主要的组件构成：Docker 客户端（Docker Client）、Docker 守护进程（Docker daemon）、containerd 以及 runc。它们共同负责容器的创建和运行。下面是 Docker 引擎的发展过程：

## 首发版本

Docker 首次发布时，Docker 引擎由两个核心组件构成：`LXC` 和 `Docker daemon`。

其中，Linux 容器（LXC）是第一个、最完整的 Linux 容器管理器的实现方案。2008 年，通过将 Cgroups 的资源管理能力和 Linux Namespace 的视图隔离能力组合在一起，LXC 完整的容器技术出现在 Linux 内核中，并且可以在单个 Linux 内核上运行而无需任何补丁。而 Docker daemon 是单一的二进制文件，包含诸如 Docker 客户端、Docker API、容器运行时、镜像构建等。

下图阐释了在 Docker 旧版本中，Docker daemon、LXC 和操作系统之间的交互关系。

![image-20231109134527874](https://liubing-1314895948.cos.ap-chengdu.myqcloud.com/img/202311091345974.png)

不过，该架构依赖于 LXC，存在以下问题：

- 依赖于外部工具，对 Docker 来说，存在着巨大的生存风险

- LXC 使得 Docker 无法实现跨平台（只能在 Linux 平台上使用）

Docker Daemon 的“大而全”也带来了严重的问题：

- 版本更新与功能扩展较难

- 运行较慢，带来性能问题

- Docker Daemon 运行出现问题，会直接影响容器的运行，不符合软件哲学

## Docker 0.9 版本

Docker 公司开发了名为 Libcontainer 的自研工具，用于替代 LXC。Libcontainer 的目标是成为与平台无关的工具，可基于不同内核为 Docker 上层提供必要的容器交互功能。在 Docker 0.9 版本中，Libcontainer 取代 LXC 成为默认的执行驱动。

## Docker 1.11 版本

2017 年 7 月 OCI 基金会发布了两个规范（镜像规范与容器运行时规范）的 OCI1.0 版本。2016 年底发布的 Docker1.11 版本基本遵循了 OCI1.0 版本。

从 Docker1.11 版本开始，Docker Daemon 中不再包含任何容器运行时代码，而是将容器运行时单独剥离了出来，形成了 Runc 项目。

目前 Docker 引擎的架构示意图如下图所示，图中有简要的描述。

<img src="https://liubing-1314895948.cos.ap-chengdu.myqcloud.com/img/202309051420909.png" alt="image-20230905142009677" style="zoom: 50%;" />

- `Docker Client`：Docker 客户端，Docker 引擎提供的 CLI 工具，用于用户向 Docker 提交命令请求。

- `Dockerd`：即 Docker Daemon。在现代 Dockerd 中的主要包含的功能有镜像构建、镜像管理、REST API、核心网络及编排等。其通过 gRPC 与 Containerd 进行通信。

- `runc `：只有一个作用——创建容器。不过它是一个 CLI 包装器，实质上就是一个独立的容器运行时工具。因此直接下载它或基于源码编译二进制文件，即可拥有一个全功能的 runc。有时也将 runc 所在的那一层称为“OCI 层”。

- `containerd`：在对 Docker daemon 的功能进行拆解后，所有的容器执行逻辑被重构到一个新的名为 containerd 的工具中。它的主要任务是容器的生命周期管理——start | stop | pause | rm······

  Docker 引擎技术栈中，containerd 位于 daemon 和 runc 所在的 OCI 层之间。containerd 在 Linux 和 Windows 中以 daemon 的方式运行，从 1.11 版本之后 Docker 就开始在 Linux 上使用它。如前所述，containerd 最初被设计为轻量级的小型工具，仅用于容器的生命周期管理。然而，随着时间的推移，它被赋予了更多的功能，比如镜像管理。containerd 是由 Docker 公司开发的，并捐献给了云原生计算基金会（Cloud Native Computing Foundation, CNCF）。

- `shim`：实现无 daemon 的容器（用于将运行中的容器与 daemon 解耦，以便进行 daemon 升级等操作）不可或缺的工具。前面提到，containerd 指挥 runc 来创建新容器。事实上，每次创建容器时它都会 fork 一个新的 runc 实例。不过，一旦容器创建完毕，对应的 runc 进程就会退出。因此，即使运行上百个容器，也无须保持上百个运行中的 runc 实例。

  `一旦容器进程的父进程 runc 退出，相关联的 containerd-shim 进程就会成为容器的父进程`。作为容器的父进程，shim 的部分职责如下。

  - 保持所有 STDIN 和 STDOUT 流是开启状态，从而当 daemon 重启的时候，容器不会因为管道（pipe）的关闭而终止。
  - 将容器的退出状态反馈给 daemon。
','2024-09-01 15:40:22.628','2024-09-01 15:40:22.628',73067090851960321,88324025448699393)

2024/09/01 15:40:22 E:/BlogWebsite/OnlineVersion/blog/service/mysql/label.go:43
[1.622ms] [rows:1] SELECT * FROM `label` WHERE label_id=73067090851960321 ORDER BY `label`.`label_id` LIMIT 1

2024/09/01 15:40:23 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:52
[3.204ms] [rows:24] SELECT A.article_id, A.blog_title, L.label_name, A.created_time, A.view_num FROM article AS A JOIN label AS L ON A.label_id = L.label_id ORDER BY A.created_time DESC

2024/09/01 15:40:23 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:62
[2.454ms] [rows:24] SELECT A.article_id, A.blog_title, L.label_name, A.created_time, A.view_num FROM article AS A JOIN label AS L ON A.label_id = L.label_id ORDER BY A.view_num DESC

2024/09/01 15:40:26 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:67
[1.816ms] [rows:1] SELECT * FROM `article` WHERE article_id=88324025448699393 ORDER BY `article`.`article_id` LIMIT 1

2024/09/01 15:40:26 E:/BlogWebsite/OnlineVersion/blog/service/mysql/label.go:43
[2.095ms] [rows:1] SELECT * FROM `label` WHERE label_id=73067090851960321 ORDER BY `label`.`label_id` LIMIT 1

2024/09/01 15:40:26 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:67
[3.732ms] [rows:1] SELECT * FROM `article` WHERE article_id=88323931194299905 ORDER BY `article`.`article_id` LIMIT 1

2024/09/01 15:40:26 E:/BlogWebsite/OnlineVersion/blog/service/mysql/label.go:43
[2.254ms] [rows:1] SELECT * FROM `label` WHERE label_id=73067090851960321 ORDER BY `label`.`label_id` LIMIT 1

2024/10/13 18:45:14 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[2.266ms] [rows:-] SELECT DATABASE()

2024/10/13 18:45:14 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[18.659ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/10/13 18:45:14 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[9.933ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'article' AND table_type = 'BASE TABLE'

2024/10/13 18:45:14 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[1.246ms] [rows:-] SELECT DATABASE()

2024/10/13 18:45:14 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[2.270ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/10/13 18:45:14 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[23.948ms] [rows:-] SELECT * FROM `article` LIMIT 1

2024/10/13 18:45:14 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[13.099ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'article' ORDER BY ORDINAL_POSITION

2024/10/13 18:45:14 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[2.574ms] [rows:-] SELECT DATABASE()

2024/10/13 18:45:14 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[4.434ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/10/13 18:45:14 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[4.496ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'tools' AND table_type = 'BASE TABLE'

2024/10/13 18:45:14 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[2.289ms] [rows:-] SELECT DATABASE()

2024/10/13 18:45:14 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[3.802ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/10/13 18:45:14 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[20.715ms] [rows:-] SELECT * FROM `tools` LIMIT 1

2024/10/13 18:45:14 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[5.921ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'tools' ORDER BY ORDINAL_POSITION

2024/10/13 18:45:14 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[2.495ms] [rows:-] SELECT DATABASE()

2024/10/13 18:45:14 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[3.942ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/10/13 18:45:14 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[2.651ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'label' AND table_type = 'BASE TABLE'

2024/10/13 18:45:14 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[1.116ms] [rows:-] SELECT DATABASE()

2024/10/13 18:45:14 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[0.580ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/10/13 18:45:14 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[8.069ms] [rows:-] SELECT * FROM `label` LIMIT 1

2024/10/13 18:45:14 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[2.086ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'label' ORDER BY ORDINAL_POSITION

2024/10/13 18:45:14 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[1.152ms] [rows:-] SELECT DATABASE()

2024/10/13 18:45:14 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[0.779ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/10/13 18:45:14 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[1.636ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'user_info' AND table_type = 'BASE TABLE'

2024/10/13 18:45:14 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[1.022ms] [rows:-] SELECT DATABASE()

2024/10/13 18:45:14 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[0.589ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/10/13 18:45:14 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[9.554ms] [rows:-] SELECT * FROM `user_info` LIMIT 1

2024/10/13 18:45:14 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[2.800ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'user_info' ORDER BY ORDINAL_POSITION

2024/10/13 18:45:14 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[1.135ms] [rows:-] SELECT DATABASE()

2024/10/13 18:45:14 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[0.569ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/10/13 18:45:14 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[1.599ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'user_login' AND table_type = 'BASE TABLE'

2024/10/13 18:45:14 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[0.563ms] [rows:-] SELECT DATABASE()

2024/10/13 18:45:14 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[0.505ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/10/13 18:45:14 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[8.345ms] [rows:-] SELECT * FROM `user_login` LIMIT 1

2024/10/13 18:45:14 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[1.468ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'user_login' ORDER BY ORDINAL_POSITION

2024/10/13 18:54:24 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[1.950ms] [rows:-] SELECT DATABASE()

2024/10/13 18:54:24 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[1.950ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/10/13 18:54:24 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[1.565ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'article' AND table_type = 'BASE TABLE'

2024/10/13 18:54:24 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[1.106ms] [rows:-] SELECT DATABASE()

2024/10/13 18:54:24 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[0.871ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/10/13 18:54:24 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[1.038ms] [rows:-] SELECT * FROM `article` LIMIT 1

2024/10/13 18:54:24 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:65
[2.390ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'article' ORDER BY ORDINAL_POSITION

2024/10/13 18:54:24 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[1.192ms] [rows:-] SELECT DATABASE()

2024/10/13 18:54:24 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[0.852ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/10/13 18:54:24 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[2.918ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'tools' AND table_type = 'BASE TABLE'

2024/10/13 18:54:24 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[1.064ms] [rows:-] SELECT DATABASE()

2024/10/13 18:54:24 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[0.638ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/10/13 18:54:24 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[1.107ms] [rows:-] SELECT * FROM `tools` LIMIT 1

2024/10/13 18:54:24 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:66
[1.543ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'tools' ORDER BY ORDINAL_POSITION

2024/10/13 18:54:24 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[0.653ms] [rows:-] SELECT DATABASE()

2024/10/13 18:54:24 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[0.619ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/10/13 18:54:24 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[1.596ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'label' AND table_type = 'BASE TABLE'

2024/10/13 18:54:24 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[1.026ms] [rows:-] SELECT DATABASE()

2024/10/13 18:54:24 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[1.565ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/10/13 18:54:24 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[1.687ms] [rows:-] SELECT * FROM `label` LIMIT 1

2024/10/13 18:54:24 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:67
[1.775ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'label' ORDER BY ORDINAL_POSITION

2024/10/13 18:54:24 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[1.174ms] [rows:-] SELECT DATABASE()

2024/10/13 18:54:24 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[1.137ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/10/13 18:54:24 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[1.546ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'user_info' AND table_type = 'BASE TABLE'

2024/10/13 18:54:24 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[0.505ms] [rows:-] SELECT DATABASE()

2024/10/13 18:54:24 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[0.537ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/10/13 18:54:24 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[1.035ms] [rows:-] SELECT * FROM `user_info` LIMIT 1

2024/10/13 18:54:24 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:68
[1.276ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'user_info' ORDER BY ORDINAL_POSITION

2024/10/13 18:54:24 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[1.047ms] [rows:-] SELECT DATABASE()

2024/10/13 18:54:24 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[1.110ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/10/13 18:54:24 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[2.451ms] [rows:-] SELECT count(*) FROM information_schema.tables WHERE table_schema = 'blog' AND table_name = 'user_login' AND table_type = 'BASE TABLE'

2024/10/13 18:54:24 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[1.030ms] [rows:-] SELECT DATABASE()

2024/10/13 18:54:24 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[1.285ms] [rows:1] SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'blog%' ORDER BY SCHEMA_NAME='blog' DESC,SCHEMA_NAME limit 1

2024/10/13 18:54:24 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[0.559ms] [rows:-] SELECT * FROM `user_login` LIMIT 1

2024/10/13 18:54:24 E:/BlogWebsite/OnlineVersion/blog/initialize/mysql.go:69
[0.916ms] [rows:-] SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'blog' AND table_name = 'user_login' ORDER BY ORDINAL_POSITION

2024/10/13 19:00:00 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:43
[14.137ms] [rows:1] UPDATE `article` SET `view_num`=3 WHERE article_id=88324025448699393

2024/10/13 19:00:00 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:43
[3.187ms] [rows:1] UPDATE `article` SET `view_num`=1 WHERE article_id=88323931194299905

2024/10/13 19:00:00 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:43
[2.576ms] [rows:0] UPDATE `article` SET `view_num`=0 WHERE article_id=88323825145517569

2024/10/13 19:00:00 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:43
[2.493ms] [rows:1] UPDATE `article` SET `view_num`=1 WHERE article_id=88323659671836161

2024/10/13 19:00:00 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:43
[2.108ms] [rows:0] UPDATE `article` SET `view_num`=0 WHERE article_id=88323530420164097

2024/10/13 19:00:00 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:43
[3.109ms] [rows:1] UPDATE `article` SET `view_num`=56 WHERE article_id=73073424687207937

2024/10/13 19:00:00 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:43
[3.782ms] [rows:1] UPDATE `article` SET `view_num`=49 WHERE article_id=73073287567087105

2024/10/13 19:00:00 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:43
[6.185ms] [rows:1] UPDATE `article` SET `view_num`=25 WHERE article_id=73072918199834113

2024/10/13 19:00:00 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:43
[3.894ms] [rows:1] UPDATE `article` SET `view_num`=35 WHERE article_id=73072831008642561

2024/10/13 19:00:00 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:43
[1.765ms] [rows:0] UPDATE `article` SET `view_num`=6 WHERE article_id=73072737609881089

2024/10/13 19:00:00 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:43
[11.880ms] [rows:0] UPDATE `article` SET `view_num`=7 WHERE article_id=73072510865806849

2024/10/13 19:00:00 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:43
[5.231ms] [rows:1] UPDATE `article` SET `view_num`=6 WHERE article_id=73071166306162177

2024/10/13 19:00:00 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:43
[4.117ms] [rows:0] UPDATE `article` SET `view_num`=4 WHERE article_id=73071065022109185

2024/10/13 19:00:00 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:43
[6.459ms] [rows:1] UPDATE `article` SET `view_num`=9 WHERE article_id=73070664851953153

2024/10/13 19:00:00 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:43
[2.572ms] [rows:0] UPDATE `article` SET `view_num`=3 WHERE article_id=73070456562816513

2024/10/13 19:00:00 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:43
[2.591ms] [rows:0] UPDATE `article` SET `view_num`=2 WHERE article_id=73070353248785921

2024/10/13 19:00:00 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:43
[17.540ms] [rows:1] UPDATE `article` SET `view_num`=12 WHERE article_id=73069969788671489

2024/10/13 19:00:00 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:43
[4.718ms] [rows:1] UPDATE `article` SET `view_num`=2 WHERE article_id=73068763573949953

2024/10/13 19:00:00 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:43
[6.740ms] [rows:1] UPDATE `article` SET `view_num`=5 WHERE article_id=73068320672224769

2024/10/13 19:00:00 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:43
[2.704ms] [rows:0] UPDATE `article` SET `view_num`=1 WHERE article_id=73068220445136385

2024/10/13 19:00:00 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:43
[4.372ms] [rows:1] UPDATE `article` SET `view_num`=5 WHERE article_id=73067969273435649

2024/10/13 19:00:00 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:43
[2.679ms] [rows:1] UPDATE `article` SET `view_num`=3 WHERE article_id=73067268237465089

2024/10/13 19:00:00 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:43
[2.594ms] [rows:1] UPDATE `article` SET `view_num`=19 WHERE article_id=73067090885514753

2024/10/13 19:00:00 E:/BlogWebsite/OnlineVersion/blog/service/mysql/article.go:43
[2.659ms] [rows:1] UPDATE `article` SET `view_num`=13 WHERE article_id=66707655401444865
